!function(a,b){var c=function(a,b){"use strict";if(b.getElementsByClassName){var c,d=b.documentElement,e=a.Date,f=a.HTMLPictureElement,g=a.addEventListener,h=a.setTimeout,i=a.requestAnimationFrame||h,j=a.requestIdleCallback,k=/^picture$/i,l=["load","error","lazyincluded","_lazyloaded"],m={},n=Array.prototype.forEach,o=function(a,b){return m[b]||(m[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),m[b].test(a.getAttribute("class")||"")&&m[b]},p=function(a,b){o(a,b)||a.setAttribute("class",(a.getAttribute("class")||"").trim()+" "+b)},q=function(a,b){var c;(c=o(a,b))&&a.setAttribute("class",(a.getAttribute("class")||"").replace(c," "))},r=function(a,b,c){var d=c?"addEventListener":"removeEventListener";c&&r(a,b),l.forEach(function(c){a[d](c,b)})},s=function(a,c,d,e,f){var g=b.createEvent("CustomEvent");return g.initCustomEvent(c,!e,!f,d||{}),a.dispatchEvent(g),g},t=function(b,d){var e;!f&&(e=a.picturefill||c.pf)?e({reevaluate:!0,elements:[b]}):d&&d.src&&(b.src=d.src)},u=function(a,b){return(getComputedStyle(a,null)||{})[b]},v=function(a,b,d){for(d=d||a.offsetWidth;d<c.minSize&&b&&!a._lazysizesWidth;)d=b.offsetWidth,b=b.parentNode;return d},w=function(){var a,c,d=[],e=[],f=function(){var b=d;for(d=e,a=!0,c=!1;b.length;)b.shift()();a=!1},g=function(e,g){a&&!g?e.apply(this,arguments):(d.push(e),c||(c=!0,(b.hidden?h:i)(f)))};return g._lsFlush=f,g}(),x=function(a,b){return b?function(){w(a)}:function(){var b=this,c=arguments;w(function(){a.apply(b,c)})}},y=function(a){var b,d=0,f=c.ricTimeout,g=function(){b=!1,d=e.now(),a()},i=j&&c.ricTimeout?function(){j(g,{timeout:f}),f!==c.ricTimeout&&(f=c.ricTimeout)}:x(function(){h(g)},!0);return function(a){var c;(a=!0===a)&&(f=33),b||(b=!0,c=125-(e.now()-d),c<0&&(c=0),a||c<9&&j?i():h(i,c))}},z=function(a){var b,c,d=function(){b=null,a()},f=function(){var a=e.now()-c;a<99?h(f,99-a):(j||d)(d)};return function(){c=e.now(),b||(b=h(f,99))}};!function(){var b,d={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",bufferedClass:"lazybuffered",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,animateExpand:0,ricTimeout:66};c=a.lazySizesConfig||a.lazysizesConfig||{};for(b in d)b in c||(c[b]=d[b]);a.lazySizesConfig=c,h(function(){c.init&&C()})}();var A=function(){var f,i,j,l,m,v,A,C,D,E,F,G,H,I,J,K,L=/^img$/i,M=/^iframe$/i,N="onscroll"in a&&!/glebot/.test(navigator.userAgent),O=0,P=0,Q=-1,R=function(a){P--,a&&a.target&&r(a.target,R),(!a||P<0||!a.target)&&(P=0)},S=function(a,c){var e,f=a,g="hidden"==u(b.body,"visibility")||"hidden"!=u(a,"visibility");for(E-=c,H+=c,F-=c,G+=c;g&&(f=f.offsetParent)&&f!=b.body&&f!=d;)(g=(u(f,"opacity")||1)>0)&&"visible"!=u(f,"overflow")&&(e=f.getBoundingClientRect(),g=G>e.left&&F<e.right&&H>e.top-1&&E<e.bottom+1);return g},T=function(){var a,e,g,h,j,k,m,n,o;if((l=c.loadMode)&&P<8&&(a=v.length)){e=0,Q++,null==J&&("expand"in c||(c.expand=d.clientHeight>500&&d.clientWidth>500?500:370),I=c.expand,J=I*c.expFactor),O<J&&P<1&&Q>2&&l>2&&!b.hidden?(O=J,Q=0):O=l>1&&Q>1&&P<6?I:0;for(;e<a;e++)if(v[e]&&!v[e]._lazyRace)if(N)if((n=v[e].getAttribute("data-expand"))&&(k=1*n)||(k=O),o!==k&&(C=innerWidth+k*K,D=innerHeight+k,m=-1*k,o=k),g=v[e].getBoundingClientRect(),(H=g.bottom)>=m&&(E=g.top)<=D&&(G=g.right)>=m*K&&(F=g.left)<=C&&(H||G||F||E)&&(i&&P<3&&!n&&(l<3||Q<4)||S(v[e],k))){if(_(v[e]),j=!0,P>9)break}else!j&&i&&!h&&P<4&&Q<4&&l>2&&(f[0]||c.preloadAfterLoad)&&(f[0]||!n&&(H||G||F||E||"auto"!=v[e].getAttribute(c.sizesAttr)))&&(h=f[0]||v[e]);else _(v[e]);h&&!j&&_(h)}W()},U=y(T),V=function(a){p(a,c.loadedClass),q(a,c.loadingClass),q(a,c.bufferedClass)},W=function(){if(A.length>0)for(var a,b,d=c.animateExpand,e=0,f=0;f<A.length;f++){var g=A[f],h=g.getAttribute("data-animate");h&&(d=h),a=A[f].getBoundingClientRect(),b!==d&&(C=innerWidth+d*K,D=innerHeight+d,e=-1*d,b=d),(H=a.bottom)>=e&&(E=a.top)<=D&&(G=a.right)>=e*K&&(F=a.left)<=C&&(H||G||F||E)&&o(g,c.bufferedClass)&&V(g)}},X=function(a){p(a.target,c.bufferedClass),W()},Y=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},Z=function(a){var b,d,e=a.getAttribute(c.srcsetAttr);(b=c.customMedia[a.getAttribute("data-media")||a.getAttribute("media")])&&a.setAttribute("media",b),e&&a.setAttribute("srcset",e),b&&(d=a.parentNode,d.insertBefore(a.cloneNode(),a),d.removeChild(a))},$=x(function(a,b,d,e,f){var g,i,l,m,o,u;(o=s(a,"lazybeforeunveil",b)).defaultPrevented||(e&&(d?p(a,c.autosizesClass):a.setAttribute("sizes",e)),i=a.getAttribute(c.srcsetAttr),g=a.getAttribute(c.srcAttr),f&&(l=a.parentNode,m=l&&k.test(l.nodeName||"")),u=b.firesLoad||"src"in a&&(i||g||m),o={target:a},u&&(r(a,R,!0),clearTimeout(j),j=h(R,2500),p(a,c.loadingClass),r(a,X,!0)),m&&n.call(l.getElementsByTagName("source"),Z),i?a.setAttribute("srcset",i):g&&!m&&(M.test(a.nodeName)?Y(a,g):a.src=g),(i||m)&&t(a,{src:g})),a._lazyRace&&delete a._lazyRace,q(a,c.lazyClass),w(function(){u&&!ba(a)||(u?R(o):P--)},!0)}),_=function(a){var b,d=L.test(a.nodeName),e=d&&(a.getAttribute(c.sizesAttr)||a.getAttribute("sizes")),f="auto"==e;(!f&&i||!d||!a.src&&!a.srcset||a.complete||o(a,c.errorClass))&&(b=s(a,"lazyunveilread").detail,f&&B.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,P++,$(a,b,f,e,d))},aa=function(){if(!i){if(e.now()-m<999)return void h(aa,999);var a=z(function(){c.loadMode=3,U()});i=!0,c.loadMode=3,U(),g("scroll",function(){3==c.loadMode&&(c.loadMode=2),a()},!0)}},ba=function(a){return!(!a.complete||void 0!==a.naturalWidth&&0===a.naturalWidth)};return{_:function(){m=e.now(),v=b.getElementsByClassName(c.lazyClass),A=b.getElementsByClassName(c.bufferedClass),f=b.getElementsByClassName(c.lazyClass+" "+c.preloadClass),K=c.hFac,g("scroll",U,!0),g("resize",U,!0),a.MutationObserver?new MutationObserver(U).observe(d,{childList:!0,subtree:!0,attributes:!0}):(d.addEventListener("DOMNodeInserted",U,!0),d.addEventListener("DOMAttrModified",U,!0),setInterval(U,999)),g("hashchange",U,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(a){b.addEventListener(a,U,!0)}),/d$|^c/.test(b.readyState)?aa():(g("load",aa),b.addEventListener("DOMContentLoaded",U),h(aa,2e4)),v.length?(T(),w._lsFlush()):U()},checkElems:U,unveil:_}}(),B=function(){var a,d=x(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),k.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;f<g;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||t(a,c.detail)}),e=function(a,b,c){var e,f=a.parentNode;f&&(c=v(a,f,c),e=s(a,"lazybeforesizes",{width:c,dataAttr:!!b}),e.defaultPrevented||(c=e.detail.width)&&c!==a._lazysizesWidth&&d(a,f,e,c))},f=function(){var b,c=a.length;if(c)for(b=0;b<c;b++)e(a[b])},h=z(f);return{_:function(){a=b.getElementsByClassName(c.autosizesClass),g("resize",h)},checkElems:h,updateElem:e}}(),C=function(){C.i||(C.i=!0,B._(),A._())};return{cfg:c,autoSizer:B,loader:A,init:C,uP:t,aC:p,rC:q,hC:o,fire:s,gW:v,rAF:w}}}(a,a.document);a.lazySizes=c,"object"==typeof module&&module.exports&&(module.exports=c)}(window);