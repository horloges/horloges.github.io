!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/static/themes/actu_v2/",n(n.s=39)}([function(e,t,n){"use strict";n.d(t,"c",(function(){return I})),n.d(t,"L",(function(){return E})),n.d(t,"e",(function(){return C})),n.d(t,"M",(function(){return D})),n.d(t,"w",(function(){return k})),n.d(t,"y",(function(){return P})),n.d(t,"Gb",(function(){return R})),n.d(t,"tb",(function(){return U})),n.d(t,"Db",(function(){return B})),n.d(t,"x",(function(){return q})),n.d(t,"ub",(function(){return N})),n.d(t,"sb",(function(){return M})),n.d(t,"R",(function(){return F})),n.d(t,"Q",(function(){return L})),n.d(t,"pb",(function(){return V})),n.d(t,"ob",(function(){return W})),n.d(t,"qb",(function(){return K})),n.d(t,"nb",(function(){return Y})),n.d(t,"xb",(function(){return H})),n.d(t,"q",(function(){return X})),n.d(t,"n",(function(){return $})),n.d(t,"J",(function(){return Q})),n.d(t,"fb",(function(){return ee})),n.d(t,"lb",(function(){return te})),n.d(t,"ab",(function(){return ne})),n.d(t,"ib",(function(){return re})),n.d(t,"jb",(function(){return ie})),n.d(t,"cb",(function(){return ae})),n.d(t,"db",(function(){return oe})),n.d(t,"eb",(function(){return ce})),n.d(t,"a",(function(){return se})),n.d(t,"k",(function(){return de})),n.d(t,"b",(function(){return ue})),n.d(t,"V",(function(){return pe})),n.d(t,"Fb",(function(){return be})),n.d(t,"g",(function(){return me})),n.d(t,"W",(function(){return ge})),n.d(t,"X",(function(){return ve})),n.d(t,"o",(function(){return ye})),n.d(t,"Hb",(function(){return Oe})),n.d(t,"u",(function(){return je})),n.d(t,"z",(function(){return Ie})),n.d(t,"O",(function(){return _e})),n.d(t,"F",(function(){return we})),n.d(t,"A",(function(){return Te})),n.d(t,"gb",(function(){return Ee})),n.d(t,"Z",(function(){return Se})),n.d(t,"E",(function(){return Ae})),n.d(t,"I",(function(){return Ce})),n.d(t,"Bb",(function(){return De})),n.d(t,"d",(function(){return ke})),n.d(t,"r",(function(){return Pe})),n.d(t,"U",(function(){return Re})),n.d(t,"kb",(function(){return Ue})),n.d(t,"yb",(function(){return Be})),n.d(t,"zb",(function(){return qe})),n.d(t,"Cb",(function(){return Ne})),n.d(t,"K",(function(){return Me})),n.d(t,"T",(function(){return ze})),n.d(t,"h",(function(){return Fe})),n.d(t,"s",(function(){return Le})),n.d(t,"S",(function(){return Ge})),n.d(t,"C",(function(){return Ve})),n.d(t,"mb",(function(){return We})),n.d(t,"N",(function(){return Ke})),n.d(t,"B",(function(){return Ye})),n.d(t,"Y",(function(){return Je})),n.d(t,"D",(function(){return Xe})),n.d(t,"Ib",(function(){return $e})),n.d(t,"hb",(function(){return Qe})),n.d(t,"l",(function(){return Ze})),n.d(t,"j",(function(){return et})),n.d(t,"wb",(function(){return tt})),n.d(t,"Eb",(function(){return nt})),n.d(t,"m",(function(){return rt})),n.d(t,"bb",(function(){return it})),n.d(t,"t",(function(){return at})),n.d(t,"i",(function(){return ot})),n.d(t,"H",(function(){return ct})),n.d(t,"G",(function(){return st})),n.d(t,"v",(function(){return ut})),n.d(t,"vb",(function(){return lt})),n.d(t,"f",(function(){return pt})),n.d(t,"rb",(function(){return bt})),n.d(t,"p",(function(){return mt})),n.d(t,"P",(function(){return gt})),n.d(t,"Ab",(function(){return vt}));var r=n(1),i=n(36),a=n.n(i),o=n(3),c=n(4);n(9),n(35);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){c=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m,g=Object.prototype.toString,v=Boolean(window.console),y=Boolean(v&&window.console.log),h=Boolean(v&&window.console.info),O=Boolean(v&&window.console.warn),j=Boolean(v&&window.console.error);function I(e){m=e}function _(){null!=m&&m.apply(void 0,arguments)}var w={checkCookieSupport:Fe,createTrackPixelIframeHtml:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)return"";t&&(e=encodeURI(e));n&&(n='sandbox="'.concat(n,'"'));return"<iframe ".concat(n,' id="').concat(D(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')},getWindowSelf:L,getWindowTop:F,getWindowLocation:G,insertUserSyncIframe:ve,insertElement:pe,isFn:ee,triggerPixel:be,logError:Y,logWarn:K,logMessage:V,logInfo:W,parseQS:dt,formatQS:ut,deepEqual:ft},T={};function E(){return T}var S,A={},C=function(e,t){return t}.bind(null,1,A)()===A?Function.prototype.bind:function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},x=(S=0,function(){return++S});function D(){return x()+Math.random().toString(16).substr(2)}function k(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,k)}function P(e,t){return t&&t[e]?t[e]:""}function R(e,t,n){return n?e+t+"="+encodeURIComponent(n)+"&":e}function U(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t=t.replace(/&$/,"")}function B(e){return e&&Object.getOwnPropertyNames(e).length>0?(t=e,Object.keys(t)).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(_e(e,t)))})).join("&"):"";var t}function q(e){if(e){var t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){var n=e.mediaTypes.banner.sizes;Array.isArray(n[0])?t=n:t.push(n)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t}}function N(e){var t=[];if("string"==typeof e){var n=e.split(","),r=/^(\d)+x(\d)+$/i;if(n)for(var i in n)le(n,i)&&n[i].match(r)&&t.push(n[i])}else if("object"===b(e)){var a=e.length;if(a>0)if(2===a&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(M(e));else for(var o=0;o<a;o++)t.push(M(e[o]))}return t}function M(e){if(z(e))return e[0]+"x"+e[1]}function z(e){return ne(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function F(){return window.top}function L(){return window.self}function G(){return window.location}function V(){X()&&y&&console.log.apply(console,J(arguments,"MESSAGE:"))}function W(){X()&&h&&console.info.apply(console,J(arguments,"INFO:"))}function K(){X()&&O&&console.warn.apply(console,J(arguments,"WARNING:")),_(c.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}function Y(){X()&&j&&console.error.apply(console,J(arguments,"ERROR:")),_(c.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function H(e){function t(t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(void 0,[e].concat(r))}}return{logError:t(Y),logWarn:t(K),logMessage:t(V),logInfo:t(W)}}function J(e,t){e=[].slice.call(e);var n=r.b.getCurrentBidder();return t&&e.unshift(t),n&&e.unshift(i("#aaa")),e.unshift(i("#3b88c3")),e.unshift("%cPrebid"+(n?"%c".concat(n):"")),e;function i(e){return"display: inline-block; color: #fff; background: ".concat(e,"; padding: 1px 4px; border-radius: 3px;")}}function X(){return!!r.b.getConfig("debug")}function $(){var e=document.createElement("iframe");return e.id=D(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e}function Q(e){return dt(G().search)[e]||""}function Z(e,t){return g.call(e)==="[object "+t+"]"}function ee(e){return Z(e,"Function")}function te(e){return Z(e,"String")}function ne(e){return Z(e,"Array")}function re(e){return Z(e,"Number")}function ie(e){return Z(e,"Object")}function ae(e){return Z(e,"Boolean")}function oe(e){if(!e)return!0;if(ne(e)||te(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function ce(e){return te(e)&&(!e||0===e.length)}function se(e,t){if(!oe(e)){if(ee(e.forEach))return e.forEach(t,this);var n=0,r=e.length;if(r>0)for(;n<r;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}}function de(e,t){if(oe(e))return!1;if(ee(e.indexOf))return-1!==e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}function ue(e,t){if(oe(e))return[];if(ee(e.map))return e.map(t);var n=[];return se(e,(function(r,i){n.push(t(r,i,e))})),n}function le(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function pe(e,t,n,r){var i;t=t||document,i=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var a=r?null:i.firstChild;return i.insertBefore(e,a)}}catch(e){}}function fe(e,t){var n=null;return new Promise((function(r){var i=function t(){e.removeEventListener("load",t),e.removeEventListener("error",t),null!=n&&window.clearTimeout(n),r()};e.addEventListener("load",i),e.addEventListener("error",i),null!=t&&(n=window.setTimeout(i,t))}))}function be(e,t,n){var r=new Image;t&&w.isFn(t)&&fe(r,n).then(t),r.src=e}function me(e){var t=e.source,n=e.burl;t===c.S2S.SRC&&n&&w.triggerPixel(n)}function ge(e){if(e){var t=document.createElement("iframe");t.id=D(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",w.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}}function ve(e,t,n){var r=w.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=r;var a=i.firstChild;t&&w.isFn(t)&&fe(a,n).then(t),w.insertElement(a,document,"html",!0)}function ye(e){if(!e)return"";var t='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return t+='<img src="'+encodeURI(e)+'"></div>'}function he(e,t,n){return null==t?n:te(t)?t:re(t)?t.toString():void w.logWarn("Unsuported type for param: "+e+" required type: String")}function Oe(e,t,n){return n.indexOf(e)===t}function je(e,t){return e.concat(t)}function Ie(e,t){var n;if(e)return t.some((function(t){var r=Object(o.b)(t.bids,(function(t){return["bidId","adId","bid_id"].some((function(n){return t[n]===e}))}));return r&&(n=r),r})),n}function _e(e,t){return e[t]}function we(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n}function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits;return e.map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(je,[])})).reduce(je,[]).filter(Oe)}function Ee(){if(window.googletag&&ee(window.googletag.pubads)&&ee(window.googletag.pubads().getSlots))return!0}function Se(){if(window.apntag&&ee(window.apntag.getTag))return!0}var Ae=xe("timeToRespond",(function(e,t){return e>t})),Ce=xe("responseTimestamp",(function(e,t){return e>t}));xe("responseTimestamp",(function(e,t){return e<t}));function xe(e,t){return function(n,r){return n.cpm===r.cpm?t(n[e],r[e])?r:n:n.cpm<r.cpm?r:n}}function De(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r}return e}function ke(e,t){return Object(o.c)(e,t&&t.adUnitCode)}function Pe(e){return a()(e)}function Re(){try{return w.getWindowSelf()!==w.getWindowTop()}catch(e){return!0}}function Ue(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function Be(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)}function qe(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)}function Ne(){return(new Date).getTime()}function Me(){return window.performance&&window.performance.now&&window.performance.now()||0}function ze(){return!1!==r.b.getConfig("deviceAccess")}function Fe(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Le(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var n=0;return function(){++n===t&&e.apply(this,arguments)}}function Ge(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})}function Ve(e,t){return t.filter((function(t){return e[t]})).reduce((function(t,n){return f(t,p({},n,e[n]))}),{})}function We(e){var t=["banner","native","video"];return!!Object.keys(e).every((function(e){return Object(o.c)(t,e)}))&&(!e.video||!e.video.context||Object(o.c)(["instream","outstream","adpod"],e.video.context))}function Ke(e,t,n){return e.filter((function(e){return e.code===t})).map((function(e){return e.bids})).reduce(je,[]).filter((function(e){return e.bidder===n})).map((function(e){return e.params||{}}))}function Ye(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}var He=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function Je(e){return function(t){return He(e,t)}}function Xe(e){var t;return Ee()&&(t=Object(o.b)(window.googletag.pubads().getSlots(),function(e){return function(t){return He(t,e)}}(e))),t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}function $e(e,t){var n=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(n," ad unit\n    containing bidders that don't support ").concat(n,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")}function Qe(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function Ze(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")}function et(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function tt(e,t){return"object"!==b(e)?{}:t.reduce((function(n,r,i){if("function"==typeof r)return n;var a=r,o=r.match(/^(.+?)\sas\s(.+?)$/i);o&&(r=o[1],a=o[2]);var c=e[r];return"function"==typeof t[i+1]&&(c=t[i+1](c,n)),void 0!==c&&(n[a]=c),n}),{})}function nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keywords",n=[];return se(e,(function(e,r){if(ne(e)){var i=[];se(e,(function(e){((e=he(t+"."+r,e))||""===e)&&i.push(e)})),e=i}else{if(!te(e=he(t+"."+r,e)))return;e=[e]}n.push({key:r,value:e})})),n}function rt(e,t){return Object.keys(e).forEach((function(n){var r,i;t[n]&&(ee(e[n])?t[n]=e[n](t[n]):t[n]=(r=e[n],i=t[n],"string"===r?i&&i.toString():"number"===r?Number(i):i),isNaN(t[n])&&delete t.key)})),t}function it(e,t){return ne(e)&&(!t||e.length===t)&&e.every((function(e){return Qe(e)}))}function at(e,t){for(var n=[],r=0;r<t;r++){var i=ie(e)?Pe(e):e;n.push(i)}return n}function ot(e,t){for(var n=[],r=0;r<Math.ceil(e.length/t);r++){var i=r*t,a=i+t;n.push(e.slice(i,a))}return n}function ct(e){return Math.min.apply(Math,d(e))}function st(e){return Math.max.apply(Math,d(e))}function dt(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var n=s(t.split("="),2),r=n[0],i=n[1];return/\[\]$/.test(r)?(e[r=r.replace("[]","")]=e[r]||[],e[r].push(i)):e[r]=i||"",e}),{}):{}}function ut(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return"".concat(t,"[]=").concat(e)})).join("&"):"".concat(t,"=").concat(e[t])})).join("&")}function lt(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:r?n.search:w.parseQS(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}function pt(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(w.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}function ft(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.checkTypes,i=void 0!==r&&r;if(e===t)return!0;if("object"!==b(e)||null===e||"object"!==b(t)||null===t||i&&e.constructor!==t.constructor)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var a in e){if(!t.hasOwnProperty(a))return!1;if(!ft(e[a],t[a],{checkTypes:i}))return!1}return!0}function bt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var i=n.shift();if(ie(e)&&ie(i)){var a=function(t){ie(i[t])?(e[t]||f(e,p({},t,{})),bt(e[t],i[t])):ne(i[t])?e[t]?ne(e[t])&&i[t].forEach((function(n){for(var r=1,i=0;i<e[t].length;i++)if(ft(e[t][i],n)){r=0;break}r&&e[t].push(n)})):f(e,p({},t,d(i[t]))):f(e,p({},t,i[t]))};for(var o in i)a(o)}return bt.apply(void 0,[e].concat(n))}function mt(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=function(e,t){if(ee(Math.imul))return Math.imul(e,t);var n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n},i=3735928559^n,a=1103547991^n,o=0;o<e.length;o++)i=r(i^(t=e.charCodeAt(o)),2654435761),a=r(a^t,1597334677);return i=r(i^i>>>16,2246822507)^r(a^a>>>13,3266489909),(4294967296*(2097151&(a=r(a^a>>>16,2246822507)^r(i^i>>>13,3266489909)))+(i>>>0)).toString()}function gt(e){return e?e.defaultView:null}function vt(e){try{return JSON.parse(e)}catch(e){}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return O}));var r=n(31),i=n(3),a=n(0),o=n(9),c=n(4),s=["fpd"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b="TRUE"===Object(a.J)(c.DEBUG_MODE).toUpperCase(),m=window.location.origin,g="random",v={};v[g]=!0,v.fixed=!0;var y=g,h={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"};var O=function(){var e,t,n,c=[],g=null;function O(){e={};var o={_debug:b,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:3e3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:m,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_priceGranularity:h.MEDIUM,set priceGranularity(e){s(e)&&("string"==typeof e?this._priceGranularity=c(e)?e:h.MEDIUM:Object(a.jb)(e)&&(this._customPriceBucket=e,this._priceGranularity=h.CUSTOM,Object(a.pb)("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(e){var t=this;this._mediaTypePriceGranularity=Object.keys(e).reduce((function(n,r){return s(e[r])?"string"==typeof e?n[r]=c(e[r])?e[r]:t._priceGranularity:Object(a.jb)(e)&&(n[r]=e[r],Object(a.pb)("Using custom price granularity for ".concat(r))):Object(a.qb)("Invalid price granularity for media type: ".concat(r)),n}),{})},_sendAllBids:!0,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:!1,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:!0,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:y,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){v[e]?this._bidderSequence=e:Object(a.qb)("Invalid order: ".concat(e,". Bidder Sequence was not set."))},_timeoutBuffer:400,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:!1,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e},_maxNestedIframes:10,get maxNestedIframes(){return this._maxNestedIframes},set maxNestedIframes(e){this._maxNestedIframes=e},_auctionOptions:{},get auctionOptions(){return this._auctionOptions},set auctionOptions(e){(function(e){if(!Object(a.jb)(e))return Object(a.qb)("Auction Options must be an object"),!1;for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("secondaryBidders"!==r&&"suppressStaleRender"!==r)return Object(a.qb)("Auction Options given an incorrect param: ".concat(r)),!1;if("secondaryBidders"===r){if(!Object(a.ab)(e[r]))return Object(a.qb)("Auction Options ".concat(r," must be of type Array")),!1;if(!e[r].every(a.lb))return Object(a.qb)("Auction Options ".concat(r," must be only string")),!1}else if("suppressStaleRender"===r&&!Object(a.cb)(e[r]))return Object(a.qb)("Auction Options ".concat(r," must be of type boolean")),!1}return!0})(e)&&(this._auctionOptions=e)}};function c(e){return Object(i.b)(Object.keys(h),(function(t){return e===h[t]}))}function s(e){if(!e)return Object(a.nb)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)c(e)||Object(a.qb)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(Object(a.jb)(e)&&!Object(r.b)(e))return Object(a.nb)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}t&&E(Object.keys(t).reduce((function(e,n){return t[n]!==o[n]&&(e[n]=o[n]||{}),e}),{})),t=o,n={}}function j(){if(g&&n&&Object(a.jb)(n[g])){var e=n[g],r=new Set(Object.keys(t).concat(Object.keys(e)));return Object(i.a)(r).reduce((function(n,r){return void 0===e[r]?n[r]=t[r]:void 0===t[r]?n[r]=e[r]:Object(a.jb)(e[r])?n[r]=Object(a.rb)({},t[r],e[r]):n[r]=e[r],n}),{})}return f({},t)}function I(e){var t={};return Object.keys(e).forEach((function(n){var r="context"===n?"site":n;t[r]="site"===r||"user"===r?Object.keys(e[n]).reduce((function(t,r){return"data"===r?Object(a.rb)(t,{ext:{data:e[n][r]}}):Object(a.rb)(t,l({},r,e[n][r])),t}),{}):e[n]})),t}function _(e){var t={};return Object.keys(e).filter((function(e){return"context"===e})).forEach((function(n){Object.keys(e[n]).forEach((function(r){"data"===r?Object(a.rb)(t,{ext:{data:e[n][r]}}):"object"!==p(e[n][r])||Array.isArray(e[n][r])?Object(a.rb)(t,{ext:{data:l({},r.toLowerCase(),e[n][r])}}):Object.keys(e[n][r]).forEach((function(i){Object(a.rb)(t,{ext:{data:l({},r.toLowerCase(),l({},i.toLowerCase(),e[n][r][i]))}})}))}))})),t}function w(n){if(Object(a.jb)(n)){var r=Object.keys(n),i={};r.forEach((function(r){var o="fpd"===r?"ortb2":r,c="fpd"===r?I(n[r]):n[r];Object(a.jb)(e[o])&&Object(a.jb)(c)&&(c=f({},e[o],c)),i[o]=t[o]=c})),E(i)}else Object(a.nb)("setConfig options must be an object")}function T(e,t){var n=t;if("string"!=typeof e&&(n=e,e="*"),"function"==typeof n){var r={topic:e,callback:n};return c.push(r),function(){c.splice(c.indexOf(r),1)}}Object(a.nb)("listener must be a function")}function E(e){var t=Object.keys(e);c.filter((function(e){return Object(i.c)(t,e.topic)})).forEach((function(t){t.callback(l({},t.topic,e[t.topic]))})),c.filter((function(e){return"*"===e.topic})).forEach((function(t){return t.callback(e)}))}function S(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{r(e),e.bidders.forEach((function(r){n[r]||(n[r]={}),Object.keys(e.config).forEach((function(i){var o="fpd"===i?"ortb2":i,c="fpd"===i?I(e.config[i]):e.config[i];if(Object(a.jb)(c)){var s=t?a.rb:Object.assign;n[r][o]=s({},n[r][o]||{},c)}else n[r][o]=c}))}))}catch(e){Object(a.nb)(e)}function r(e){if(!Object(a.jb)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!Object(a.jb)(e.config))throw"setBidderConfig bidder options must contain a config object"}}function A(e,t){g=e;try{return t()}finally{C()}}function C(){g=null}return O(),{getCurrentBidder:function(){return g},resetBidder:C,getConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?Object(o.a)(j(),e):j()}return T.apply(void 0,arguments)},readConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0],t=Object(a.r)(j());return e?Object(o.a)(t,e):t}return T.apply(void 0,arguments)},setConfig:w,mergeConfig:function(e){if(Object(a.jb)(e)){var t=Object.keys(e).reduce((function(t,n){var r=j()[n]||{};return t[n]=Object(a.rb)(r,e[n]),t}),{});return w(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)),t}Object(a.nb)("mergeConfig input must be an object")},setDefaults:function(n){Object(a.jb)(e)?(f(e,n),f(t,n)):Object(a.nb)("defaults must be an object")},resetConfig:O,runWithBidder:A,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return A(e,a.e.call.apply(a.e,[t,this].concat(r)))}Object(a.qb)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:S,getBidderConfig:function(){return n},mergeBidderConfig:function(e){return S(e,!0)},convertAdUnitFpd:function(e){var t=[];return e.forEach((function(e){e.fpd?(e.ortb2Imp?Object(a.rb)(e.ortb2Imp,_(e.fpd)):e.ortb2Imp=_(e.fpd),t.push(function(e){e.fpd;return u(e,s)}(e))):t.push(e)})),t},getLegacyFpd:function(e){if("object"===p(e)){var t={};return Object.keys(e).forEach((function(n){var r="site"===n?"context":n;t[r]="context"===r||"user"===r?Object.keys(e[n]).filter((function(e){return"data"!==e})).reduce((function(t,r){return"ext"===r?Object(a.rb)(t,e[n][r]):Object(a.rb)(t,l({},r,e[n][r])),t}),{}):e[n]})),t}},getLegacyImpFpd:function(e){if("object"===p(e)){var t={};return Object(o.a)(e,"ext.data")&&Object.keys(e.ext.data).forEach((function(n){"pbadslot"===n?Object(a.rb)(t,{context:{pbAdSlot:e.ext.data[n]}}):"adserver"===n?Object(a.rb)(t,{context:{adServer:e.ext.data[n]}}):Object(a.rb)(t,{context:{data:l({},n,e.ext.data[n])}})})),t}}}}()},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r="native",i="video",a="banner",o="adpod"},function(e,t,n){"use strict";function r(e,t,n){return e&&e.includes(t,n)||!1}function i(){return Array.from.apply(Array,arguments)}function a(e,t,n){return e&&e.find(t,n)}n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},function(e){e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1,"NO_BID":2},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","NO_BID":"noBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain"},"DEFAULT_TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"}}')},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return e})),n.d(t,"e",(function(){return f}));var r=n(30),i=n.n(r),a=n(24);function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=i()({ready:i.a.SYNC|i.a.ASYNC|i.a.QUEUE}),d=Object(a.a)();s.ready=function(){var e=s.ready;return function(){try{return e.apply(s,arguments)}finally{d.resolve()}}}();var u=d.promise,l=s.get;var p={};function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.postInstallAllowed,i=void 0!==r&&r;s("async",(function(n){n.forEach((function(e){return t.apply(void 0,o(e))})),i&&(p[e]=t)}),e)([])}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=p[e];if(i)return i.apply(void 0,n);l(e).before((function(e,t){t.push(n),e(t)}))}},function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return m}));var r=n(0),i=n(4);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=Array.prototype.slice,c=Array.prototype.push,s=r.b(i.EVENTS,(function(e){return e})),d=i.EVENT_ID_PATHS,u=[],l=function(){var e={},t={};function n(t,n){r.pb("Emitting event for: "+t);var i=n[0]||{},a=i[d[t]],o=e[t]||{que:[]},s=r.b(o,(function(e,t){return t})),l=[];u.push({eventType:t,args:i,id:a,elapsedTime:r.K()}),a&&r.k(s,a)&&c.apply(l,o[a].que),c.apply(l,o.que),r.a(l,(function(e){if(e)try{e.apply(null,n)}catch(e){r.nb("Error executing handler:","events.js",e)}}))}return t.on=function(t,n,i){if(function(e){return r.k(s,e)}(t)){var a=e[t]||{que:[]};i?(a[i]=a[i]||{que:[]},a[i].que.push(n)):a.que.push(n),e[t]=a}else r.nb("Wrong event name : "+t+" Valid event names :"+s)},t.emit=function(e){var t=o.call(arguments,1);n(e,t)},t.off=function(t,n,i){var a=e[t];r.db(a)||r.db(a.que)&&r.db(a[i])||i&&(r.db(a[i])||r.db(a[i].que))||(i?r.a(a[i].que,(function(e){var t=a[i].que;e===n&&t.splice(t.indexOf(e),1)})):r.a(a.que,(function(e){var t=a.que;e===n&&t.splice(t.indexOf(e),1)})),e[t]=a)},t.get=function(){return e},t.getEvents=function(){var e=[];return r.a(u,(function(t){var n=a({},t);e.push(n)})),e},t}();r.c(l.emit.bind(l));var p=l.on,f=l.off,b=(l.get,l.getEvents),m=l.emit},function(e,t,n){"use strict";n.d(t,"b",(function(){return Q})),n.d(t,"d",(function(){return Z})),n.d(t,"c",(function(){return te}));var r=n(0),i=n(9),a=n(32),o=n(17),c=n(10),s=n(16),d=n(1),u=n(5),l=n(3),p=n(25),f=n(19);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function w(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,E(e,t,"get"))}function T(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,E(e,t,"set"),n),n}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var S=new WeakMap,A=new WeakMap,C=new WeakMap,x=new WeakMap,D=new WeakMap,k=function(){function e(){var t,n,r;O(this,e),_(this,S,{writable:!0,value:void 0}),_(this,A,{writable:!0,value:void 0}),_(this,C,{writable:!0,value:void 0}),_(this,x,{writable:!0,value:void 0}),_(this,D,{writable:!0,value:void 0}),r=void 0,(n="generatedTime")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.reset()}return I(e,[{key:"reset",value:function(){var e=this;T(this,C,new Promise((function(t){T(e,x,(function(n){T(e,D,!0),T(e,A,n),t(n)}))}))),T(this,S,!1),T(this,A,null),T(this,D,!1),this.generatedTime=null}},{key:"enable",value:function(){T(this,S,!0)}},{key:"enabled",get:function(){return w(this,S)}},{key:"ready",get:function(){return w(this,D)}},{key:"promise",get:function(){return w(this,D)?Promise.resolve(w(this,A)):(w(this,S)||w(this,x).call(this,null),w(this,C))}},{key:"setConsentData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.Cb)();this.generatedTime=t,w(this,x).call(this,e)}},{key:"getConsentData",value:function(){return w(this,A)}}]),e}(),P=function(e){m(n,e);var t=v(n);function n(){return O(this,n),t.apply(this,arguments)}return I(n,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}}}]),n}(k),R=function(e){m(n,e);var t=v(n);function n(){return O(this,n),t.apply(this,arguments)}return I(n,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:Object(r.lb)(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}}]),n}(k),U=n(6),B=n(4);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){c=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var G="client",V="server",W={},K=W.bidderRegistry={},Y=W.aliasRegistry={},H=[];d.b.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(H=Object(r.ab)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var J={};var X=Object(u.b)("sync",(function(e){var t=e.bidderCode,n=e.auctionId,a=e.bidderRequestId,o=e.adUnits,c=e.src;return o.reduce((function(e,o){return e.push(o.bids.filter((function(e){return e.bidder===t})).reduce((function(e,t){var s=null==(t=L({},t,Object(r.C)(o,["nativeParams","ortb2Imp","mediaType","renderer","storedAuctionResponse"]))).mediaTypes?o.mediaTypes:t.mediaTypes;return Object(r.mb)(s)?t=L({},t,{mediaTypes:s}):Object(r.nb)("mediaTypes is not correctly configured for adunit ".concat(o.code)),e.push(L({},t,{adUnitCode:o.code,transactionId:o.transactionId,sizes:Object(i.a)(s,"banner.sizes")||Object(i.a)(s,"video.playerSize")||[],bidId:t.bid_id||Object(r.M)(),bidderRequestId:a,auctionId:n,src:c,bidRequestsCount:p.a.getRequestsCounter(o.code),bidderRequestsCount:p.a.getBidderRequestsCounter(o.code,t.bidder),bidderWinsCount:p.a.getBidderWinsCounter(o.code,t.bidder)})),e}),[])),e}),[]).reduce(r.u,[]).filter((function(e){return""!==e}))}),"getBids");var $=Object(u.b)("sync",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getS2SBidders,i=void 0===r?te:r;if(null==t)return e;var a=i(t);return e.filter((function(e){return a.has(e.bidder)}))}),"filterBidsForAdUnit");var Q=new R,Z=new P,ee=Object(u.b)("sync",(function(e,t){return Object(a.a)(e,t)}),"setupAdUnitMediaTypes");function te(e){Object(r.ab)(e)||(e=[e]);var t=new Set([null]);return e.filter((function(e){return e&&e.enabled})).flatMap((function(e){return e.bidders})).forEach((function(e){return t.add(e)})),t}var ne=Object(u.b)("sync",(function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.getS2SBidders,o=void 0===a?te:a,c=o(t);return Object(r.A)(e).reduce((function(e,t){return e[c.has(t)?V:G].push(t),e}),(F(n={},G,[]),F(n,V,[]),n))}),"partitionBidders");function re(e,t,n){try{var i=K[e].getSpec();i&&i[t]&&"function"==typeof i[t]&&(Object(r.ob)("Invoking ".concat(e,".").concat(t)),d.b.runWithBidder(e,r.e.call(i[t],i,n)))}catch(n){Object(r.qb)("Error calling ".concat(t," of ").concat(e))}}W.makeBidRequests=Object(u.b)("sync",(function(e,t,n,i,a){U.a(B.EVENTS.BEFORE_REQUEST_BIDS,e),Object(o.b)(e),e=ee(e,a);var c=ne(e,H),s=c[G],u=c[V];d.b.getConfig("bidderSequence")===d.a&&(s=Object(r.Bb)(s));var p=Object(f.a)(),b=[];H.forEach((function(i){if(i&&i.enabled){var a=function(e,t){var n=Object(r.r)(e);return n.forEach((function(e){e.bids=$(e.bids,t).map((function(e){return e.bid_id=Object(r.M)(),e}))})),n=n.filter((function(e){return 0!==e.bids.length}))}(e,i),o=Object(r.w)();u.forEach((function(e){var c=Object(r.M)(),s={bidderCode:e,auctionId:n,bidderRequestId:c,uniquePbsTid:o,bids:X({bidderCode:e,auctionId:n,bidderRequestId:c,adUnits:Object(r.r)(a),src:B.S2S.SRC}),auctionStart:t,timeout:i.timeout,src:B.S2S.SRC,refererInfo:p};0!==s.bids.length&&b.push(s)})),a.forEach((function(e){var t=e.bids.filter((function(e){return Object(l.b)(b,(function(t){return Object(l.b)(t.bids,(function(t){return t.bidId===e.bid_id}))}))}));e.bids=t})),b.forEach((function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=a.filter((function(e){return e.bids.length>0})))}))}}));var m=function(e){var t=Object(r.r)(e);return t.forEach((function(e){e.bids=$(e.bids,null)})),t=t.filter((function(e){return 0!==e.bids.length}))}(e);return s.forEach((function(e){var o=Object(r.M)(),c={bidderCode:e,auctionId:n,bidderRequestId:o,bids:X({bidderCode:e,auctionId:n,bidderRequestId:o,adUnits:Object(r.r)(m),labels:a,src:"client"}),auctionStart:t,timeout:i,refererInfo:p},s=K[e];s||Object(r.nb)("Trying to make a request for bidder that does not exist: ".concat(e)),s&&c.bids&&0!==c.bids.length&&b.push(c)})),Q.getConsentData()&&b.forEach((function(e){e.gdprConsent=Q.getConsentData()})),Z.getConsentData()&&b.forEach((function(e){e.uspConsent=Z.getConsentData()})),b}),"makeBidRequests"),W.callBids=function(e,t,n,i,a,o,c){if(t.length){var u=M(t.reduce((function(e,t){return e[Number(void 0!==t.src&&t.src===B.S2S.SRC)].push(t),e}),[[],[]]),2),l=u[0],p=u[1],f=[];p.forEach((function(e){for(var t=-1,n=0;n<f.length;++n)if(e.uniquePbsTid===f[n].uniquePbsTid){t=n;break}t<=-1&&f.push(e)}));var b=0,m=Object(r.w)();H.forEach((function(e){if(e&&f[b]&&te(e).has(f[b].bidderCode)){var t=Object(s.b)(o,a?{request:a.request.bind(null,"s2s"),done:a.done}:void 0),c=e.bidders,d=K[e.adapter],u=f[b].uniquePbsTid,l=f[b].adUnitsS2SCopy,g=p.filter((function(e){return e.uniquePbsTid===u}));if(d){var v={tid:m,ad_units:l,s2sConfig:e};if(v.ad_units.length){var y=g.map((function(e){return e.start=Object(r.Cb)(),i.bind(e)})),h=Object(r.A)(v.ad_units).filter((function(e){return c.includes(e)}));Object(r.pb)("CALLING S2S HEADER BIDDERS ==== ".concat(h.length>0?h.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only')),g.forEach((function(e){U.a(B.EVENTS.BID_REQUESTED,N(N({},e),{},{tid:m}))})),d.callBids(v,p,n,(function(){return y.forEach((function(e){return e()}))}),t)}}else Object(r.nb)("missing "+e.adapter);b++}})),l.forEach((function(e){e.start=Object(r.Cb)();var t=K[e.bidderCode];d.b.runWithBidder(e.bidderCode,(function(){Object(r.pb)("CALLING BIDDER"),U.a(B.EVENTS.BID_REQUESTED,e)}));var u=Object(s.b)(o,a?{request:a.request.bind(null,e.bidderCode),done:a.done}:void 0),l=i.bind(e);try{d.b.runWithBidder(e.bidderCode,r.e.call(t.callBids,t,e,n,l,u,c,d.b.callbackWithBidder(e.bidderCode)))}catch(t){Object(r.nb)("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),l()}}))}else Object(r.qb)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},W.videoAdapters=[],W.registerBidAdapter=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.supportedMediaTypes,a=void 0===i?[]:i;e&&t?"function"==typeof e.callBids?(K[t]=e,Object(l.c)(a,"video")&&W.videoAdapters.push(t),Object(l.c)(a,"native")&&o.g.push(t)):Object(r.nb)("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):Object(r.nb)("bidAdapter or bidderCode not specified")},W.aliasBidAdapter=function(e,t,n){if(void 0===K[t]){var i=K[e];if(void 0===i){var a=[];H.forEach((function(n){if(n.bidders&&n.bidders.length){var r=n&&n.bidders;n&&Object(l.c)(r,t)?Y[t]=e:a.push(e)}})),a.forEach((function(e){Object(r.nb)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{var s,d=function(e){var t=[];return Object(l.c)(W.videoAdapters,e)&&t.push("video"),Object(l.c)(o.g,e)&&t.push("native"),t}(e);if(i.constructor.prototype!=Object.prototype)(s=new i.constructor).setBidderCode(t);else{var u=i.getSpec(),p=n&&n.gvlid,f=n&&n.skipPbsAliasing;s=Object(c.b)(L({},u,{code:t,gvlid:p,skipPbsAliasing:f})),Y[t]=e}W.registerBidAdapter(s,t,{supportedMediaTypes:d})}catch(t){Object(r.nb)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else Object(r.pb)('alias name "'+t+'" has been already specified.')},W.registerAnalyticsAdapter=function(e){var t=e.adapter,n=e.code,i=e.gvlid;t&&n?"function"==typeof t.enableAnalytics?(t.code=n,J[n]={adapter:t,gvlid:i}):Object(r.nb)('Prebid Error: Analytics adaptor error for analytics "'.concat(n,'"\n        analytics adapter must implement an enableAnalytics() function')):Object(r.nb)("Prebid Error: analyticsAdapter or analyticsCode not specified")},W.enableAnalytics=function(e){Object(r.ab)(e)||(e=[e]),Object(r.a)(e,(function(e){var t=J[e.provider];t&&t.adapter?t.adapter.enableAnalytics(e):Object(r.nb)("Prebid Error: no analytics adapter found in registry for '".concat(e.provider,"'."))}))},W.getBidAdapter=function(e){return K[e]},W.getAnalyticsAdapter=function(e){return J[e]},W.callTimedOutBidders=function(e,t,n){t=t.map((function(t){return t.params=Object(r.N)(e,t.adUnitCode,t.bidder),t.timeout=n,t})),t=Object(r.S)(t,"bidder"),Object.keys(t).forEach((function(e){re(e,"onTimeout",t[e])}))},W.callBidWonBidder=function(e,t,n){t.params=Object(r.N)(n,t.adUnitCode,t.bidder),p.a.incrementBidderWinsCounter(t.adUnitCode,t.bidder),re(e,"onBidWon",t)},W.callSetTargetingBidder=function(e,t){re(e,"onSetTargeting",t)},W.callBidViewableBidder=function(e,t){re(e,"onBidViewable",t)},W.callBidderError=function(e,t,n){re(e,"onBidderError",{error:t,bidderRequest:n})};t.a=W},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),i=n(22),a=n(3);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){o(this,{getAuction:function(t){var n=t.auctionId;if(null!=n)return e().find((function(e){return e.getAuctionId()===n}))},getAdUnit:function(t){var n=t.transactionId;if(null!=n)return e().flatMap((function(e){return e.getAdUnits()})).find((function(e){return e.transactionId===n}))},getMediaTypes:function(e){var t=e.transactionId,n=e.requestId;if(null!=n){var r=this.getBidRequest({requestId:n});if(null!=r&&(null==t||r.transactionId===t))return r.mediaTypes}else if(null!=t){var i=this.getAdUnit({transactionId:t});if(null!=i)return i.mediaTypes}},getBidderRequest:function(t){var n=t.requestId,r=t.bidderRequestId;if(null!=n||null!=r){var i=e().flatMap((function(e){return e.getBidRequests()}));return null!=r&&(i=i.filter((function(e){return e.bidderRequestId===r}))),null==n?i[0]:i.find((function(e){return e.bids&&null!=e.bids.find((function(e){return e.bidId===n}))}))}},getBidRequest:function(t){var n=t.requestId;if(null!=n)return e().flatMap((function(e){return e.getBidRequests()})).flatMap((function(e){return e.bids})).find((function(e){return e&&e.bidId===n}))}})}var s=n(4);var d,u,l=(d=[],(u={}).addWinningBid=function(e){var t=Object(a.b)(d,(function(t){return t.getAuctionId()===e.auctionId}));t?(e.status=s.BID_STATUS.RENDERED,t.addWinningBid(e)):Object(r.qb)("Auction not found when adding winning bid")},u.getAllWinningBids=function(){return d.map((function(e){return e.getWinningBids()})).reduce(r.u,[])},u.getBidsRequested=function(){return d.map((function(e){return e.getBidRequests()})).reduce(r.u,[])},u.getNoBids=function(){return d.map((function(e){return e.getNoBids()})).reduce(r.u,[])},u.getBidsReceived=function(){return d.map((function(e){if(e.getAuctionStatus()===i.a)return e.getBidsReceived()})).reduce(r.u,[]).filter((function(e){return e}))},u.getAllBidsForAdUnitCode=function(e){return d.map((function(e){return e.getBidsReceived()})).reduce(r.u,[]).filter((function(t){return t&&t.adUnitCode===e}))},u.getAdUnits=function(){return d.map((function(e){return e.getAdUnits()})).reduce(r.u,[])},u.getAdUnitCodes=function(){return d.map((function(e){return e.getAdUnitCodes()})).reduce(r.u,[]).filter(r.Hb)},u.createAuction=function(e){var t=e.adUnits,n=e.adUnitCodes,r=e.callback,a=e.cbTimeout,o=e.labels,c=e.auctionId,s=Object(i.e)({adUnits:t,adUnitCodes:n,callback:r,cbTimeout:a,labels:o,auctionId:c});return function(e){d.push(e)}(s),s},u.findBidByAdId=function(e){return Object(a.b)(d.map((function(e){return e.getBidsReceived()})).reduce(r.u,[]),(function(t){return t.adId===e}))},u.getStandardBidderAdServerTargeting=function(){return Object(i.d)()[s.JSON_MAPPING.ADSERVER_TARGETING]},u.setStatusForBids=function(e,t){var n=u.findBidByAdId(e);if(n&&(n.status=t),n&&t===s.BID_STATUS.BID_TARGETING_SET){var r=Object(a.b)(d,(function(e){return e.getAuctionId()===n.auctionId}));r&&r.setBidTargeting(n)}},u.getLastAuctionId=function(){return d.length&&d[d.length-1].getAuctionId()},u.clearAllAuctions=function(){d.length=0},u.index=new c((function(){return d})),u)},function(e,t,n){"use strict";function r(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return A})),n.d(t,"d",(function(){return x})),n.d(t,"a",(function(){return D}));var i=n(7),a=n(1),o=n(23),c=n(26),s=n(17),d=n(18),u=n(4),l=n(6),p=n(3),f=n(16),b=n(0),m=n(9),g=n(2),v=n(5),y=n(13),h=n(8),O=n(14);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){c=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=Object(y.a)("bidderFactory"),E=["cpm","ttl","creativeId","netRevenue","currency"];function S(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function n(e){var n=A(e);i.a.registerBidAdapter(n,e.code,t)}n(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(t){var r,a,o=t;Object(b.jb)(t)&&(o=t.code,r=t.gvlid,a=t.skipPbsAliasing),i.a.aliasRegistry[o]=e.code,n(w({},e,{code:o,gvlid:r,skipPbsAliasing:a}))}))}function A(e){return w(new r(e.code),{getSpec:function(){return Object.freeze(e)},registerSyncs:t,callBids:function(r,c,f,m,g,v){if(Array.isArray(r.bids)){var y={},j=[],I=r.bids.filter(n);if(0!==I.length){var _={};I.forEach((function(e){_[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),C(e,I,r,m,v,{onRequest:function(e){return l.a(u.EVENTS.BEFORE_BIDDER_HTTP,r,e)},onResponse:function(t){g(e.code),j.push(t)},onError:function(t,n){g(e.code),i.a.callBidderError(e.code,n,r),l.a(u.EVENTS.BIDDER_ERROR,{error:n,bidderRequest:r}),Object(b.nb)("Server call for ".concat(e.code," failed: ").concat(t," ").concat(n.status,". Continuing without bids."))},onBid:function(t){var n=_[t.requestId];if(n){if(t.adapterCode=n.bidder,function(e,t){var n=O.a.get(t,"allowAlternateBidderCodes"),r=O.a.get(t,"allowedAlternateBidderCodes");if(e&&t&&t!==e&&(void 0!==n&&!n||Object(b.ab)(r)&&"*"!==r[0]&&!r.includes(e)))return!0;return!1}(t.bidderCode,n.bidder))return void Object(b.qb)("".concat(t.bidderCode," is not a registered partner or known bidder of ").concat(n.bidder,", hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings."));t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||w({},t[n.bidder]);var r=w(Object(o.a)(u.STATUS.GOOD,n),t);T(n.adUnitCode,r)}else Object(b.qb)("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring."))},onCompletion:S})}else S()}function T(e,t){y[e]=!0,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,i=void 0===r?h.a.index:r;function a(){var e=Object.keys(t);return E.every((function(n){return Object(p.c)(e,n)&&!Object(p.c)([void 0,null],t[n])}))}function o(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}if(!e)return Object(b.qb)("No adUnitCode was supplied to addBidResponse."),!1;if(!t)return Object(b.qb)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1;if(!a())return Object(b.nb)(o("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1;if("native"===t.mediaType&&!Object(s.h)(t,{index:i}))return Object(b.nb)(o("Native bid missing some required properties.")),!1;if("video"===t.mediaType&&!Object(d.c)(t,{index:i}))return Object(b.nb)(o("Video bid does not have required vastUrl or renderer property")),!1;if("banner"===t.mediaType&&!k(e,t,{index:i}))return Object(b.nb)(o("Banner bids require a width and height")),!1;return!0}(e,t)&&c(e,t)}function S(){f(),a.b.runWithBidder(e.code,(function(){l.a(u.EVENTS.BIDDER_DONE,r),t(j,r.gdprConsent,r.uspConsent)}))}}});function t(t,n,r){x(e,t,n,r)}function n(t){return!!e.isBidRequestValid(t)||(Object(b.qb)("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(t))),!1)}}var C=Object(v.b)("sync",(function(e,t,n,r,i,a){var o=a.onRequest,c=a.onResponse,s=a.onError,d=a.onBid,u=a.onCompletion,l=e.buildRequests(t,n);if(l&&0!==l.length){Array.isArray(l)||(l=[l]);var p=Object(b.s)(u,l.length);l.forEach((function(t){var n=i((function(n,r){try{n=JSON.parse(n)}catch(e){}var i;n={body:n,headers:{get:r.getResponseHeader.bind(r)}},c(n);try{i=e.interpretResponse(n,t)}catch(t){return Object(b.nb)("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,t),void p()}i&&(Object(b.ab)(i)?i.forEach(d):d(i)),p()})),a=i((function(e,t){s(e,t),p()}));switch(o(t),t.method){case"GET":r("".concat(t.url).concat(function(e){if(e)return"?".concat("object"===_(e)?Object(b.tb)(e):e);return""}(t.data)),{success:n,error:a},void 0,w({method:"GET",withCredentials:!0},t.options));break;case"POST":r(t.url,{success:n,error:a},"string"==typeof t.data?t.data:JSON.stringify(t.data),w({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:Object(b.qb)("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),p()}}))}else u()}),"processBidderRequests"),x=Object(v.b)("async",(function(e,t,n,r){var o=a.b.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(o||!i.a.aliasRegistry[e.code])){var s=a.b.getConfig("userSync.filterSettings"),d=e.getUserSyncs({iframeEnabled:!(!s||!s.iframe&&!s.all),pixelEnabled:!(!s||!s.image&&!s.all)},t,n,r);d&&(Array.isArray(d)||(d=[d]),d.forEach((function(t){c.a.registerSync(t.type,e.code,t.url)})))}}),"registerSyncs");function D(e,t){var n=i.a.getBidAdapter(e);if(n.getSpec().getMappingFileInfo){var r=n.getSpec().getMappingFileInfo(),a=r.localStorageKey?r.localStorageKey:n.getBidderCode(),o=T.getDataFromLocalStorage(a);if(o){try{o=JSON.parse(o)}catch(t){Object(b.nb)("Failed to parse ".concat(e," mapping data stored in local storage"))}return o.mapping[t]?o.mapping[t]:null}}}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,i=void 0===r?h.a.index:r;if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var a=i.getBidRequest(t),o=i.getMediaTypes(t),c=a&&a.sizes||o&&o.banner&&o.banner.sizes,s=Object(b.ub)(c);if(1===s.length){var d=s[0].split("x"),u=j(d,2),l=u[0],p=u[1];return t.width=parseInt(l,10),t.height=parseInt(p,10),!0}return!1}Object(v.a)("checkAdUnitSetup").before((function(e,t){if(!a.b.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter((function(e){return Object(m.a)(e,"mediaTypes.video.context")===g.a})).map((function(e){return e.bids.map((function(e){return e.bidder}))})).reduce(b.u,[]).filter(b.Hb).forEach((function(e){var t=i.a.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){var n=t.getSpec().getMappingFileInfo(),r=n.refreshInDays?n.refreshInDays:1,a=n.localStorageKey?n.localStorageKey:t.getSpec().code,o=T.getDataFromLocalStorage(a);try{(!(o=o?JSON.parse(o):void 0)||Object(b.Cb)()>o.lastUpdated+24*r*60*60*1e3)&&Object(f.a)(n.url,{success:function(t){try{t=JSON.parse(t);var n={lastUpdated:Object(b.Cb)(),mapping:t.mapping};T.setDataInLocalStorage(a,JSON.stringify(n))}catch(t){Object(b.nb)("Failed to parse ".concat(e," bidder translation mapping file"))}},error:function(){Object(b.nb)("Failed to load ".concat(e," bidder translation file"))}})}catch(t){Object(b.nb)("Failed to parse ".concat(e," bidder translation mapping file"))}}})),e.call(this,t)}))},,function(e,t,n){"use strict";function r(){return window.pbjs}n.d(t,"a",(function(){return r})),window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("pbjs")},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var r=n(5),i=n(0),a=n(3),o=n(14),c=["core","prebid-module"],s=[];function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gvlid,n=e.moduleName,r=e.bidderCode,d=e.moduleType,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=l.bidderSettings,f=void 0===p?o.a:p;function b(){if(null==r)return!1;var e=f.get(r,"storageAllowed");return null!=e&&!e}function m(e){if(Object(a.c)(c,d)){return e({valid:!0})}if(b()){Object(i.ob)("bidderSettings denied access to device storage for bidder '".concat(r,"'"));return e({valid:!1})}var o;return u(t,r||n,{hasEnforcementHook:!1},(function(t){if(t&&t.hasEnforcementHook)o=e(t);else{var n={hasEnforcementHook:!1,valid:Object(i.T)()};o=e(n)}})),o}var g=function(e,t,n,r,i,a){var o=function(a){if(a&&a.valid){var o=i&&""!==i?" ;domain=".concat(encodeURIComponent(i)):"",c=n&&""!==n?" ;expires=".concat(n):"",s=null!=r&&"none"==r.toLowerCase()?"; Secure":"";document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(c,"; path=/").concat(o).concat(r?"; SameSite=".concat(r):"").concat(s)}};if(!a||"function"!=typeof a)return m(o);s.push((function(){var e=m(o);a(e)}))},v=function(e,t){var n=function(t){if(t&&t.valid){var n=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return n?decodeURIComponent(n[2]):null}return null};if(!t||"function"!=typeof t)return m(n);s.push((function(){var e=m(n);t(e)}))},y=function(e){var t=function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1};if(!e||"function"!=typeof e)return m(t);s.push((function(){var n=m(t);e(n)}))},h=function(e){var t=function(e){return!(!e||!e.valid)&&(!!Object(i.h)()||(window.document.cookie="prebid.cookieTest",-1!==window.document.cookie.indexOf("prebid.cookieTest")))};if(!e||"function"!=typeof e)return m(t);s.push((function(){var n=m(t);e(n)}))},O=function(e,t,n){var r=function(n){n&&n.valid&&_()&&window.localStorage.setItem(e,t)};if(!n||"function"!=typeof n)return m(r);s.push((function(){var e=m(r);n(e)}))},j=function(e,t){var n=function(t){return t&&t.valid&&_()?window.localStorage.getItem(e):null};if(!t||"function"!=typeof t)return m(n);s.push((function(){var e=m(n);t(e)}))},I=function(e,t){var n=function(t){t&&t.valid&&_()&&window.localStorage.removeItem(e)};if(!t||"function"!=typeof t)return m(n);s.push((function(){var e=m(n);t(e)}))},_=function(e){var t=function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){Object(i.nb)("Local storage api disabled")}return!1};if(!e||"function"!=typeof e)return m(t);s.push((function(){var n=m(t);e(n)}))},w=function(e,t){var n=function(t){if(t&&t.valid){var n=[];if(Object(i.T)())for(var r=document.cookie.split(";");r.length;){var a=r.pop(),o=a.indexOf("=");o=o<0?a.length:o,decodeURIComponent(a.slice(0,o).replace(/^\s+/,"")).indexOf(e)>=0&&n.push(decodeURIComponent(a.slice(o+1)))}return n}};if(!t||"function"!=typeof t)return m(n);s.push((function(){var e=m(n);t(e)}))};return{setCookie:g,getCookie:v,localStorageIsEnabled:y,cookiesAreEnabled:h,setDataInLocalStorage:O,getDataFromLocalStorage:j,removeDataFromLocalStorage:I,hasLocalStorage:_,findSimilarCookies:w}}var u=Object(r.b)("async",(function(e,t,n,r){r(n)}),"validateStorageEnforcement");function l(e){return d({moduleName:e,moduleType:"core"})}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gvlid,n=e.moduleName,r=e.bidderCode;if(arguments.length>1||arguments.length>0&&!Object(i.jb)(arguments[0]))throw new Error("Invalid invocation for getStorageManager");return d({gvlid:t,moduleName:n,bidderCode:r})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(9),i=n(0),a=n(12),o=n(4);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function d(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var u=new WeakSet;function l(e){return null==e?this.defaultScope:e}var p=new(function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,u),this.getSettings=t,this.defaultScope=n}var t,n,a;return t=e,(n=[{key:"get",value:function(e,t){var n=this.getOwn(e,t);return void 0===n&&(n=this.getOwn(null,t)),n}},{key:"getOwn",value:function(e,t){return e=d(this,u,l).call(this,e),Object(r.a)(this.getSettings(),"".concat(e,".").concat(t))}},{key:"getScopes",value:function(){var e=this;return Object.keys(this.getSettings()).filter((function(t){return t!==e.defaultScope}))}},{key:"settingsFor",value:function(e){return Object(i.rb)({},this.ownSettingsFor(null),this.ownSettingsFor(e))}},{key:"ownSettingsFor",value:function(e){return e=d(this,u,l).call(this,e),this.getSettings()[e]||{}}}])&&c(t.prototype,n),a&&c(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}())((function(){return Object(a.a)().bidderSettings||{}}),o.JSON_MAPPING.BD_SETTING_STANDARD)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return d}));var r=n(27),i=n(0),a=n(9),o=n(3);function c(e){var t=this,n=e.url,a=e.config,o=e.id,c=e.callback,s=e.loaded,d=e.adUnitCode;this.url=n,this.config=a,this.handlers={},this.id=o,this.loaded=s,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):Object(i.nb)("Commands given to Renderer.push must be wrapped in a function")},this.callback=c||function(){t.loaded=!0,t.process()},this.render=function(){var e=this,t=arguments,a=function(){e._render?e._render.apply(e,t):Object(i.qb)("No render function was provided, please use .setRender on the renderer")};u(d)?(Object(i.qb)("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(d)),a()):(this.cmd.unshift(a),Object(r.a)(n,"outstream",this.callback,this.documentContext))}.bind(this)}function s(e){return!(!e||!e.url)}function d(e,t,n){var r=null;e.config&&e.config.documentResolver&&(r=e.config.documentResolver(t,document,n)),r||(r=document),e.documentContext=r,e.render(t,e.documentContext)}function u(e){var t=pbjs.adUnits,n=Object(o.b)(t,(function(t){return t.code===e}));if(!n)return!1;var r=Object(a.a)(n,"renderer"),i=!!(r&&r.url&&r.render),c=Object(a.a)(n,"mediaTypes.video.renderer"),s=!!(c&&c.url&&c.render);return!!(i&&!0!==r.backupOnly||s&&!0!==c.backupOnly)}c.install=function(e){return new c({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},c.prototype.getConfig=function(){return this.config},c.prototype.setRender=function(e){this._render=e},c.prototype.setEventHandlers=function(e){this.handlers=e},c.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),Object(i.pb)("Prebid Renderer event for id ".concat(t," type ").concat(n))},c.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){Object(i.nb)("Error processing Renderer command: ",e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n(1),i=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=s();function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.request,c=t.done;return function(t,s,d){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var l,p=u.method||(d?"POST":"GET"),f=document.createElement("a");f.href=t;var b="object"===o(s)&&null!==s?s:{success:function(){Object(i.pb)("xhr success")},error:function(e){Object(i.nb)("xhr error",null,e)}};if("function"==typeof s&&(b.success=s),(l=new window.XMLHttpRequest).onreadystatechange=function(){if(4===l.readyState){"function"==typeof c&&c(f.origin);var e=l.status;e>=200&&e<300||304===e?b.success(l.responseText,l):b.error(l.statusText,l)}},r.b.getConfig("disableAjaxTimeout")||(l.ontimeout=function(){Object(i.nb)("  xhr timeout after ",l.timeout,"ms")}),"GET"===p&&d){var m=Object(i.vb)(t,u);a(m.search,d),t=Object(i.f)(m)}l.open(p,t,!0),r.b.getConfig("disableAjaxTimeout")||(l.timeout=e),u.withCredentials&&(l.withCredentials=!0),Object(i.a)(u.customHeaders,(function(e,t){l.setRequestHeader(t,e)})),u.preflight&&l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("Content-Type",u.contentType||"text/plain"),"function"==typeof n&&n(f.origin),"POST"===p&&d?l.send(d):l.send()}catch(e){Object(i.nb)("xhr construction",e),"object"===o(s)&&null!==s&&s.error(e)}}}},function(e,t,n){"use strict";n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return j}));var r=n(9),i=n(0),a=n(3),o=n(8),c=n(4);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=[],f=Object.keys(c.NATIVE_KEYS).map((function(e){return c.NATIVE_KEYS[e]})),b={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};function m(e){return e&&e.type&&function(e){if(!e||!Object(a.c)(Object.keys(b),e))return Object(i.nb)("".concat(e," nativeParam is not supported")),!1;return!0}(e.type)?b[e.type]:e}function g(e){e.forEach((function(e){var t=e.nativeParams||Object(r.a)(e,"mediaTypes.native");t&&(e.nativeParams=m(t))}))}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,i=void 0===n?o.a.index:n;if(!Object(r.a)(e,"native.clickUrl"))return!1;var c=i.getAdUnit(e).nativeParams;if(!c)return!0;var s=Object.keys(c).filter((function(e){return c[e].required})),d=Object.keys(e.native).filter((function(t){return e.native[t]}));return s.every((function(e){return Object(a.c)(d,e)}))}function y(e,t){var n;return"click"===e.action?n=t.native&&t.native.clickTrackers:(n=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&Object(i.W)(t.native.javascriptTrackers)),(n||[]).forEach(i.Fb),e.action}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,i=void 0===n?o.a.index:n,a={},c=i.getAdUnit(e);Object(r.a)(c,"nativeParams.rendererUrl")?e.native.rendererUrl=I(c.nativeParams.rendererUrl):Object(r.a)(c,"nativeParams.adTemplate")&&(e.native.adTemplate=I(c.nativeParams.adTemplate));var s=!1!==Object(r.a)(c,"nativeParams.sendTargetingKeys"),d=_(c),l=u(u({},e.native),e.native.ext);return delete l.ext,Object.keys(l).forEach((function(t){var n=d[t],i=I(e.native[t])||I(Object(r.a)(e,"native.ext.".concat(t)));if("adTemplate"!==t&&n&&i){var o=Object(r.a)(c,"nativeParams.".concat(t,".sendId"));if("boolean"!=typeof o&&(o=Object(r.a)(c,"nativeParams.ext.".concat(t,".sendId"))),o)i="".concat(n,":").concat(e.adId);var u=Object(r.a)(c,"nativeParams.".concat(t,".sendTargetingKeys"));"boolean"!=typeof u&&(u=Object(r.a)(c,"nativeParams.ext.".concat(t,".sendTargetingKeys"))),("boolean"==typeof u?u:s)&&(a[n]=i)}})),a}function O(e,t){var n={message:"assetResponse",adId:e.adId,assets:[]};return t.native.hasOwnProperty("adTemplate")&&(n.adTemplate=I(t.native.adTemplate)),t.native.hasOwnProperty("rendererUrl")&&(n.rendererUrl=I(t.native.rendererUrl)),e.assets.forEach((function(e){var r=Object(i.F)(c.NATIVE_KEYS,e),a=I(t.native[r]);n.assets.push({key:r,value:a})})),n}function j(e,t){var n={message:"assetResponse",adId:e.adId,assets:[]};return Object.keys(t.native).forEach((function(e,r){if("adTemplate"===e&&t.native[e])n.adTemplate=I(t.native[e]);else if("rendererUrl"===e&&t.native[e])n.rendererUrl=I(t.native[e]);else if("ext"===e)Object.keys(t.native[e]).forEach((function(r){if(t.native[e][r]){var i=I(t.native[e][r]);n.assets.push({key:r,value:i})}}));else if(t.native[e]&&c.NATIVE_KEYS.hasOwnProperty(e)){var i=I(t.native[e]);n.assets.push({key:e,value:i})}})),n}function I(e){return"object"===s(e)&&e.url?e.url:e}function _(e){var t={};return Object(r.a)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((function(e){t[e]="hb_native_".concat(e)})),u(u({},c.NATIVE_KEYS),t)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u}));n(7);var r=n(9),i=n(0),a=n(1),o=(n(3),n(5)),c=n(8),s="outstream",d="instream";function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,i=void 0===n?c.a.index:n,a=Object(r.a)(i.getMediaTypes(e),"video"),o=a&&Object(r.a)(a,"context"),s=i.getAdUnit(e);return l(e,s,a,o)}var l=Object(o.b)("sync",(function(e,t,n,r){return n&&r!==s?a.b.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):(Object(i.nb)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):r!==s||!!(e.renderer||t&&t.renderer||n.renderer)}),"checkVideoBidSetup")},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i=n(0);var a=function(e){function t(e){var t=r.b.getConfig("pageUrl");if(t)return t;try{var n=e.querySelector("link[rel='canonical']");if(null!==n)return n.href}catch(e){}return null}return function(){var n,a,o,c=[],s=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(e),d=r.b.getConfig("maxNestedIframes"),u=!1,l=0,p=!1,f=!1;do{var b=n,m=f,g=void 0,v=!1,y=null;f=!1,n=n?n.parent:e;try{g=n.location.href||null}catch(e){v=!0}if(v)if(m){var h=b.context;try{a=y=h.sourceUrl,p=!0,n===e.top&&(u=!0),h.canonicalUrl&&(o=h.canonicalUrl)}catch(e){}}else{Object(i.qb)("Trying to access cross domain iframe. Continuing without referrer and location");try{var O=b.document.referrer;O&&(y=O,n===e.top&&(u=!0))}catch(e){}!y&&s&&s[l-1]&&(y=s[l-1]),y&&!p&&(a=y)}else{if(g&&(a=y=g,p=!1,n===e.top)){u=!0;var j=t(n.document);j&&(o=j)}n.context&&n.context.sourceUrl&&(f=!0)}c.push(y),l++}while(n!==e.top&&l<d);return c.reverse(),{referer:a||null,reachedTop:u,isAmp:p,numIframes:l-1,stack:c,canonicalUrl:o||null}}}(window)},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"e",(function(){return x})),n.d(t,"b",(function(){return D})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return L}));var r=n(0),i=n(9),a=n(31),o=n(17),c=n(16),s=n(1),d=n(8);function u(e,t){var n=t?"<![CDATA[".concat(t,"]]>"):"";return'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(e,"]]></VASTAdTagURI>\n        <Impression>").concat(n,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?d.a.index:n,i=e.vastXml?e.vastXml:u(e.vastUrl,e.vastImpUrl),a=r.getAuction(e),o={type:"xml",value:i,ttlseconds:Number(e.ttl)};return s.b.getConfig("cache.vasttrack")&&(o.bidder=e.bidder,o.bidid=e.requestId,o.aid=e.auctionId),null!=a&&(o.timestamp=a.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(o.key=e.customCacheKey),o}function p(e,t){var n={puts:e.map(l)};Object(c.a)(s.b.getConfig("cache.url"),function(e){return{success:function(t){var n;try{n=JSON.parse(t).responses}catch(t){return void e(t,[])}n?e(null,n):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,n){e(new Error("Error storing video ad in the cache: ".concat(t,": ").concat(JSON.stringify(n))),[])}}}(t),JSON.stringify(n),{contentType:"text/plain",withCredentials:!0})}var f=n(15),b=n(26),m=n(5),g=n(3),v=n(18),y=n(2),h=n(14),O=n(6),j=n(7),I=n(4);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=b.a.syncUsers,E="completed";O.d(I.EVENTS.BID_ADJUSTMENT,(function(e){!function(e){var t=e.bidderCode,n=e.cpm,i=h.a.get(t||null,"bidCpmAdjustment");if(i&&"function"==typeof i)try{n=i(e.cpm,w({},e))}catch(e){Object(r.nb)("Error during bid adjustment","bidmanager.js",e)}n>=0&&(e.cpm=n)}(e)}));var S={},A={},C=[];function x(e){var t,n,i,a,o=e.adUnits,c=e.adUnitCodes,u=e.callback,l=e.cbTimeout,p=e.labels,f=e.auctionId,b=o,m=p,v=c,y=[],h=[],_=[],w=f||Object(r.w)(),x=u,R=l,q=[],M=new Set;function z(){return{auctionId:w,timestamp:t,auctionEnd:n,auctionStatus:i,adUnits:b,adUnitCodes:v,labels:m,bidderRequests:y,noBids:_,bidsReceived:h,winningBids:q,timeout:R}}function F(e,t){if(t&&clearTimeout(a),void 0===n){var c=[];e&&(Object(r.pb)("Auction ".concat(w," timedOut")),d=M,(c=y.map((function(e){return(e.bids||[]).filter((function(e){return!d.has(e.bidder)}))})).reduce(r.u,[])).length&&O.a(I.EVENTS.BID_TIMEOUT,c)),i=E,n=Date.now(),O.a(I.EVENTS.AUCTION_END,z()),P(b,(function(){try{if(null!=x){var t=v,n=h.filter(r.e.call(r.d,this,t)).reduce(V,{});x.apply(pbjs,[n,e,w]),x=null}}catch(e){Object(r.nb)("Error executing bidsBackHandler",null,e)}finally{c.length&&j.a.callTimedOutBidders(o,c,R);var i=s.b.getConfig("userSync")||{};i.enableOverride||T(i.syncDelay)}}))}var d}function L(){s.b.resetBidder(),Object(r.ob)("Bids Received for Auction with id: ".concat(w),h),i=E,F(!1,!0)}function G(e){M.add(e)}function W(e){var t=this;e.forEach((function(e){var t;t=e,y=y.concat(t)}));var n={},o={bidRequests:e,run:function(){var o,l;o=F.bind(null,!0),l=setTimeout(o,R),a=l,i="inProgress",O.a(I.EVENTS.AUCTION_INIT,z());var p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.index,a=void 0===i?d.a.index:i,o=0,c=!1,u=new Set,l={},p={};function f(e,t){null==p[e]&&(p[e]=Promise.resolve()),p[e]=p[e].then((function(){return Promise.resolve(t).catch((function(){}))}))}function b(e,n){var r=e.timeout;(null==r||r>t.getTimeout())&&(r=t.getTimeout());var i=t.getAuctionStart()+r-Date.now(),a=p[e.bidderRequestId],o=p[""];(null!=a||null!=o)&&i>0?Promise.race([new Promise((function(e){return setTimeout(e,i)})),Promise.resolve(o).then((function(){return a}))]).then(n):n()}function m(){o--,c&&0===o&&e()}function v(e,n){l[n.requestId]=!0,o++;var r=N({adUnitCode:e,bid:n,auctionId:t.getAuctionId()});"video"===r.mediaType?B(t,r,m):(U(t,r),m())}function y(){var n=t.getBidRequests(),i=s.b.getConfig("auctionOptions");if(u.add(this),i&&!Object(r.db)(i)){var a=i.secondaryBidders;a&&!n.every((function(e){return Object(g.c)(a,e.bidderCode)}))&&(n=n.filter((function(e){return!Object(g.c)(a,e.bidderCode)})))}c=n.every((function(e){return u.has(e)})),this.bids.forEach((function(e){l[e.bidId]||(t.addNoBid(e),O.a(I.EVENTS.NO_BID,e))})),c&&0===o&&e()}return{addBidResponse:function(e,t){var n=a.getBidderRequest(t);f(n&&n.bidderRequestId||"",D.call({dispatch:v},e,t))},adapterDone:function(){b(this,y.bind(this))}}}(L,t);j.a.callBids(b,e,p.addBidResponse,p.adapterDone,{request:function(e,t){u(S,t),u(n,e),A[e]||(A[e]={SRA:!0,origin:t}),n[e]>1&&(A[e].SRA=!1)},done:function(e){S[e]--,C[0]&&c(C[0])&&C.shift()}},R,G)}};function c(e){var t=!0,n=s.b.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((function(e){var r=1,i=void 0!==e.src&&e.src===I.S2S.SRC?"s2s":e.bidderCode;return A[i]&&(!1===A[i].SRA&&(r=Math.min(e.bids.length,n)),S[A[i].origin]+r>n&&(t=!1)),!t})),t&&e.run(),t}function u(e,t){void 0===e[t]?e[t]=1:e[t]++}c(o)||(Object(r.qb)("queueing auction due to limited endpoint capacity"),C.push(o))}return{addBidReceived:function(e){h=h.concat(e)},addNoBid:function(e){_=_.concat(e)},executeCallback:F,callBids:function(){i="started",t=Date.now();var e=j.a.makeBidRequests(b,t,w,R,m);Object(r.ob)("Bids Requested for Auction with id: ".concat(w),e),e.length<1?(Object(r.qb)("No valid bid requests returned for auction"),L()):k.call({dispatch:W,context:this},e)},addWinningBid:function(e){q=q.concat(e),j.a.callBidWonBidder(e.bidder,e,o)},setBidTargeting:function(e){j.a.callSetTargetingBidder(e.bidder,e)},getWinningBids:function(){return q},getAuctionStart:function(){return t},getTimeout:function(){return R},getAuctionId:function(){return w},getAuctionStatus:function(){return i},getAdUnits:function(){return b},getAdUnitCodes:function(){return v},getBidRequests:function(){return y},getBidsReceived:function(){return h},getNoBids:function(){return _}}}var D=Object(m.b)("sync",(function(e,t){this.dispatch.call(null,e,t)}),"addBidResponse"),k=Object(m.b)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),P=Object(m.b)("async",(function(e,t){t&&t()}),"bidsBackCallback");function R(e,t){t.timeToRespond>e.getTimeout()+s.b.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function U(e,t){!function(e){var t,n=!0===h.a.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0;e.bidderCode&&(n||e.dealId)&&(t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,i=void 0===r?d.a.index:r;if(!t)return{};var a=i.getBidRequest(t),c={},s=L(t.mediaType,e);G(c,s,t,a),e&&h.a.getOwn(e,I.JSON_MAPPING.ADSERVER_TARGETING)&&(G(c,h.a.ownSettingsFor(e),t,a),t.sendStandardTargeting=h.a.get(e,"sendStandardTargeting"));t.native&&(c=w({},c,Object(o.f)(t)));return c}(e.bidderCode,e));e.adserverTargeting=w(e.adserverTargeting||{},t)}(t),O.a(I.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),R(e,t)}function B(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=a.index,c=void 0===o?d.a.index:o,u=!0,l=Object(i.a)(c.getMediaTypes({requestId:t.originalRequestId||t.requestId,transactionId:t.transactionId}),"video"),p=l&&Object(i.a)(l,"context");s.b.getConfig("cache.url")&&p!==v.b&&(!t.videoCacheKey||s.b.getConfig("cache.ignoreBidderCacheKey")?(u=!1,q(e,t,n,l)):t.vastUrl||(Object(r.nb)("videoCacheKey specified but not required vastUrl for video bid"),u=!1)),u&&(U(e,t),n())}var q=Object(m.b)("async",(function(e,t,n,i){p([t],(function(i,a){var o;i?(Object(r.qb)("Failed to save to the video cache: ".concat(i,". Video bid must be discarded.")),R(e,t)):""===a[0].uuid?(Object(r.qb)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),R(e,t)):(t.videoCacheKey=a[0].uuid,t.vastUrl||(t.vastUrl=(o=t.videoCacheKey,"".concat(s.b.getConfig("cache.url"),"?uuid=").concat(o))),U(e,t),n())}))}),"callPrebidCache");function N(e){var t=e.adUnitCode,n=e.bid,i=e.auctionId,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=o.index,u=void 0===c?d.a.index:c,l=u.getBidderRequest(n),p=l&&l.start||n.requestTimestamp,b=w({},n,{auctionId:i,responseTimestamp:Object(r.Cb)(),requestTimestamp:p,cpm:parseFloat(n.cpm)||0,bidder:n.bidderCode,adUnitCode:t});b.timeToRespond=b.responseTimestamp-b.requestTimestamp,O.a(I.EVENTS.BID_ADJUSTMENT,b);var m=u.getAdUnit(b).renderer,g=b.mediaType,v=u.getMediaTypes(b),y=v&&v[g],h=y&&y.renderer,j=null;h&&h.url&&h.render&&(!0!==h.backupOnly||!n.renderer)?j=h:m&&m.url&&m.render&&(!0!==m.backupOnly||!n.renderer)&&(j=m),j&&(b.renderer=f.a.install({url:j.url,config:j.options}),b.renderer.setRender(j.render));var T=M(n.mediaType,v,s.b.getConfig("mediaTypePriceGranularity")),E=Object(a.a)(b.cpm,"object"===_(T)?T:s.b.getConfig("customPriceBucket"),s.b.getConfig("currency.granularityMultiplier"));return b.pbLg=E.low,b.pbMg=E.med,b.pbHg=E.high,b.pbAg=E.auto,b.pbDg=E.dense,b.pbCg=E.custom,b}function M(e,t,n){if(e&&n){if(e===y.d){var r=Object(i.a)(t,"".concat(y.d,".context"),"instream");if(n["".concat(y.d,"-").concat(r)])return n["".concat(y.d,"-").concat(r)]}return n[e]}}var z=function(e){return function(t){var n=e||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?d.a.index:n,i=M(e.mediaType,r.getMediaTypes(e),s.b.getConfig("mediaTypePriceGranularity")),a="string"==typeof e.mediaType&&i?"string"==typeof i?i:"custom":s.b.getConfig("priceGranularity");return a}(t);return n===I.GRANULARITY_OPTIONS.AUTO?t.pbAg:n===I.GRANULARITY_OPTIONS.DENSE?t.pbDg:n===I.GRANULARITY_OPTIONS.LOW?t.pbLg:n===I.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:n===I.GRANULARITY_OPTIONS.HIGH?t.pbHg:n===I.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:void 0}};function F(e,t){return{key:e,val:"function"==typeof t?function(e,n){return t(e,n)}:function(e){return Object(r.O)(e,t)}}}function L(e,t){var n=I.TARGETING_KEYS,a=w({},h.a.settingsFor(null));if(a[I.JSON_MAPPING.ADSERVER_TARGETING]||(a[I.JSON_MAPPING.ADSERVER_TARGETING]=function(){var e=I.TARGETING_KEYS;return[F(e.BIDDER,"bidderCode"),F(e.AD_ID,"adId"),F(e.PRICE_BUCKET,z()),F(e.SIZE,"size"),F(e.DEAL,"dealId"),F(e.SOURCE,"source"),F(e.FORMAT,"mediaType"),F(e.ADOMAIN,(function(e){return e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?e.meta.advertiserDomains[0]:""}))]}()),"video"===e){var o=a[I.JSON_MAPPING.ADSERVER_TARGETING].slice();if(a[I.JSON_MAPPING.ADSERVER_TARGETING]=o,[n.UUID,n.CACHE_ID].forEach((function(e){void 0===Object(g.b)(o,(function(t){return t.key===e}))&&o.push(F(e,"videoCacheKey"))})),s.b.getConfig("cache.url")&&(!t||!1!==h.a.get(t,"sendStandardTargeting"))){var c=Object(r.vb)(s.b.getConfig("cache.url"));void 0===Object(g.b)(o,(function(e){return e.key===n.CACHE_HOST}))&&o.push(F(n.CACHE_HOST,(function(e){return Object(i.a)(e,"adserverTargeting.".concat(n.CACHE_HOST))?e.adserverTargeting[n.CACHE_HOST]:c.hostname})))}}return a}function G(e,t,n,i){var a=t[I.JSON_MAPPING.ADSERVER_TARGETING];return n.size=n.getSize(),Object(r.a)(a,(function(a){var o=a.key,c=a.val;if(e[o]&&Object(r.qb)("The key: "+o+" is being overwritten"),Object(r.fb)(c))try{c=c(n,i)}catch(e){Object(r.nb)("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&o!==I.TARGETING_KEYS.DEAL||!Object(r.eb)(c)&&null!=c?e[o]=c:Object(r.ob)("suppressing empty key '"+o+"' from adserver targeting")})),e}function V(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.src,i=void 0===n?"client":n,a=t.bidder,o=void 0===a?"":a,c=t.bidId,s=t.transactionId,d=t.auctionId,u=i,l=e||0;function p(){switch(l){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}this.bidderCode=o,this.width=0,this.height=0,this.statusMessage=p(),this.adId=Object(r.M)(),this.requestId=c,this.transactionId=s,this.auctionId=d,this.mediaType="banner",this.source=u,this.getStatusCode=function(){return l},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}function a(e,t){return new i(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.promiseFactory,n=void 0===t?function(e){return new Promise(e)}:t,r={};function i(e){return function(t){"function"==typeof r[e]?r[e](t):r[e]||(r[e]=!0,r[2]=t)}}return{promise:n((function(e,t){null!=r[0]?e(r[2]):null!=r[1]?t(r[2]):(r[0]=e,r[1]=t)})),resolve:i(0),reject:i(1)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(9),i={};function a(e,t,n){var r=function(e,t){var n=i[e]=i[e]||{bidders:{}};return t?n.bidders[t]=n.bidders[t]||{}:n}(e,n);return r[t]=(r[t]||0)+1,r[t]}var o={incrementRequestsCounter:function(e){return a(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return a(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return a(e,"winsCounter",t)},getRequestsCounter:function(e){return Object(r.a)(i,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return Object(r.a)(i,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return Object(r.a)(i,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),i=n(1),a=n(3),o=n(13);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){c=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}i.b.setDefaults({userSync:Object(r.r)({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var u=Object(o.a)("usersync");var l=!Object(r.kb)()&&u.cookiesAreEnabled(),p=function(e){var t={},n={image:[],iframe:[]},o=new Set,s={},u={image:!0,iframe:!1},l=e.config;function p(){if(l.syncEnabled&&e.browserSupportsCookies){try{!function(){if(!u.iframe)return;f(n.iframe,(function(e){var t=c(e,2),i=t[0],a=t[1];Object(r.pb)("Invoking iframe user sync for bidder: ".concat(i)),Object(r.X)(a),function(e,t){e.image=e.image.filter((function(e){return e[0]!==t}))}(n,i)}))}(),function(){if(!u.image)return;f(n.image,(function(e){var t=c(e,2),n=t[0],i=t[1];Object(r.pb)("Invoking image pixel user sync for bidder: ".concat(n)),Object(r.Fb)(i)}))}()}catch(e){return Object(r.nb)("Error firing user syncs",e)}n={image:[],iframe:[]}}}function f(e,t){Object(r.Bb)(e).forEach((function(e){t(e),o.add(e[0])}))}function b(e,t){var n=l.filterSettings;if(function(e,t){if(e.all&&e[t])return Object(r.qb)('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var n=e.all?e.all:e[t],i=e.all?"all":t;if(!n)return!1;var a=n.filter,o=n.bidders;if(a&&"include"!==a&&"exclude"!==a)return Object(r.qb)('UserSync "filterSettings.'.concat(i,".filter\" setting '").concat(a,"' is not a valid option; use either 'include' or 'exclude'.")),!1;if("*"!==o&&!(Array.isArray(o)&&o.length>0&&o.every((function(e){return Object(r.lb)(e)&&"*"!==e}))))return Object(r.qb)('Detected an invalid setup in userSync "filterSettings.'.concat(i,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1;return!0}(n,e)){u[e]=!0;var i=n.all?n.all:n[e],o="*"===i.bidders?[t]:i.bidders;return{include:function(e,t){return!Object(a.c)(e,t)},exclude:function(e,t){return Object(a.c)(e,t)}}[i.filter||"include"](o,t)}return!u[e]}return i.b.getConfig("userSync",(function(e){if(e.userSync){var t=e.userSync.filterSettings;Object(r.jb)(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}l=d(l,e.userSync)})),t.registerSync=function(e,i,a){return o.has(i)?Object(r.pb)('already fired syncs for "'.concat(i,'", ignoring registerSync call')):l.syncEnabled&&Object(r.ab)(n[e])?i?0!==l.syncsPerBidder&&Number(s[i])>=l.syncsPerBidder?Object(r.qb)('Number of user syncs exceeded for "'.concat(i,'"')):t.canBidderRegisterSync(e,i)?(n[e].push([i,a]),void(s=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(s,i))):Object(r.qb)('Bidder "'.concat(i,'" not permitted to register their "').concat(e,'" userSync pixels.')):Object(r.qb)("Bidder is required for registering sync"):Object(r.qb)('User sync type "'.concat(e,'" not supported'))},t.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(p,Number(e));p()},t.triggerUserSyncs=function(){l.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=function(e,t){return!l.filterSettings||!b(e,t)},t}({config:i.b.getConfig("userSync"),browserSupportsCookies:l})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(3),i=n(0),a=new WeakMap,o=["adloox","criteo","outstream","adagio","browsi","brandmetrics","justtag"];function c(e,t,n,c){if(t&&e){if(Object(r.c)(o,t)){c||(c=document);var s=l(c,e);if(s)return n&&"function"==typeof n&&(s.loaded?n():s.callbacks.push(n)),s.tag;var d=a.get(c)||{},u={loaded:!1,tag:null,callbacks:[]};return d[e]=u,a.set(c,d),n&&"function"==typeof n&&u.callbacks.push(n),Object(i.qb)("module ".concat(t," is loading external JavaScript")),function(t,n,r){r||(r=document);var a=r.createElement("script");a.type="text/javascript",a.async=!0;var o=l(r,e);o&&(o.tag=a);a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,n())}:a.onload=function(){n()};return a.src=t,Object(i.V)(a,r),a}(e,(function(){u.loaded=!0;try{for(var e=0;e<u.callbacks.length;e++)u.callbacks[e]()}catch(e){Object(i.nb)("Error executing callback","adloader.js:loadExternalScript",e)}}),c)}Object(i.nb)("".concat(t," not whitelisted for loading external JavaScript"))}else Object(i.nb)("cannot load external script without url and moduleCode");function l(e,t){var n=a.get(e);return n&&n[t]?n[t]:null}}},,,function(e,t){
/*
* @license MIT
* Fun Hooks v0.9.10
* (c) @snapwich
*/
c.SYNC=1,c.ASYNC=2,c.QUEUE=4;var n=Object.freeze({useProxy:!0,ready:0}),r=new WeakMap,i="2,1,0"===[1].reduce((function(e,t,n){return[e,t,n]}),2).toString()?Array.prototype.reduce:function(e,t){var n,r=Object(this),i=r.length>>>0,a=0;if(t)n=t;else{for(;a<i&&!(a in r);)a++;n=r[a++]}for(;a<i;)a in r&&(n=e(n,r[a],a,r)),a++;return n};function a(e,t){return Array.prototype.slice.call(e,t)}var o=Object.assign||function(e){return i.call(a(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),e)};function c(e){var t,s={},d=[];function u(e,t){return"function"==typeof e?b.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?b.apply(null,arguments):"object"==typeof e?l.apply(null,arguments):void 0}function l(e,t,n){var r=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),r=!1);var i={},a=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==a.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var r=t.split(":"),a=r[0],o=r[1]||"sync";if(!i[a]){var c=e[a];i[a]=e[a]=b(o,c,n?[n,a]:void 0)}})),e=Object.getPrototypeOf(e)}while(r&&e);return i}function p(e){var n=Array.isArray(e)?e:e.split(".");return i.call(n,(function(r,i,a){var o=r[i],c=!1;return o||(a===n.length-1?(t||d.push((function(){c||console.warn("fun-hooks: referenced '"+e+"' but it was never created")})),r[i]=f((function(e){r[i]=e,c=!0}))):r[i]={})}),s)}function f(e){var t=[],n=[],i=function(){},a={before:function(e,n){return s.call(this,t,"before",e,n)},after:function(e,t){return s.call(this,n,"after",e,t)},getHooks:function(e){var r=t.concat(n);"object"==typeof e&&(r=r.filter((function(t){return Object.keys(e).every((function(n){return t[n]===e[n]}))})));try{o(r,{remove:function(){return r.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return r},removeAll:function(){return this.getHooks().remove()}},c={install:function(r,a,o){this.type=r,i=o,o(t,n),e&&e(a)}};return r.set(a.after,c),a;function s(e,r,a,o){var c={hook:a,type:r,priority:o||10,remove:function(){var r=e.indexOf(c);-1!==r&&(e.splice(r,1),i(t,n))}};return e.push(c),e.sort((function(e,t){return t.priority-e.priority})),i(t,n),this}}function b(n,i,s){var u=i.after&&r.get(i.after);if(u){if(u.type!==n)throw"fun-hooks: recreated hookable with different type";return i}var l,b,m=s?p(s):f(),g={get:function(e,t){return m[t]||Reflect.get.apply(Reflect,arguments)}};return t||d.push(v),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?b=new Proxy(i,g):o(b=function(){return g.apply?g.apply(i,this,a(arguments)):i.apply(this,arguments)},m),r.get(b.after).install(n,b,(function(e,t){var r,i=[];e.length||t.length?(e.forEach(o),r=i.push(void 0)-1,t.forEach(o),l=function(e,t,o){var c,s=0,d="async"===n&&"function"==typeof o[o.length-1]&&o.pop();function u(e){"sync"===n?c=e:d&&d.apply(null,arguments)}function l(e){if(i[s]){var r=a(arguments);return l.bail=u,r.unshift(l),i[s++].apply(t,r)}"sync"===n?c=e:d&&d.apply(null,arguments)}return i[r]=function(){var r=a(arguments,1);"async"===n&&d&&(delete l.bail,r.push(l));var i=e.apply(t,r);"sync"===n&&l(i)},l.apply(null,o),c}):l=void 0;function o(e){i.push(e.hook)}v()})),b;function v(){!t&&("sync"!==n||e.ready&c.SYNC)&&("async"!==n||e.ready&c.ASYNC)?"sync"!==n&&e.ready&c.QUEUE?g.apply=function(){var e=arguments;d.push((function(){b.apply(e[1],e[2])}))}:g.apply=function(){throw"fun-hooks: hooked function not ready"}:g.apply=l}}return(e=o({},n,e)).ready?u.ready=function(){t=!0,function(e){for(var t;t=e.shift();)t()}(d)}:t=!0,u.get=p,u}e.exports=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var r=n(3),i=n(0),a={buckets:[{max:5,increment:.5}]},o={buckets:[{max:20,increment:.1}]},c={buckets:[{max:20,increment:.01}]},s={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},d={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(e);return isNaN(r)&&(r=""),{low:""===r?"":l(e,a,n),med:""===r?"":l(e,o,n),high:""===r?"":l(e,c,n),auto:""===r?"":l(e,d,n),dense:""===r?"":l(e,s,n),custom:""===r?"":l(e,t,n)}}function l(e,t,n){var i="";if(!p(t))return i;var a=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),o=0,c=Object(r.b)(t.buckets,(function(t){if(e>a.max*n){var r=t.precision;void 0===r&&(r=2),i=(t.max*n).toFixed(r)}else{if(e<=t.max*n&&e>=o*n)return t.min=o,t;o=t.max}}));return c&&(i=function(e,t,n){var r=void 0!==t.precision?t.precision:2,i=t.increment*n,a=t.min*n,o=Math.pow(10,r+2),c=(e*o-a*o)/(i*o),s=Math.floor(c)*i+a;return(s=Number(s.toFixed(10))).toFixed(r)}(e,c,n)),i}function p(e){if(Object(i.db)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(t=!1)})),t}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return f}));var r=n(1),i=n(0),a=n(9),o=n(3);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=[];function d(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=p(t);return!n.shouldFilter||!!n.sizesSupported[e]}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,n=void 0===t?[]:t,r=e.labelAll,c=void 0!==r&&r,d=e.activeLabels,u=void 0===d?[]:d,l=arguments.length>1?arguments[1]:void 0,f=arguments.length>2?arguments[2]:void 0,b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s,m=p(b);l=Object(i.jb)(l)?Object(i.r)(l):f?{banner:{sizes:f}}:{};var g=Object(a.a)(l,"banner.sizes");m.shouldFilter&&g&&(l.banner.sizes=g.filter((function(e){return m.sizesSupported[e]})));var v=Object.keys(l),y={active:v.every((function(e){return"banner"!==e}))||v.some((function(e){return"banner"===e}))&&Object(a.a)(l,"banner.sizes.length")>0&&(0===n.length||!c&&(n.some((function(e){return m.labels[e]}))||n.some((function(e){return Object(o.c)(u,e)})))||c&&n.reduce((function(e,t){return e?m.labels[t]||Object(o.c)(u,t):e}),!0)),mediaTypes:l};return g&&g.length!==l.banner.sizes.length&&(y.filterResults={before:g,after:l.banner.sizes}),y}function p(e){return e.reduce((function(e,t){if("object"===c(t)&&"string"==typeof t.mediaQuery&&t.mediaQuery.length>0){var n=!1;try{n=Object(i.R)().matchMedia(t.mediaQuery).matches}catch(e){Object(i.qb)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),n=matchMedia(t.mediaQuery).matches}n&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach((function(n){return(t[n]||[]).forEach((function(t){return e[n][t]=!0}))})))}else Object(i.qb)('sizeConfig rule missing required property "mediaQuery"');return e}),{labels:{},sizesSupported:{},shouldFilter:!1})}function f(e,t){return e.reduce((function(e,n){var r=l(d(n,t),n.mediaTypes,n.sizes),a=r.active,o=r.mediaTypes,c=r.filterResults;return a?(c&&Object(i.ob)('Size mapping filtered adUnit "'.concat(n.code,'" banner sizes from '),c.before,"to ",c.after),n.mediaTypes=o,n.bids=n.bids.reduce((function(e,r){var a=l(d(r,t),n.mediaTypes),o=a.active,c=a.mediaTypes,s=a.filterResults;return o?(s&&(Object(i.ob)('Size mapping filtered adUnit "'.concat(n.code,'" bidder "').concat(r.bidder,'" banner sizes from '),s.before,"to ",s.after),r.mediaTypes=c),e.push(r)):Object(i.ob)('Size mapping deactivated adUnit "'.concat(n.code,'" bidder "').concat(r.bidder,'"')),e}),[]),e.push(n)):Object(i.ob)('Size mapping disabled adUnit "'.concat(n.code,'"')),e}),[])}r.b.getConfig("sizeConfig",(function(e){return function(e){s=e}(e.sizeConfig)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(41),i=n(42);t.verify=function(e,t,n,a){var o=new r.BigInteger(r.b64toHex(t)),c=new r.BigInteger(r.b64toHex(n)),s=o.modPowInt(a,c);return r.removeExtraSymbols(s.toHexString())===i.Sha256.hash(e)}},,function(e,t,n){"use strict";t.a=function(e,t,n){t.split&&(t=t.split("."));for(var r,i=0,a=t.length,o=e;i<a;++i)r=o[t[i]],o=o[t[i]]=i===a-1?n:null!=r?r:!~t[i+1].indexOf(".")&&+t[i+1]>-1?[]:{}}},function(e,t){e.exports=function e(t){var n=Array.isArray(t)?[]:{};for(var r in t){var i=t[r];n[r]=i&&"object"==typeof i?e(i):i}return n}},,,function(e,t,n){n(40),n(49),e.exports=n(44)},function(e,t){!function(e){e.loadAsync=function(e,t,n){var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.id=n||"",r.src=e,r.onload=function(){t&&"function"==typeof t&&t()},document.head.insertAdjacentElement("beforeend",r)},e.loadDefer=function(e,t,n){var r=document.createElement("script");r.type="text/javascript",r.defer=!0,r.id=n||"",r.src=e,r.onload=function(){t&&"function"==typeof t&&t()},document.head.insertAdjacentElement("beforeend",r)},e.deviceType="mobile",e.innerWidth>=770?e.deviceType="desktop":e.innerWidth>=640&&(e.deviceType="tablet")}(window)},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){null!==e&&this.fromHexString(e)}return e.prototype.toHexString=function(){if(this.s<0)return"-"+this.negate().toHexString();var e,t=!1,n="",r=this.t,i=this.DB-r*this.DB%4;if(r-- >0)for(i<this.DB&&(e=this[r]>>i)>0&&(t=!0,n=l(e));r>=0;)i<4?(e=(this[r]&(1<<i)-1)<<4-i,e|=this[--r]>>(i+=this.DB-4)):(e=this[r]>>(i-=4)&15,i<=0&&(i+=this.DB,--r)),e>0&&(t=!0),t&&(n+=l(e));return t?n:"0"},e.prototype.fromHexString=function(t){if(null!==t){this.t=0,this.s=0;for(var n=t.length,r=!1,i=0;--n>=0;){var a=u(t,n);a<0?"-"==t.charAt(n)&&(r=!0):(r=!1,0==i?this[this.t++]=a:i+4>this.DB?(this[this.t-1]|=(a&(1<<this.DB-i)-1)<<i,this[this.t++]=a>>this.DB-i):this[this.t-1]|=a<<i,(i+=4)>=this.DB&&(i-=this.DB))}0,this.clamp(),r&&e.ZERO.subTo(this,this)}},e.prototype.negate=function(){var t=a();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.mod=function(t){var n=a();return this.abs().divRemTo(t,null,n),this.s<0&&n.compareTo(e.ZERO)>0&&t.subTo(n,n),n},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.lShiftTo=function(e,t){for(var n=e%this.DB,r=this.DB-n,i=(1<<r)-1,a=Math.floor(e/this.DB),o=this.s<<n&this.DM,c=this.t-1;c>=0;--c)t[c+a+1]=this[c]>>r|o,o=(this[c]&i)<<n;for(c=a-1;c>=0;--c)t[c]=0;t[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},e.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},e.prototype.multiplyTo=function(t,n){var r=this.abs(),i=t.abs(),a=r.t;for(n.t=a+i.t;--a>=0;)n[a]=0;for(a=0;a<i.t;++a)n[a+r.t]=r.am(0,i[a],n,a,0,r.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)},e.prototype.divRemTo=function(t,n,r){var i=t.abs();if(!(i.t<=0)){var c=this.abs();if(c.t<i.t)return null!=n&&n.fromHexString("0"),void(null!=r&&this.copyTo(r));null==r&&(r=a());var s=a(),d=this.s,u=t.s,l=this.DB-o(i[i.t-1]);l>0?(i.lShiftTo(l,s),c.lShiftTo(l,r)):(i.copyTo(s),c.copyTo(r));var p=s.t,f=s[p-1];if(0!=f){var b=f*(1<<this.F1)+(p>1?s[p-2]>>this.F2:0),m=this.FV/b,g=(1<<this.F1)/b,v=1<<this.F2,y=r.t,h=y-p,O=null==n?a():n;for(s.dlShiftTo(h,O),r.compareTo(O)>=0&&(r[r.t++]=1,r.subTo(O,r)),e.ONE.dlShiftTo(p,O),O.subTo(s,s);s.t<p;)s[s.t++]=0;for(;--h>=0;){var j=r[--y]==f?this.DM:Math.floor(r[y]*m+(r[y-1]+v)*g);if((r[y]+=s.am(0,j,r,h,0,p))<j)for(s.dlShiftTo(h,O),r.subTo(O,r);r[y]<--j;)r.subTo(O,r)}null!=n&&(r.drShiftTo(p,n),d!=u&&e.ZERO.subTo(n,n)),r.t=p,r.clamp(),l>0&&r.rShiftTo(l,r),d<0&&e.ZERO.subTo(r,r)}}},e.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,a=(1<<r)-1;t[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&a)<<i,t[o-n]=this[o]>>r;r>0&&(t[this.t-n-1]|=(this.s&a)<<i),t.t=this.t-n,t.clamp()}},e.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new p(t):new f(t),this.exp(e,n)},e.prototype.exp=function(t,n){if(t>4294967295||t<1)return e.ONE;var r=a(),i=a(),c=n.convert(this),s=o(t)-1;for(c.copyTo(r);--s>=0;)if(n.sqrTo(r,i),(t&1<<s)>0)n.mulTo(i,c,r);else{var d=r;r=i,i=d}return n.revert(r)},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},e.prototype.am1=function(e,t,n,r,i,a){for(;--a>=0;){var o=t*this[e++]+n[r]+i;i=Math.floor(o/67108864),n[r++]=67108863&o}return i},e.prototype.am2=function(e,t,n,r,i,a){for(var o=32767&t,c=t>>15;--a>=0;){var s=32767&this[e],d=this[e++]>>15,u=c*s+d*o;i=((s=o*s+((32767&u)<<15)+n[r]+(1073741823&i))>>>30)+(u>>>15)+c*d+(i>>>30),n[r++]=1073741823&s}return i},e.prototype.am3=function(e,t,n,r,i,a){for(var o=16383&t,c=t>>14;--a>=0;){var s=16383&this[e],d=this[e++]>>14,u=c*s+d*o;i=((s=o*s+((16383&u)<<14)+n[r]+i)>>28)+(u>>14)+c*d,n[r++]=268435455&s}return i},e}();function a(){return new i(null)}function o(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}t.BigInteger=i,t.nbi=a,t.nbits=o;var c,s,d=[];for(c="0".charCodeAt(0),s=0;s<=9;++s)d[c++]=s;for(c="a".charCodeAt(0),s=10;s<36;++s)d[c++]=s;for(c="A".charCodeAt(0),s=10;s<36;++s)d[c++]=s;function u(e,t){var n=d[e.charCodeAt(t)];return null==n?-1:n}t.intAt=u;function l(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}t.int2char=l;t.b64toHex=function(e){var t,n="",r=0,i=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(t));a<0||(0==r?(n+=l(a>>2),i=3&a,r=1):1==r?(n+=l(i<<2|a>>4),i=15&a,r=2):2==r?(n+=l(i),n+=l(a>>2),i=3&a,r=3):(n+=l(i<<2|a>>4),n+=l(15&a),r=0))}return 1==r&&(n+=l(i<<2)),n},t.removeExtraSymbols=function(e){return e.replace(/^1f+00/,"").replace("3031300d060960864801650304020105000420","")};var p=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),f=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=a();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(i.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=a();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function b(e){var t=a();return t.fromHexString(e.toString()),t}t.nbv=b,i.ZERO=b(0),i.ONE=b(1),"Microsoft Internet Explorer"==navigator.appName?(i.prototype.am=i.prototype.am2,r=30):"Netscape"!=navigator.appName?(i.prototype.am=i.prototype.am1,r=26):(i.prototype.am=i.prototype.am3,r=28),i.prototype.DB=r,i.prototype.DM=(1<<r)-1,i.prototype.DV=1<<r;i.prototype.FV=Math.pow(2,52),i.prototype.F1=52-r,i.prototype.F2=2*r-52},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.hash=function(t){t=e.utf8Encode(t||"");for(var n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],r=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],i=(t+=String.fromCharCode(128)).length/4+2,a=Math.ceil(i/16),o=new Array(a),c=0;c<a;c++){o[c]=new Array(16);for(var s=0;s<16;s++)o[c][s]=t.charCodeAt(64*c+4*s)<<24|t.charCodeAt(64*c+4*s+1)<<16|t.charCodeAt(64*c+4*s+2)<<8|t.charCodeAt(64*c+4*s+3)<<0}var d=8*(t.length-1)/Math.pow(2,32),u=8*(t.length-1)>>>0;o[a-1][14]=Math.floor(d),o[a-1][15]=u;for(c=0;c<a;c++){for(var l=new Array(64),p=0;p<16;p++)l[p]=o[c][p];for(p=16;p<64;p++)l[p]=e.q1(l[p-2])+l[p-7]+e.q0(l[p-15])+l[p-16]>>>0;var f=r[0],b=r[1],m=r[2],g=r[3],v=r[4],y=r[5],h=r[6],O=r[7];for(p=0;p<64;p++){var j=O+e.z1(v)+e.Ch(v,y,h)+n[p]+l[p],I=e.z0(f)+e.Maj(f,b,m);O=h,h=y,y=v,v=g+j>>>0,g=m,m=b,b=f,f=j+I>>>0}r[0]=r[0]+f>>>0,r[1]=r[1]+b>>>0,r[2]=r[2]+m>>>0,r[3]=r[3]+g>>>0,r[4]=r[4]+v>>>0,r[5]=r[5]+y>>>0,r[6]=r[6]+h>>>0,r[7]=r[7]+O>>>0}var _=new Array(r.length);for(O=0;O<r.length;O++)_[O]=("00000000"+r[O].toString(16)).slice(-8);return _.join("")},e.utf8Encode=function(e){try{return(new TextEncoder).encode(e).reduce((function(e,t){return e+String.fromCharCode(t)}),"")}catch(t){return unescape(encodeURIComponent(e))}},e.ROTR=function(e,t){return t>>>e|t<<32-e},e.z0=function(t){return e.ROTR(2,t)^e.ROTR(13,t)^e.ROTR(22,t)},e.z1=function(t){return e.ROTR(6,t)^e.ROTR(11,t)^e.ROTR(25,t)},e.q0=function(t){return e.ROTR(7,t)^e.ROTR(18,t)^t>>>3},e.q1=function(t){return e.ROTR(17,t)^e.ROTR(19,t)^t>>>10},e.Ch=function(e,t,n){return e&t^~e&n},e.Maj=function(e,t,n){return e&t^e&n^t&n},e}();t.Sha256=r},function(module,__webpack_exports__,__webpack_require__){"use strict";var _src_utils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_src_utils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),_src_adloader_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(27),_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),_src_config_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),_src_polyfill_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(33),criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_7__),_src_storageManager_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var GVLID=91,ADAPTER_VERSION=34,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=Object(_src_storageManager_js__WEBPACK_IMPORTED_MODULE_8__.b)({gvlid:GVLID,bidderCode:BIDDER_CODE}),LOG_PREFIX="Criteo: ",FAST_BID_VERSION_PLACEHOLDER="%FAST_BID_VERSION%",FAST_BID_VERSION_CURRENT=117,FAST_BID_VERSION_LATEST="latest",FAST_BID_VERSION_NONE="none",PUBLISHER_TAG_URL_TEMPLATE="https://static.criteo.net/js/ld/publishertag.prebid"+FAST_BID_VERSION_PLACEHOLDER+".js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_5__.b,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_5__.d,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_5__.c],isBidRequestValid:function(e){return!(!e||!e.params||!e.params.zoneId&&!e.params.networkId)&&!(hasVideoMediaType(e)&&!hasValidVideoMediaType(e))},buildRequests:function(e,t){var n,r,i,a,o=_src_config_js__WEBPACK_IMPORTED_MODULE_4__.b.getConfig("ortb2")||{};_extends(t,{publisherExt:null===(n=o.site)||void 0===n?void 0:n.ext,userExt:null===(r=o.user)||void 0===r?void 0:r.ext,ceh:_src_config_js__WEBPACK_IMPORTED_MODULE_4__.b.getConfig("criteo.ceh")});var c=_src_config_js__WEBPACK_IMPORTED_MODULE_4__.b.getConfig("criteo.fastBidVersion"),s=canFastBid(c);if(!publisherTagAvailable()&&s){window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid();var d=getFastBidUrl(c);setTimeout((function(){Object(_src_adloader_js__WEBPACK_IMPORTED_MODULE_2__.a)(d,BIDDER_CODE)}),t.timeout)}if(publisherTagAvailable()){var u=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,e,t,"6.25.0");i=u.buildCdbUrl(),a=u.buildCdbRequest()}else{var l=buildContext(e,t);i=buildCdbUrl(l),a=buildCdbRequest(l,e,t)}if(a)return{method:"POST",url:i,data:a,bidRequests:e}},interpretResponse:function(e,t){var n=e.body||e;if(publisherTagAvailable()){var r=Criteo.PubTag.Adapters.Prebid.GetAdapter(t);if(r)return r.interpretResponse(n,t)}var i=[];return n&&n.slots&&Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_0__.ab)(n.slots)&&n.slots.forEach((function(r){var a,o,c,s,d=Object(_src_polyfill_js__WEBPACK_IMPORTED_MODULE_6__.b)(t.bidRequests,(function(e){return e.adUnitCode===r.impid&&(!e.params.zoneId||parseInt(e.params.zoneId)===r.zoneid)})),u=d.bidId,l={requestId:u,adId:r.bidId||Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_0__.M)(),cpm:r.cpm,currency:r.currency,netRevenue:!0,ttl:r.ttl||60,creativeId:r.creativecode,width:r.width,height:r.height,dealId:r.dealCode};if(null!==(a=n.ext)&&void 0!==a&&null!==(o=a.paf)&&void 0!==o&&o.transmission&&null!==(c=r.ext)&&void 0!==c&&null!==(s=c.paf)&&void 0!==s&&s.content_id){var p={content_id:r.ext.paf.content_id,transmission:e.ext.paf.transmission};l.meta=_extends({},l.meta,{paf:p})}r.adomain&&(l.meta=_extends({},l.meta,{advertiserDomains:r.adomain})),r.native?d.params.nativeCallback?l.ad=createNativeAd(u,r.native,d.params.nativeCallback):(l.native=createPrebidNativeAd(r.native),l.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_5__.c):r.video?(l.vastUrl=r.displayurl,l.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_5__.d):l.ad=r.creative,i.push(l)})),i},onTimeout:function(e){if(publisherTagAvailable()&&Array.isArray(e)){var t=[];e.forEach((function(e){-1===t.indexOf(e.auctionId)&&(t.push(e.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout())}))}},onBidWon:function(e){publisherTagAvailable()&&e&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidWon(e)},onSetTargeting:function(e){publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleSetTargeting(e)}};function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function buildContext(e,t){var n="";t&&t.refererInfo&&(n=t.refererInfo.referer);var r=Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_0__.vb)(n).search,i={url:n,debug:"1"===r.pbt_debug,noLog:"1"===r.pbt_nolog,amp:!1};return e.forEach((function(e){"amp"===e.params.integrationMode&&(i.amp=!0)})),i}function buildCdbUrl(e){var t=CDB_ENDPOINT;return t+="?profileId="+PROFILE_ID_INLINE,t+="&av="+String(ADAPTER_VERSION),t+="&wv="+encodeURIComponent("6.25.0"),t+="&cb="+String(Math.floor(99999999999*Math.random())),e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1"),t}function checkNativeSendId(e){return!(e.nativeParams&&(e.nativeParams.image&&(!0!==e.nativeParams.image.sendId||!0===e.nativeParams.image.sendTargetingKeys)||e.nativeParams.icon&&(!0!==e.nativeParams.icon.sendId||!0===e.nativeParams.icon.sendTargetingKeys)||e.nativeParams.clickUrl&&(!0!==e.nativeParams.clickUrl.sendId||!0===e.nativeParams.clickUrl.sendTargetingKeys)||e.nativeParams.displayUrl&&(!0!==e.nativeParams.displayUrl.sendId||!0===e.nativeParams.displayUrl.sendTargetingKeys)||e.nativeParams.privacyLink&&(!0!==e.nativeParams.privacyLink.sendId||!0===e.nativeParams.privacyLink.sendTargetingKeys)||e.nativeParams.privacyIcon&&(!0!==e.nativeParams.privacyIcon.sendId||!0===e.nativeParams.privacyIcon.sendTargetingKeys)))}function buildCdbRequest(e,t,n){var r,i,a={publisher:{url:e.url,ext:n.publisherExt},slots:t.map((function(e){r=e.params.networkId||r,i=e.schain||i;var t={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId};if(e.params.zoneId&&(t.zoneid=e.params.zoneId),Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_1__.a)(e,"ortb2Imp.ext")&&(t.ext=e.ortb2Imp.ext),e.params.ext&&(t.ext=_extends({},t.ext,e.params.ext)),e.params.publisherSubId&&(t.publishersubid=e.params.publisherSubId),e.params.nativeCallback||Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_1__.a)(e,"mediaTypes.".concat(_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_5__.c))?(t.native=!0,checkNativeSendId(e)||Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_0__.qb)(LOG_PREFIX+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)"),t.sizes=parseSizes(Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_1__.a)(e,"mediaTypes.banner.sizes"),parseNativeSize)):t.sizes=parseSizes(Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_1__.a)(e,"mediaTypes.banner.sizes"),parseSize),hasVideoMediaType(e)){var n={playersizes:parseSizes(Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_1__.a)(e,"mediaTypes.video.playerSize"),parseSize),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api,skip:e.mediaTypes.video.skip,placement:e.mediaTypes.video.placement,minduration:e.mediaTypes.video.minduration,playbackmethod:e.mediaTypes.video.playbackmethod,startdelay:e.mediaTypes.video.startdelay},a=e.params.video;void 0!==a&&(n.skip=n.skip||a.skip||0,n.placement=n.placement||a.placement,n.minduration=n.minduration||a.minduration,n.playbackmethod=n.playbackmethod||a.playbackmethod,n.startdelay=n.startdelay||a.startdelay||0),t.video=n}return t}))};return r&&(a.publisher.networkid=r),i&&(a.source={ext:{schain:i}}),a.user={ext:n.userExt},n&&n.ceh&&(a.user.ceh=n.ceh),n&&n.gdprConsent&&(a.gdprConsent={},void 0!==n.gdprConsent.gdprApplies&&(a.gdprConsent.gdprApplies=!!n.gdprConsent.gdprApplies),a.gdprConsent.version=n.gdprConsent.apiVersion,void 0!==n.gdprConsent.consentString&&(a.gdprConsent.consentData=n.gdprConsent.consentString)),n&&n.uspConsent&&(a.user.uspIab=n.uspConsent),a}function parseSizes(e,t){return null==e?[]:Array.isArray(e[0])?e.map((function(e){return t(e)})):[t(e)]}function parseSize(e){return e[0]+"x"+e[1]}function parseNativeSize(e){return void 0===e[0]&&void 0===e[1]?"2x2":e[0]+"x"+e[1]}function hasVideoMediaType(e){return void 0!==Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_1__.a)(e,"mediaTypes.video")}function hasValidVideoMediaType(e){var t=!0;if(["mimes","playerSize","maxduration","protocols","api","skip","placement","playbackmethod"].forEach((function(n){void 0===Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_1__.a)(e,"mediaTypes.video."+n)&&void 0===Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_1__.a)(e,"params.video."+n)&&(t=!1,Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_0__.nb)("Criteo Bid Adapter: mediaTypes.video."+n+" is required"))})),t){var n=e.mediaTypes.video.placement||e.params.video.placement;if("instream"==e.mediaTypes.video.context&&1===n)return!0;if("outstream"==e.mediaTypes.video.context&&1!==n)return!0}return!1}function createPrebidNativeAd(e){return{sendTargetingKeys:!1,title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map((function(e){return e.url}))}}function createNativeAd(e,t,n){var r="criteo_prebid_native_slots";return window[r]=window[r]||{},window[r][e]={callback:n,payload:t},'\n<script type="text/javascript">\nfor (var i = 0; i < 10; ++i) {\n var slots = window.parent.'.concat(r,';\n  if(!slots){continue;}\n  var responseSlot = slots["').concat(e,'"];\n  responseSlot.callback(responseSlot.payload);\n  break;\n}\n<\/script>')}function canFastBid(e){return e!==FAST_BID_VERSION_NONE}function getFastBidUrl(e){var t;if(e===FAST_BID_VERSION_LATEST)t="";else if(e){String(e).split(".")[0]<102&&Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_0__.qb)("Specifying a Fastbid version which is not supporting version selection."),t="."+e}else t="."+FAST_BID_VERSION_CURRENT;return PUBLISHER_TAG_URL_TEMPLATE.replace(FAST_BID_VERSION_PLACEHOLDER,t)}function tryGetCriteoFastBid(){try{var fastBidStorageKey="criteo_fast_bid",hashPrefix="// Hash: ",fastBidFromStorage=storage.getDataFromLocalStorage(fastBidStorageKey);if(null!==fastBidFromStorage){var firstLineEndPosition=fastBidFromStorage.indexOf("\n"),firstLine=fastBidFromStorage.substr(0,firstLineEndPosition).trim();if(firstLine.substr(0,hashPrefix.length)!==hashPrefix)Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_0__.qb)("No hash found in FastBid"),storage.removeDataFromLocalStorage(fastBidStorageKey);else{var publisherTagHash=firstLine.substr(hashPrefix.length),publisherTag=fastBidFromStorage.substr(firstLineEndPosition+1);Object(criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_7__.verify)(publisherTag,publisherTagHash,FAST_BID_PUBKEY_N,FAST_BID_PUBKEY_E)?(Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_0__.ob)("Using Criteo FastBid"),eval(publisherTag)):(Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_0__.qb)("Invalid Criteo FastBid found"),storage.removeDataFromLocalStorage(fastBidStorageKey))}}}catch(e){}}Object(_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_3__.c)(spec),window.pbjs.installedModules.push("criteoBidAdapter")},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,"default",(function(){return i}));var i=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.allowedBidders=["appnexus","appnexusNew","smartadserver","rubicon","triplelift"],this.allowedBiddersInread=["appnexus","appnexusNew","smartadserver","rubicon","teads","triplelift"],window.document.addEventListener("adsConsentless",(function(){console.debug("ACTU : adsConsentless Event"),t.onAdsConsentlessEvent()}))}var t,n,i;return t=e,(n=[{key:"onAdsConsentlessEvent",value:function(){console.debug("ACTU : onAdsConsentlessEvent running"),this.PREBID_TIMEOUT=2e3,this.pbjsDebug=new URLSearchParams(window.location.search).has("pbjs_debug"),this.pbjs=pbjs,this.pbjs.processQueue(),this.prebidAdUnitStatus={},this.deviceType=window.deviceType,this.adUnitsOnPage=window.actu.pub.adUnitsOnPage||[],this.adUnits=window.actu.pub.adUnits[this.deviceType],loadDefer("https://boot.pbstck.com/v1/tag/d232bf4d-527a-4ac4-89ce-c29dea0ef82b"),this.setDynamicBidderParams(),this.setupPbjs(),this.requestBids()}},{key:"setDynamicBidderParams",value:function(){var e=this;console.debug("ACTU : keyValueInBidder running");for(var t=function(t){if(!e.adUnitsOnPage.includes(e.adUnits[t].code))return console.debug("ACTU splice adUnits not on page "+e.adUnits[t].code),e.adUnits.splice(t,1),t--,n=t,"continue";var r=e.adUnits[t].bids;for(var i in e.adUnits[t].pubstack.adUnitPath+="?consent=false",r=r.filter((function(r){return-1!==e.adUnits[t].code.indexOf("Inread")?(n=t,e.allowedBiddersInread.includes(r.bidder)):(n=t,e.allowedBidders.includes(r.bidder))})))"teads"===r[i].bidder&&("Inread_1"===e.adUnits[t].code&&(r[i].params.placementId="153991",r[i].params.pageId="140295"),"Inread_2"===e.adUnits[t].code&&(r[i].params.placementId="153992",r[i].params.pageId="140296"),"Inread_3"===e.adUnits[t].code&&(r[i].params.placementId="153993",r[i].params.pageId="140297")),"appnexusNew"===r[i].bidder&&(r[i].params.keywords.semantique=window.actu.pub.dfpTargeting.semantique||"",r[i].params.keywords.PH_consentless="true"),"appnexus"===r[i].bidder&&(r[i].params.keywords.PH_consentless="true");e.adUnits[t].bids=r,n=t},n=0;n<this.adUnits.length;n++)t(n)}},{key:"setupPbjs",value:function(){var e=this;this.pbjs.que.push((function(){e.pbjs.setConfig({bidderTimeout:e.PREBID_TIMEOUT,enableSendAllBids:!1,bidderSequence:"fixed",useBidCache:!0,targetingControls:{allowTargetingKeys:["BIDDER","AD_ID","PRICE_BUCKET","SIZE","DEAL","SOURCE","FORMAT","UUID","CACHE_ID","CACHE_HOST","ADOMAIN"]},debug:e.pbjsDebug,auctionOptions:{secondaryBidders:["smartadserver","aol","gravity","mediasquare","index"]},priceGranularity:{buckets:[{precision:2,min:0,max:4,increment:.01},{precision:2,min:4,max:8,increment:.1},{precision:2,min:8,max:40,increment:.5}]},currency:{adServerCurrency:"EUR",granularityMultiplier:1},consentManagement:{cmpApi:"iab",timeout:3e3,gdpr:{cmpApi:"iab",defaultGdprScope:!0,rules:[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:["appnexus","appnexusAst","appnexusNew","appnexusAst_na","asqmax","asqmax_na","asqclassic","asqclassic_na","asqbrand","asqbrand_na","smartadserver","smart-prc","rubicon","rubicon-prc","pubmatic"]},{purpose:"basicAds",enforcePurpose:!1,enforceVendor:!1}]}},floors:{endpoint:{url:"https://actu.fr/static/themes/actu_v2/dist/pricefloors-consentless.json"},additionalSchemaFields:{deviceType:function(){var e="mobile";return window.innerWidth>=770?e="desktop":window.innerWidth>=640&&(e="tablet"),e}}}}),e.pbjs.bidderSettings={standard:{adserverTargeting:[{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(e){return e.pbCg}},{key:"hb_format",val:function(e){return e.mediaType}},{key:"hb_size",val:function(e){return e.size}}]},regie366:{bidCpmAdjustment:function(e,t){return.6*e}},gravity:{bidCpmAdjustment:function(e,t){return.9*e}},regie366Appnexus:{bidCpmAdjustment:function(e,t){return.75*e}},appnexusNewInread:{bidCpmAdjustment:function(e,t){return"video"===t.mediaType||"native"===t.mediaType?.4*e:e}},rubiconNewInread:{bidCpmAdjustment:function(e,t){return"video"===t.mediaType||"native"===t.mediaType?.4*e:e}}},e.pbjs.aliasBidder("appnexusAst","mediasquareAppnexus"),e.pbjs.aliasBidder("smartadserver","regie366"),e.pbjs.aliasBidder("appnexusAst","gravity"),e.pbjs.aliasBidder("appnexusAst","regie366Appnexus"),e.pbjs.aliasBidder("appnexusAst","appnexusNew"),e.pbjs.aliasBidder("rubicon","regie366Rubicon"),e.pbjs.aliasBidder("appnexusAst","appnexusNewInread")}))}},{key:"requestBids",value:function(){var e=this;console.debug("ACTU : requestBids running",this.adUnits),this.pbjs.que.push((function(){e.pbjs.addAdUnits(e.adUnits),e.pbjs.requestBids({bidsBackHandler:function(){e.renderPrebidAds()},timeout:e.PREBID_TIMEOUT})}))}},{key:"renderPrebidAds",value:function(){var e=this.pbjs.getHighestCpmBids();for(var t in console.debug("ACTU : Number of prebid winners to render : "+e.length,e),e){var n=e[t];console.debug("ACTU winner adUniCode : "+n.adUnitCode),"atf_megaban"===n.adUnitCode&&1800===n.width&&1e3===n.height?this.renderAdSkinPbjs(n):this.renderPrebidAd(n)}}},{key:"renderPrebidAd",value:function(e){var t=this,n=document.createElement("iframe");n.setAttribute("id","iframe_"+e.adUnitCode),n.setAttribute("scrolling","no"),n.setAttribute("style","border: 0;"),n.setAttribute("marginwidth","0"),n.setAttribute("marginheight","0"),n.setAttribute("width","0"),n.setAttribute("height","0");var r=document.getElementById(e.adUnitCode);window.requestAnimationFrame((function(){r.appendChild(n),t.pbjs.renderAd(n.contentWindow.document,e.adId)}))}},{key:"renderAdSkinPbjs",value:function(e){console.debug("ACTU : renderAdSkinPbjs bid",e);var t=window.document.getElementById("main"),n=window.document.querySelector(".ac-banner-ad-top"),r=window.document.querySelector("#ifrm_adskin");if(t.classList.add("has-bkg-ads"),!r){(r=document.createElement("iframe")).scrolling="no",r.style.position="absolute",r.style.top=0,r.style.width="1800px",r.style.height="1000px",r.style.border="none",r.zIndex=0,r.id="ifrm_adskin";var i=document.createElement("div");i.style.width="100%",i.style.position="absolute",i.style.zIndex=0,i.style.overflow="hidden",i.style.top=0;var a=document.createElement("div");a.style.width="1px",a.style.position="relative",a.style.zIndex=0,a.style.top="144px",a.style.left="50%";var o=document.createElement("div");o.style.position="relative",o.style.width="1800px",o.style.height="1000px",o.style.left="-904px",o.appendChild(r),a.appendChild(o),i.appendChild(a),window.document.body.appendChild(i),n.style.display="none"}r.contentWindow.document.open(),r.contentWindow.document.write(e.ad),r.contentWindow.document.close()}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();new i},,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ns}));var r=n(12),i=n(0),a=n(9),o=n(6),c=n(17),s=n(4),d=n(8),u=n(3),l=n(15),p=n(1),f=s.EVENTS,b=f.AD_RENDER_FAILED,m=f.AD_RENDER_SUCCEEDED;function g(e){var t=e.reason,n=e.message,r=e.bid,a=e.id,c={reason:t,message:n};r&&(c.bid=r),a&&(c.adId=a),Object(i.nb)(n),o.a(b,c)}function v(e){var t=e.doc,n=e.bid,r=e.id,i={doc:t};n&&(i.bid=n),r&&(i.adId=r),o.a(m,i)}var y=s.EVENTS.BID_WON,h=s.EVENTS.STALE_RENDER,O={"Prebid Request":function(e,t,n){if(null==n)return void g({reason:s.AD_RENDER_FAILED_REASON.CANNOT_FIND_AD,message:"Cannot find ad '".concat(t.adId,"' for cross-origin render request"),id:t.adId});if(n.status===s.BID_STATUS.RENDERED&&(Object(i.qb)("Ad id ".concat(n.adId," has been rendered before")),o.a(h,n),Object(a.a)(p.b.getConfig("auctionOptions"),"suppressStaleRender")))return;try{!function(e,t){var n=e.adId,r=e.ad,a=e.adUrl,o=e.width,c=e.height,s=e.renderer,d=e.cpm,u=e.originalCpm;Object(l.c)(s)?Object(l.b)(s,e):n&&(I(e),t({message:"Prebid Response",ad:Object(i.yb)(r,u||d),adUrl:Object(i.yb)(a,u||d),adId:n,width:o,height:c}))}(n,e)}catch(e){return void g({reason:s.AD_RENDER_FAILED_REASON.EXCEPTION,message:e.message,id:t.adId,bid:n})}d.a.addWinningBid(n),o.a(y,n)},"Prebid Native":function(e,t,n){if(null==n)return void Object(i.nb)("Cannot find ad '".concat(t.adId,"' for x-origin event request"));switch(t.action){case"assetRequest":e(Object(c.e)(t,n));break;case"allAssetRequest":e(Object(c.d)(t,n));break;case"resizeNativeHeight":n.height=t.height,n.width=t.width,I(n);break;default:if("click"===Object(c.c)(t,n))return;d.a.addWinningBid(n),o.a(y,n)}},"Prebid Event":function(e,t,n){if(null==n)return void Object(i.nb)("Cannot find ad '".concat(t.adId,"' for x-origin event request"));if(n.status!==s.BID_STATUS.RENDERED)return void Object(i.qb)("Received x-origin event request without corresponding render request for ad '".concat(t.adId,"'"));switch(t.event){case s.EVENTS.AD_RENDER_FAILED:g({bid:n,id:t.adId,reason:t.info.reason,message:t.info.message});break;case s.EVENTS.AD_RENDER_SUCCEEDED:v({doc:null,bid:n,id:t.adId});break;default:Object(i.nb)("Received x-origin event request for unsupported event: '".concat(t.event,"' (adId: '").concat(t.adId,"')"))}}};function j(e){var t=e.message?"message":"data",n={};try{n=JSON.parse(e[t])}catch(e){return}if(n&&n.adId&&n.message){var r=Object(u.b)(d.a.getBidsReceived(),(function(e){return e.adId===n.adId}));O.hasOwnProperty(n.message)&&O[n.message](function(e){return null==e.origin&&0===e.ports.length?function(){var e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw Object(i.nb)(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),n,r)}}function I(e){var t=e.adId,n=e.adUnitCode,r=e.width,a=e.height;["div","iframe"].forEach((function(e){var o=function(e){var r=function(e,t){return Object(i.gb)()?function(e){var t=Object(u.b)(window.googletag.pubads().getSlots(),(function(t){return Object(u.b)(t.getTargetingKeys(),(function(n){return Object(u.c)(t.getTargeting(n),e)}))}));return t?t.getSlotElementId():null}(e):Object(i.Z)()?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(t,n),a=document.getElementById(r);return a&&a.querySelector(e)}(e+':not([style*="display: none"])');if(o){var c=o.style;c.width=r+"px",c.height=a+"px"}else Object(i.qb)("Unable to locate matching page element for adUnitCode ".concat(n,".  Can't resize it to ad's dimensions.  Please review setup."))}))}var _=n(26),w=n(32),T=n(2),E=n(5),S=n(14);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=[],P='Only one of "'.concat("targetingControls.allowTargetingKeys",'" or "').concat("targetingControls.addTargetingKeys",'" can be set'),R=Object.keys(s.TARGETING_KEYS).map((function(e){return s.TARGETING_KEYS[e]})),U=function(e){return e.responseTimestamp+1e3*e.ttl-1e3>Object(i.Cb)()},B=function(e){return e&&(e.status&&!Object(u.c)([s.BID_STATUS.RENDERED],e.status)||!e.status)},q=Object(E.b)("sync",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r){var a=[],o=p.b.getConfig("sendBidsControl.dealPrioritization"),c=Object(i.S)(e,"adUnitCode");return Object.keys(c).forEach((function(e){var r=[],s=Object(i.S)(c[e],"bidderCode");Object.keys(s).forEach((function(e){return r.push(s[e].reduce(t))})),n>0?(r=o?r.sort(N(!0)):r.sort((function(e,t){return t.cpm-e.cpm})),a.push.apply(a,x(r.slice(0,n)))):a.push.apply(a,x(r))})),a}return e}));function N(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return void 0!==t.adserverTargeting.hb_deal&&void 0===n.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==n.adserverTargeting.hb_deal?1:e?n.cpm-t.cpm:n.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}var M,z,F=function(e){var t={},n={};function r(e,t){return e.adserverTargeting&&t&&(Object(i.ab)(t)&&Object(u.c)(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function o(e,t){if(!0===p.b.getConfig("targetingControls.alwaysIncludeDeals")){var n=R.concat(c.a);return q(t,i.E).map((function(t){if(t.dealId&&r(t,e))return C({},t.adUnitCode,_(t,n.filter((function(e){return void 0!==t.adserverTargeting[e]}))))})).filter((function(e){return e}))}return[]}function d(e,t){var n=A({},s.TARGETING_KEYS,s.NATIVE_KEYS),r=Object.keys(n),a={};Object(i.ob)("allowTargetingKeys - allowed keys [ ".concat(t.map((function(e){return n[e]})).join(", ")," ]")),e.map((function(e){var i=Object.keys(e)[0],o=e[i].filter((function(e){var i=Object.keys(e)[0],o=0===r.filter((function(e){return 0===i.indexOf(n[e])})).length||Object(u.b)(t,(function(e){var t=n[e];return 0===i.indexOf(t)}));return a[i]=!o,o}));e[i]=o}));var o=Object.keys(a).filter((function(e){return a[e]}));return Object(i.ob)("allowTargetingKeys - removed keys [ ".concat(o.join(", ")," ]")),e.filter((function(e){return e[Object.keys(e)[0]].length>0}))}function l(e,t){var n=Object(i.r)(e);return Object.keys(n).map((function(e){return{adUnitCode:e,adserverTargeting:n[e]}})).sort(N()).reduce((function(e,r,a,o){var c,s=(c=r.adserverTargeting,Object.keys(c).reduce((function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(c[t]),"%26")}),""));a+1===o.length&&(s=s.slice(0,-3));var d=r.adUnitCode,u=s.length;return u<=t?(t-=u,Object(i.ob)("AdUnit '".concat(d,"' auction keys comprised of ").concat(u," characters.  Deducted from running threshold; new limit is ").concat(t),n[d]),e[d]=n[d]):Object(i.qb)("The following keys for adUnitCode '".concat(d,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(u,", the current allotted amount was ").concat(t,".\n"),n[d]),a+1===o.length&&0===Object.keys(e).length&&Object(i.nb)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}function f(e){return e.map((function(e){return C({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return C({},Object.keys(e)[0],e[Object.keys(e)[0]].join(","))})).reduce((function(e,t){return A(t,e)}),{}))})).reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=A({},e[n],t[n]),e}),{})}function b(t){return"string"==typeof t?[t]:Object(i.ab)(t)?t:e.getAdUnitCodes()||[]}function m(){var t=e.getBidsReceived();if(p.b.getConfig("useBidCache")){var r=p.b.getConfig("bidCacheFilterFunction");"function"==typeof r&&(t=t.filter((function(e){return n[e.adUnitCode]===e.auctionId||!!r(e)})))}else t=t.filter((function(e){return n[e.adUnitCode]===e.auctionId}));return t=t.filter((function(e){return Object(a.a)(e,"video.context")!==T.a})).filter((function(e){return"banner"!==e.mediaType||Object(w.b)([e.width,e.height])})).filter(B).filter(U),q(t,i.I)}function g(e,n){var r=t.getWinningBids(e,n),i=v();return r=r.map((function(e){return C({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===i.indexOf(t)})).reduce((function(t,n){var r=[e.adserverTargeting[n]],i=C({},n.substring(0,20),r);if(n===s.TARGETING_KEYS.DEAL){var a=C({},"".concat(n,"_").concat(e.bidderCode).substring(0,20),r);return[].concat(x(t),[i,a])}return[].concat(x(t),[i])}),[]))}))}function v(){return e.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(R).filter(i.Hb)}function y(e,t,n,r){return Object.keys(t.adserverTargeting).filter(h()).forEach((function(n){e.length&&e.filter(function(e){return function(n){return n.adUnitCode===t.adUnitCode&&n.adserverTargeting[e]}}(n)).forEach(function(e){return function(n){Object(i.ab)(n.adserverTargeting[e])||(n.adserverTargeting[e]=[n.adserverTargeting[e]]),n.adserverTargeting[e]=n.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(i.Hb),delete t.adserverTargeting[e]}}(n))})),e.push(t),e}function h(){var e=v().concat(c.a);return function(t){return-1===e.indexOf(t)}}function O(e){return C({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(h()).map((function(t){return C({},t.substring(0,20),[e.adserverTargeting[t]])})))}function j(e,t){return t.filter((function(t){return Object(u.c)(e,t.adUnitCode)})).map((function(e){return A({},e)})).reduce(y,[]).map(O).filter((function(e){return e}))}function I(e,t){var n=R.concat(c.a),a=p.b.getConfig("sendBidsControl.bidLimit"),o=q(t,i.E,a),d=p.b.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),u=d?d.map((function(e){return s.TARGETING_KEYS[e]})):n;return o.map((function(t){if(r(t,e))return C({},t.adUnitCode,_(t,n.filter((function(e){return void 0!==t.adserverTargeting[e]&&-1!==u.indexOf(e)}))))})).filter((function(e){return e}))}function _(e,t){return t.map((function(t){return C({},"".concat(t,"_").concat(e.bidderCode).substring(0,20),[e.adserverTargeting[t]])}))}function E(t){function n(e){return Object(a.a)(e,s.JSON_MAPPING.ADSERVER_TARGETING)}return e.getAdUnits().filter((function(e){return Object(u.c)(t,e.code)&&n(e)})).map((function(e){return C({},e.code,function(e){var t=n(e);return Object.keys(t).map((function(e){return Object(i.lb)(t[e])&&(t[e]=t[e].split(",").map((function(e){return e.trim()}))),Object(i.ab)(t[e])||(t[e]=[t[e]]),C({},e,t[e])}))}(e))}))}return t.setLatestAuctionForAdUnit=function(e,t){n[e]=t},t.resetPresetTargeting=function(t,n){if(Object(i.gb)()){var r=b(t),a=e.getAdUnits().filter((function(e){return Object(u.c)(r,e.code)})),o=k.reduce((function(e,t){return e[t]=null,e}),{});window.googletag.pubads().getSlots().forEach((function(e){var t=Object(i.fb)(n)&&n(e);a.forEach((function(n){(n.code===e.getAdUnitPath()||n.code===e.getSlotElementId()||Object(i.fb)(t)&&t(n.code))&&e.updateTargetingFromMap(o)}))}))}},t.resetPresetTargetingAST=function(e){b(e).forEach((function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var n=Object.keys(t.keywords),r={};n.forEach((function(e){Object(u.c)(k,e.toLowerCase())||(r[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:r})}}))},t.getAllTargeting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m(),n=b(e),r=g(n,t).concat(j(n,t)).concat(p.b.getConfig("enableSendAllBids")?I(n,t):o(n,t)).concat(E(n));r.map((function(e){Object.keys(e).map((function(t){e[t].map((function(e){-1===k.indexOf(Object.keys(e)[0])&&(k=Object.keys(e).concat(k))}))}))}));var a=Object.keys(A({},s.DEFAULT_TARGETING_KEYS,s.NATIVE_KEYS)),c=p.b.getConfig("targetingControls.allowTargetingKeys"),u=p.b.getConfig("targetingControls.addTargetingKeys");if(null!=u&&null!=c)throw new Error(P);c=null!=u?a.concat(u):c||a,Array.isArray(c)&&c.length>0&&(r=d(r,c)),r=f(r);var v=p.b.getConfig("targetingControls.auctionKeyMaxChars");return v&&(Object(i.ob)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(v," characters.  Running checks on auction keys...")),r=l(r,v)),n.forEach((function(e){r[e]||(r[e]={})})),r},p.b.getConfig("targetingControls",(function(e){null!=Object(a.a)(e,"targetingControls.allowTargetingKeys")&&null!=Object(a.a)(e,"targetingControls.addTargetingKeys")&&Object(i.nb)(P)})),t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((function(n){Object.keys(e).filter(t?t(n):Object(i.Y)(n)).forEach((function(t){Object.keys(e[t]).forEach((function(n){var r=e[t][n];"string"==typeof r&&-1!==r.indexOf(",")&&(r=r.split(",")),e[t][n]=r})),Object(i.pb)("Attempting to set targeting-map for slot: ".concat(n.getSlotElementId()," with targeting-map:"),e[t]),n.updateTargetingFromMap(e[t])}))}))},t.getWinningBids=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m(),n=b(e);return t.filter((function(e){return Object(u.c)(n,e.adUnitCode)})).filter((function(e){return!0===S.a.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0})).map((function(e){return e.adUnitCode})).filter(i.Hb).map((function(e){return t.filter((function(t){return t.adUnitCode===e?t:null})).reduce(i.E)}))},t.setTargetingForAst=function(e){var n=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){Object(i.nb)("unable to reset targeting for AST"+e)}Object.keys(n).forEach((function(e){return Object.keys(n[e]).forEach((function(t){if(Object(i.pb)("Attempting to set targeting for targetId: ".concat(e," key: ").concat(t," value: ").concat(n[e][t])),Object(i.lb)(n[e][t])||Object(i.ab)(n[e][t])){var r={};t.search(/pt[0-9]/)<0?r[t.toUpperCase()]=n[e][t]:r[t]=n[e][t],window.apntag.setKeywords(e,r,{overrideKeyValue:!0})}}))}))},t.isApntagDefined=function(){if(window.apntag&&Object(i.fb)(window.apntag.setKeywords))return!0},t}(d.a),L=n(22),G=Object(i.xb)("DEBUG:"),V=G.logWarn,W=G.logMessage,K=[function(e){H(),function(e){M=ee.bind(e),L.b.before(M,5),z=te.bind(e),L.c.before(z,5)}(e)}],Y=[H];function H(){L.b.getHooks({hook:M}).remove(),L.c.getHooks({hook:z}).remove()}function J(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];p.b.setConfig({debug:!0}),K.forEach((function(t){return t(e)})),W("bidder overrides enabled".concat(t?" from session":""))}function X(){Y.forEach((function(e){return e()})),W("bidder overrides disabled")}function $(e,t,n){return!(!e.bidder||e.bidder===t)||!(!e.adUnitCode||e.adUnitCode===n)}function Q(e,t){return Array.isArray(e)&&-1===e.indexOf(t)}function Z(e,t,n){return Object.keys(e).filter((function(e){return-1===["adUnitCode","bidder"].indexOf(e)})).reduce((function(t,r){return W("bidder overrides changed '".concat(t.adUnitCode,"/").concat(t.bidderCode,"' ").concat(n,".").concat(r," from '").concat(t[r],".js' to '").concat(e[r],"'")),t[r]=e[r],t.isDebug=!0,t}),t)}function ee(e,t,n){Q(this.bidders,n.bidderCode)?V("bidder '".concat(n.bidderCode,"' excluded from auction by bidder overrides")):(Array.isArray(this.bids)&&this.bids.forEach((function(e){$(e,n.bidderCode,t)||Z(e,n,"bidder")})),e(t,n))}function te(e,t){var n=this,r=t.filter((function(e){return!Q(n.bidders,e.bidderCode)||(V("bidRequest '".concat(e.bidderCode,"' excluded from auction by bidder overrides")),!1)}));Array.isArray(n.bidRequests)&&r.forEach((function(e){n.bidRequests.forEach((function(t){e.bids.forEach((function(n){$(t,e.bidderCode,n.adUnitCode)||Z(t,n,"bidRequest")}))}))})),e(r)}var ne=Object(E.b)("sync",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sessionStorage,r=void 0===n?window.sessionStorage:n;if(e.enabled)try{r.setItem("pbjs:debugging",JSON.stringify(e))}catch(e){}else try{r.removeItem("pbjs:debugging")}catch(e){}}));p.b.getConfig("debugging",(function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sessionStorage,r=void 0===n?window.sessionStorage:n;ne(e,{sessionStorage:r}),e.enabled?J(e):X()}(e.debugging)}));var re=n(25),ie=n(23),ae=n(13),oe=n(7);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var se=Object(r.a)(),de=_.a.triggerUserSyncs,ue=s.EVENTS,le=ue.ADD_AD_UNITS,pe=ue.BID_WON,fe=ue.REQUEST_BIDS,be=ue.SET_TARGETING,me=ue.STALE_RENDER,ge=s.AD_RENDER_FAILED_REASON,ve=ge.PREVENT_WRITING_ON_MAIN_DOCUMENT,ye=ge.NO_AD,he=ge.EXCEPTION,Oe=ge.CANNOT_FIND_AD,je=ge.MISSING_DOC_OR_ADID,Ie={bidWon:function(e){var t=d.a.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(i.u).filter(i.Hb);if(!Object(i.k)(t,e))return void Object(i.nb)('The "'+e+'" placement is not defined.');return!0}};function _e(e,t,n){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=n)}function we(e,t){var n=[];return Object(i.ab)(e)&&(t?e.length===t:e.length>0)&&(e.every((function(e){return Object(i.bb)(e,2)}))?n=e:Object(i.bb)(e,2)&&n.push(e)),n}function Te(e){var t=Object(i.r)(e),n=t.mediaTypes.banner,r=we(n.sizes);return r.length>0?(n.sizes=r,t.sizes=r):(Object(i.nb)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function Ee(e){var t=Object(i.r)(e),n=t.mediaTypes.video;if(n.playerSize){var r="number"==typeof n.playerSize[0]?2:1,a=we(n.playerSize,r);a.length>0?(2===r&&Object(i.ob)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),n.playerSize=a,t.sizes=a):(Object(i.nb)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}function Se(e){var t=Object(i.r)(e),n=t.mediaTypes.native;return n.image&&n.image.sizes&&!Array.isArray(n.image.sizes)&&(Object(i.nb)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),n.image&&n.image.aspect_ratios&&!Array.isArray(n.image.aspect_ratios)&&(Object(i.nb)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),n.icon&&n.icon.sizes&&!Array.isArray(n.icon.sizes)&&(Object(i.nb)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function Ae(e,t){var n=Object(a.a)(e,"mediaTypes.".concat(t,".pos"));if(!Object(i.ib)(n)||isNaN(n)||!isFinite(n)){var r="Value of property 'pos' on ad unit ".concat(e.code," should be of type: Number");Object(i.qb)(r),o.a(s.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:r}),delete e.mediaTypes[t].pos}return e}function Ce(e){var t=function(t){return"adUnit.code '".concat(e.code,"' ").concat(t)},n=e.mediaTypes,r=e.bids;return null==r||Object(i.ab)(r)?null==r&&null==e.ortb2Imp?(Object(i.nb)(t("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):n&&0!==Object.keys(n).length?(null==e.ortb2Imp||null!=r&&0!==r.length||(e.bids=[{bidder:null}],Object(i.pb)(t("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):(Object(i.nb)(t("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):(Object(i.nb)(t("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}!function(e){var t;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem("pbjs:debugging"))}catch(e){}t&&J(t,!0)}(),se.bidderSettings=se.bidderSettings||{},se.libLoaded=!0,se.version="v6.25.0",Object(i.ob)("Prebid.js v6.25.0 loaded"),se.installedModules=se.installedModules||[],se.adUnits=se.adUnits||[],se.triggerUserSyncs=de;var xe=Object(E.b)("sync",(function(e){var t=[];return e.forEach((function(e){if(null!=(e=Ce(e))){var n,r,i,a=e.mediaTypes;a.banner&&(n=Te(e),a.banner.hasOwnProperty("pos")&&(n=Ae(n,"banner"))),a.video&&(r=Ee(n||e),a.video.hasOwnProperty("pos")&&(r=Ae(r,"video"))),a.native&&(i=Se(r||(n||e)));var o=ce({},n,r,i);t.push(o)}})),t}),"checkAdUnitSetup");function De(e){var t=d.a[e]().filter(i.e.call(i.d,this,d.a.getAdUnitCodes())),n=d.a.getLastAuctionId();return t.map((function(e){return e.adUnitCode})).filter(i.Hb).map((function(e){return t.filter((function(t){return t.auctionId===n&&t.adUnitCode===e}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return t={},n=e[0].adUnitCode,r={bids:e},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r})).reduce((function(e,t){return ce(e,t)}),{})}function ke(e,t,n){var r=t.querySelector(n);e.parentNode&&e.parentNode===r||Object(i.V)(e,t,n)}se.getAdserverTargetingForAdUnitCodeStr=function(e){if(Object(i.ob)("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=se.getAdserverTargetingForAdUnitCode(e);return Object(i.Db)(t)}Object(i.pb)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},se.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var t=d.a.getAllBidsForAdUnitCode(e).filter(B).filter(U);return t.length?t.reduce(i.E):{}}Object(i.pb)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},se.getAdserverTargetingForAdUnitCode=function(e){return se.getAdserverTargeting(e)[e]},se.getAdserverTargeting=function(e){return Object(i.ob)("Invoking pbjs.getAdserverTargeting",arguments),F.getAllTargeting(e)},se.getConsentMetadata=function(){return Object(i.ob)("Invoking pbjs.getConsentMetadata"),{gdpr:oe.b.getConsentMeta(),usp:oe.d.getConsentMeta(),coppa:!!p.b.getConfig("coppa")}},se.getNoBids=function(){return Object(i.ob)("Invoking pbjs.getNoBids",arguments),De("getNoBids")},se.getNoBidsForAdUnitCode=function(e){return{bids:d.a.getNoBids().filter((function(t){return t.adUnitCode===e}))}},se.getBidResponses=function(){return Object(i.ob)("Invoking pbjs.getBidResponses",arguments),De("getBidsReceived")},se.getBidResponsesForAdUnitCode=function(e){return{bids:d.a.getBidsReceived().filter((function(t){return t.adUnitCode===e}))}},se.setTargetingForGPTAsync=function(e,t){if(Object(i.ob)("Invoking pbjs.setTargetingForGPTAsync",arguments),Object(i.gb)()){var n=F.getAllTargeting(e);F.resetPresetTargeting(e,t),F.setTargetingForGPT(n,t),Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(t){"hb_adid"===t&&d.a.setStatusForBids(n[e][t],s.BID_STATUS.BID_TARGETING_SET)}))})),o.a(be,n)}else Object(i.nb)("window.googletag is not defined on the page")},se.setTargetingForAst=function(e){Object(i.ob)("Invoking pbjs.setTargetingForAn",arguments),F.isApntagDefined()?(F.setTargetingForAst(e),o.a(be,F.getAllTargeting())):Object(i.nb)("window.apntag is not defined on the page")},se.renderAd=Object(E.b)("async",(function(e,t,n){if(Object(i.ob)("Invoking pbjs.renderAd",arguments),Object(i.pb)("Calling renderAd with adId :"+t),e&&t)try{var r=d.a.findBidByAdId(t);if(r){var c=!0;if(r&&r.status===s.BID_STATUS.RENDERED&&(Object(i.qb)("Ad id ".concat(r.adId," has been rendered before")),o.a(me,r),Object(a.a)(p.b.getConfig("auctionOptions"),"suppressStaleRender")&&(c=!1)),c){if(r.ad=Object(i.yb)(r.ad,r.originalCpm||r.cpm),r.adUrl=Object(i.yb)(r.adUrl,r.originalCpm||r.cpm),n&&n.clickThrough){var u=n.clickThrough;r.ad=Object(i.zb)(r.ad,u),r.adUrl=Object(i.zb)(r.adUrl,u)}d.a.addWinningBid(r),o.a(pe,r);var f=r.height,b=r.width,m=r.ad,y=r.mediaType,h=r.adUrl,O=r.renderer,j=document.createComment("Creative ".concat(r.creativeId," served by ").concat(r.bidder," Prebid.js Header Bidding"));if(Object(i.V)(j,e,"html"),Object(l.c)(O))Object(l.b)(O,r,e),ke(j,e,"html"),v({doc:e,bid:r,id:t});else if(e===document&&!Object(i.U)()||"video"===y){var I="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document.");g({reason:ve,message:I,bid:r,id:t})}else if(m)e.write(m),e.close(),_e(e,b,f),ke(j,e,"html"),Object(i.g)(r),v({doc:e,bid:r,id:t});else if(h){var _=Object(i.n)();_.height=f,_.width=b,_.style.display="inline",_.style.overflow="hidden",_.src=h,Object(i.V)(_,e,"body"),_e(e,b,f),ke(j,e,"html"),Object(i.g)(r),v({doc:e,bid:r,id:t})}else{var w="Error trying to write ad. No ad for bid response id: ".concat(t);g({reason:ye,message:w,bid:r,id:t})}}}else{var T="Error trying to write ad. Cannot find ad by given id : ".concat(t);g({reason:Oe,message:T,id:t})}}catch(e){var E="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);g({reason:he,message:E,id:t})}else{var S="Error trying to write ad Id :".concat(t," to the page. Missing document or adId");g({reason:je,message:S,id:t})}})),se.removeAdUnit=function(e){(Object(i.ob)("Invoking pbjs.removeAdUnit",arguments),e)?(Object(i.ab)(e)?e:[e]).forEach((function(e){for(var t=se.adUnits.length-1;t>=0;t--)se.adUnits[t].code===e&&se.adUnits.splice(t,1)})):se.adUnits=[]},se.requestBids=Object(E.b)("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,a=e.adUnitCodes,c=e.labels,s=e.auctionId;o.a(fe);var l=n||p.b.getConfig("bidderTimeout");r=r&&p.b.convertAdUnitFpd(Object(i.ab)(r)?r:[r])||se.adUnits,Object(i.ob)("Invoking pbjs.requestBids",arguments);var f=Object(oe.c)(p.b.getConfig("s2sConfig")||[]);if(r=xe(r),a&&a.length?r=r.filter((function(e){return Object(u.c)(a,e.code)})):a=r&&r.map((function(e){return e.code})),r.forEach((function(e){var t=Object.keys(e.mediaTypes||{banner:"banner"}),n=e.bids.map((function(e){return e.bidder})),r=oe.a.bidderRegistry,a=n.filter((function(e){return!f.has(e)}));e.transactionId=Object(i.w)(),a.forEach((function(n){var a=r[n],o=a&&a.getSpec&&a.getSpec(),c=o&&o.supportedMediaTypes||["banner"];t.some((function(e){return Object(u.c)(c,e)}))?re.a.incrementBidderRequestsCounter(e.code,n):(Object(i.qb)(Object(i.Ib)(e,n)),e.bids=e.bids.filter((function(e){return e.bidder!==n})))})),re.a.incrementRequestsCounter(e.code)})),r&&0!==r.length){var b=d.a.createAuction({adUnits:r,adUnitCodes:a,callback:t,cbTimeout:l,labels:c,auctionId:s}),m=r.length;m>15&&Object(i.ob)("Current auction ".concat(b.getAuctionId()," contains ").concat(m," adUnits."),r),a.forEach((function(e){return F.setLatestAuctionForAdUnit(e,b.getAuctionId())})),b.callBids()}else if(Object(i.pb)("No adUnits configured. No bids requested."),"function"==typeof t)try{t()}catch(e){Object(i.nb)("Error executing bidsBackHandler",null,e)}})),se.requestBids.before((function(e,t){function n(e){for(var t;t=e.shift();)t()}n(ae.c),n(Pe),e.call(this,t)}),49),se.addAdUnits=function(e){Object(i.ob)("Invoking pbjs.addAdUnits",arguments),se.adUnits.push.apply(se.adUnits,p.b.convertAdUnitFpd(Object(i.ab)(e)?e:[e])),o.a(le)},se.onEvent=function(e,t,n){Object(i.ob)("Invoking pbjs.onEvent",arguments),Object(i.fb)(t)?!n||Ie[e].call(null,n)?o.d(e,t,n):Object(i.nb)('The id provided is not valid for event "'+e+'" and no handler was set.'):Object(i.nb)('The event handler provided is not a function and was not set on event "'+e+'".')},se.offEvent=function(e,t,n){Object(i.ob)("Invoking pbjs.offEvent",arguments),n&&!Ie[e].call(null,n)||o.c(e,t,n)},se.getEvents=function(){return Object(i.ob)("Invoking pbjs.getEvents"),o.b()},se.registerBidAdapter=function(e,t){Object(i.ob)("Invoking pbjs.registerBidAdapter",arguments);try{oe.a.registerBidAdapter(e(),t)}catch(e){Object(i.nb)("Error registering bidder adapter : "+e.message)}},se.registerAnalyticsAdapter=function(e){Object(i.ob)("Invoking pbjs.registerAnalyticsAdapter",arguments);try{oe.a.registerAnalyticsAdapter(e)}catch(e){Object(i.nb)("Error registering analytics adapter : "+e.message)}},se.createBid=function(e){return Object(i.ob)("Invoking pbjs.createBid",arguments),Object(ie.a)(e)};var Pe=[],Re=Object(E.b)("async",(function(e){e&&!Object(i.db)(e)?(Object(i.ob)("Invoking pbjs.enableAnalytics for: ",e),oe.a.enableAnalytics(e)):Object(i.nb)("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");function Ue(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){Object(i.nb)("Error processing command :","prebid.js",e)}}))}se.enableAnalytics=function(e){Pe.push(Re.bind(this,e))},se.aliasBidder=function(e,t,n){Object(i.ob)("Invoking pbjs.aliasBidder",arguments),e&&t?oe.a.aliasBidAdapter(e,t,n):Object(i.nb)("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},se.getAllWinningBids=function(){return d.a.getAllWinningBids()},se.getAllPrebidWinningBids=function(){return d.a.getBidsReceived().filter((function(e){return e.status===s.BID_STATUS.BID_TARGETING_SET}))},se.getHighestCpmBids=function(e){return F.getWinningBids(e)},se.markWinningBidAsUsed=function(e){var t=[];e.adUnitCode&&e.adId?t=d.a.getBidsReceived().filter((function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode})):e.adUnitCode?t=F.getWinningBids(e.adUnitCode):e.adId?t=d.a.getBidsReceived().filter((function(t){return t.adId===e.adId})):Object(i.qb)("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),t.length>0&&(t[0].status=s.BID_STATUS.RENDERED)},se.getConfig=p.b.getConfig,se.readConfig=p.b.readConfig,se.mergeConfig=p.b.mergeConfig,se.mergeBidderConfig=p.b.mergeBidderConfig,se.setConfig=p.b.setConfig,se.setBidderConfig=p.b.setBidderConfig,se.que.push((function(){window.addEventListener("message",j,!1)})),se.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){Object(i.nb)("Error processing command :",e.message,e.stack)}else Object(i.nb)("Commands written into pbjs.cmd.push must be wrapped in a function")},se.que.push=se.cmd.push,se.processQueue=function(){E.b.ready(),Ue(se.que),Ue(se.cmd)};var Be=se,qe=n(35),Ne=n(10);function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ge="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),Ve={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},We="number",Ke="string",Ye="boolean",He="array",Je={mimes:He,minduration:We,maxduration:We,startdelay:We,playbackmethod:He,api:He,protocols:He,w:We,h:We,battr:He,linearity:We,placement:We,minbitrate:We,maxbitrate:We,skip:We},Xe={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},$e=1,Qe=2,Ze=3,et=[{id:Xe.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:Xe.TITLE.ID,required:!0},{id:Xe.IMAGE.ID,required:!0}],tt={1:"PMP",5:"PREF",6:"PMPG"},nt=1,rt=2,it={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var n,r=it.getRendererId("pubmatic",e.rendererCode),a=document.getElementById(e.adUnitCode),o=0;o<window.bluebillywig.renderers.length;o++)if(window.bluebillywig.renderers[o]._id===r){n=window.bluebillywig.renderers[o];break}n?n.bootstrap(t,a):Object(i.qb)("".concat("PubMatic: ",": Couldn't find a renderer with ").concat(r))}else Object(i.qb)("".concat("PubMatic: ",": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var n=Ge.replace("$RENDERER",e),r=l.a.install({url:n,loaded:!1,adUnitCode:t});try{r.setRender(it.outstreamRender)}catch(e){Object(i.qb)("".concat("PubMatic: ",": Error tying to setRender on renderer"),e)}return r},outstreamRender:function(e){e.renderer.push((function(){it.bootstrapPlayer(e)}))},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},at=[T.b,T.d,T.c],ot=0,ct=!1,st={},dt={};function ut(e,t){if(Object(i.lb)(t))switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((function(e){return e.trim()})).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||void 0;case"yob":return parseInt(t)||void 0;default:return t}else t&&Object(i.qb)("PubMatic: Ignoring param key: "+e+", expects string-value, found "+Le(t))}function lt(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,Object(i.lb)(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&Object(i.qb)("pubmatic: adSlot must be a string. Ignoring adSlot"),""));var n=e.params.adSlot,r=n.split(":");if(n=r[0],2==r.length&&(e.params.adUnitIndex=r[1]),r=n.split("@"),e.params.adUnit=r[0],r.length>1){if(2!=(r=r[1].split("x")).length)return void Object(i.qb)("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(r[0],10),e.params.height=parseInt(r[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(T.b)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var a=0,o=[];a<e.mediaTypes.banner.sizes.length;a++)2===e.mediaTypes.banner.sizes[a].length&&o.push(e.mediaTypes.banner.sizes[a]);e.mediaTypes.banner.sizes=o,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}function pt(e,t,n){var r,a="Ignoring param key: "+e+", expects "+n+", found "+Le(t);switch(n){case Ye:r=i.cb;break;case We:r=i.ib;break;case Ke:r=i.lb;break;case He:r=i.ab}if(r(t))return t;Object(i.qb)("PubMatic: "+a)}function ft(e,t){var n=e.KEY;return{id:e.ID,required:t[n].required?1:0,data:{type:e.TYPE,len:t[n].len,ext:t[n].ext}}}function bt(e){var t={assets:[]};for(var n in e){if(e.hasOwnProperty(n)){var r={};if(!(t.assets&&t.assets.length>0&&t.assets.hasOwnProperty(n)))switch(n){case Xe.TITLE.KEY:e[n].len||e[n].length?r={id:Xe.TITLE.ID,required:e[n].required?1:0,title:{len:e[n].len||e[n].length,ext:e[n].ext}}:Object(i.qb)("PubMatic: Error: Title Length is required for native ad: "+JSON.stringify(e));break;case Xe.IMAGE.KEY:e[n].sizes&&e[n].sizes.length>0?r={id:Xe.IMAGE.ID,required:e[n].required?1:0,img:{type:Ze,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:void 0),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:void 0),wmin:e[n].wmin||e[n].minimumWidth||(e[n].minsizes?e[n].minsizes[0]:void 0),hmin:e[n].hmin||e[n].minimumHeight||(e[n].minsizes?e[n].minsizes[1]:void 0),mimes:e[n].mimes,ext:e[n].ext}}:Object(i.qb)("PubMatic: Error: Image sizes is required for native ad: "+JSON.stringify(e));break;case Xe.ICON.KEY:e[n].sizes&&e[n].sizes.length>0?r={id:Xe.ICON.ID,required:e[n].required?1:0,img:{type:$e,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:void 0),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:void 0)}}:Object(i.qb)("PubMatic: Error: Icon sizes is required for native ad: "+JSON.stringify(e));break;case Xe.VIDEO.KEY:r={id:Xe.VIDEO.ID,required:e[n].required?1:0,video:{minduration:e[n].minduration,maxduration:e[n].maxduration,protocols:e[n].protocols,mimes:e[n].mimes,ext:e[n].ext}};break;case Xe.EXT.KEY:r={id:Xe.EXT.ID,required:e[n].required?1:0};break;case Xe.LOGO.KEY:r={id:Xe.LOGO.ID,required:e[n].required?1:0,img:{type:Qe,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:void 0),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:void 0)}};break;case Xe.SPONSOREDBY.KEY:case Xe.BODY.KEY:case Xe.RATING.KEY:case Xe.LIKES.KEY:case Xe.DOWNLOADS.KEY:case Xe.PRICE.KEY:case Xe.SALEPRICE.KEY:case Xe.PHONE.KEY:case Xe.ADDRESS.KEY:case Xe.DESC2.KEY:case Xe.DISPLAYURL.KEY:case Xe.CTA.KEY:r=ft(dt[n],e)}}r&&r.id&&(t.assets[t.assets.length]=r)}var a=et.length,o=0;return et.forEach((function(e){for(var n=t.assets.length,r=0;r<n;r++)if(e.id==t.assets[r].id){o++;break}})),ct=a!=o,t}function mt(e){var t,n=e.mediaTypes.banner.sizes,r=[];if(void 0!==n&&Object(i.ab)(n)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===n.length)return t=void 0,Object(i.qb)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(n[0][0],10),t.h=parseInt(n[0][1],10),n=n.splice(1,n.length-1)}n.length>0&&(r=[],n.forEach((function(e){e.length>1&&r.push({w:e[0],h:e[1]})})),r.length>0&&(t.format=r)),t.pos=0,t.topframe=Object(i.U)()?0:1}else Object(i.qb)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=void 0;return t}function gt(e){var t,n=Object(i.rb)(Object(a.a)(e.mediaTypes,"video"),e.params.video);if(void 0!==n){for(var r in t={},function(e,t){Object(a.a)(e,"placement")||Object(i.qb)("Video.Placement param missing for "+t)}(n,e.adUnitCode),Je)n.hasOwnProperty(r)&&(t[r]=pt(r,n[r],Je[r]));Object(i.ab)(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):Object(i.ib)(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=void 0,Object(i.qb)("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function vt(e,t,n){var r=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,i="";if(void 0!==r&&""!==r&&r.hasOwnProperty("segments")){var a,o=r.segments.length;i+="jw-id="+r.content.id;for(var c=0;c<o;c++)i+="|jw-"+r.segments[c]+"=1";n?void 0===e.dctr||0==e.dctr.length?e.dctr=i:e.dctr+="|"+i:(a=e.ext)&&void 0===a.key_val?a.key_val=i:a.key_val+="|"+i}}function yt(e,t){var n,r,o={},c={},s=e.hasOwnProperty("sizes")?e.sizes:[],d="",u=[];if(function(e,t){t.params.deals&&(Object(i.ab)(t.params.deals)?t.params.deals.forEach((function(t){Object(i.lb)(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):Object(i.qb)("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):Object(i.qb)("PubMatic: Error: bid.params.deals should be an array of strings."))}(o={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:ut("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:ut("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?ut("currency",e.params.currency):"USD"},e),function(e,t){var n,r="";if(t.params.dctr)if(r=t.params.dctr,Object(i.lb)(r)&&r.length>0){var a=r.split("|");r="",a.forEach((function(e){r+=e.length>0?e.trim()+"|":""})),n=r.length,"|"===r.substring(n,n-1)&&(r=r.substring(0,n-1)),e.ext.key_val=r.trim()}else Object(i.qb)("PubMatic: Ignoring param : dctr with value : "+r+", expects string-value, found empty or non-string value")}(o,e),vt(o,e),e.hasOwnProperty("mediaTypes"))for(d in e.mediaTypes)switch(d){case T.b:void 0!==(n=mt(e))&&(o.banner=n);break;case T.c:c.request=JSON.stringify(bt(e.nativeParams)),ct?Object(i.qb)("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):o.native=c;break;case T.d:void 0!==(r=gt(e))&&(o.video=r)}else n={pos:0,w:e.params.width,h:e.params.height,topframe:Object(i.U)()?0:1},Object(i.ab)(s)&&s.length>1&&((s=s.splice(1,s.length-1)).forEach((function(e){u.push({w:e[0],h:e[1]})})),n.format=u),o.banner=n;return function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(a.a)(t,"ortb2Imp.ext.data"));Object.keys(n).forEach((function(t){"pbadslot"===t?"string"==typeof n[t]&&n[t]&&Object(qe.a)(e,"ext.data.pbadslot",n[t]):"adserver"===t?["name","adslot"].forEach((function(t){var r=Object(a.a)(n,"adserver.".concat(t));"string"==typeof r&&r&&(Object(qe.a)(e,"ext.data.adserver.".concat(t.toLowerCase()),r),"adslot"===t&&Object(qe.a)(e,"ext.dfp_ad_unit_code",r))})):Object(qe.a)(e,"ext.data.".concat(t),n[t])}))}(o,e),function(e,t){var n=-1;"function"!=typeof t.getFloor||p.b.getConfig("pubmatic.disableFloors")||[T.b,T.d,T.c].forEach((function(r){if(e.hasOwnProperty(r)){var a=[];"banner"===r&&(e[r].w&&e[r].h&&a.push([e[r].w,e[r].h]),Object(i.ab)(e[r].format)&&e[r].format.forEach((function(e){return a.push([e.w,e.h])}))),0===a.length&&a.push("*"),a.forEach((function(a){var o=t.getFloor({currency:e.bidfloorcur,mediaType:r,size:a});if(Object(i.ob)("PubMatic: ","floor from floor module returned for mediatype:",r," and size:",a," is: currency",o.currency,"floor",o.floor),"object"===Le(o)&&o.currency===e.bidfloorcur&&!isNaN(parseInt(o.floor))){var c=parseFloat(o.floor);Object(i.ob)("PubMatic: ","floor from floor module:",c,"previous floor value",n,"Min:",Math.min(c,n)),n=-1===n?c:Math.min(c,n),Object(i.ob)("PubMatic: ","new floor value:",n)}}))}}));e.bidfloor&&(Object(i.ob)("PubMatic: ","floor from floor module:",n,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(n,e.bidfloor)),n=Math.max(n,e.bidfloor));e.bidfloor=!isNaN(n)&&n>0?n:void 0,Object(i.ob)("PubMatic: ","new impObj.bidfloor value:",e.bidfloor)}(o,e),o.hasOwnProperty(T.b)||o.hasOwnProperty(T.c)||o.hasOwnProperty(T.d)?o:void 0}function ht(e,t){var n=null,r=Object(a.a)(e,"0.userId.flocId");if(r&&r.id)switch(t){case rt:n={id:"FLOC",name:"FLOC",ext:{ver:r.version},segment:[{id:r.id,name:"chrome.com",value:r.id.toString()}]};break;case nt:default:n={source:"chrome.com",uids:[{atype:1,id:r.id,ext:{ver:r.version}}]}}return n}function Ot(e,t){(t=t.filter((function(e){return"string"==typeof e||(Object(i.qb)("PubMatic: acat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,n){return n.indexOf(e)===t}))).length>0&&(Object(i.qb)("PubMatic: acat: Selected: ",t),e.ext.acat=t)}function jt(e){return!0===Object(i.ab)(e)&&e.length>0}Object(i.a)(Xe,(function(e){st[e.ID]=e.KEY})),Object(i.a)(Xe,(function(e){dt[e.KEY]=e}));var It={code:"pubmatic",gvlid:76,supportedMediaTypes:[T.b,T.d,T.c],isBidRequestValid:function(e){if(e&&e.params){if(!Object(i.lb)(e.params.publisherId))return Object(i.qb)("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(T.d)){var t=Object(a.a)(e.mediaTypes,"video.mimes"),n=Object(a.a)(e,"params.video.mimes");if(!1===jt(t)&&!1===jt(n))return Object(i.qb)("PubMatic: Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[T.d].hasOwnProperty("context"))return Object(i.nb)("".concat("PubMatic: ",": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[T.d].context&&!Object(i.lb)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[T.d].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(T.b)||e.mediaTypes.hasOwnProperty(T.c)?(delete e.mediaTypes[T.d],Object(i.qb)("".concat("PubMatic: ",': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),e),!0):(Object(i.nb)("".concat("PubMatic: ",': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1)}return!0}return!1},buildRequests:function(e,t){var n,r,o,c,s;t&&t.refererInfo&&(s=t.refererInfo);var d,u=function(e){return{pageURL:e&&e.referer?e.referer:window.location.href,refURL:window.document.referrer}}(s),l=function(e){return{id:""+(new Date).getTime(),at:1,cur:["USD"],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(u),f="",b=[],m=[],g=[];if(e.forEach((function(e){if((d=Object(i.r)(e)).params.adSlot=d.params.adSlot||"",lt(d),d.mediaTypes&&d.mediaTypes.hasOwnProperty("video")||d.params.hasOwnProperty("video"));else if(!(d.hasOwnProperty("mediaTypes")&&d.mediaTypes.hasOwnProperty(T.c)||0!==d.params.width||0!==d.params.height))return void Object(i.qb)("PubMatic: Skipping the non-standard adslot: ",d.params.adSlot,JSON.stringify(d));u.pubId=u.pubId||d.params.publisherId,(u=function(e,t){var n,r,a;for(n in t.kadpageurl||(t.kadpageurl=t.pageURL),Ve)Ve.hasOwnProperty(n)&&(r=e[n])&&("object"===Le(a=Ve[n])&&(r=a.f(r,t)),Object(i.lb)(r)?t[n]=r:Object(i.qb)("PubMatic: Ignoring param : "+n+" with value : "+Ve[n]+", expects string-value, found "+Le(r)));return t}(d.params,u)).transactionId=d.transactionId,""===f?f=d.params.currency||void 0:d.params.hasOwnProperty("currency")&&f!==d.params.currency&&Object(i.qb)("PubMatic: Currency specifier ignored. Only one currency permitted."),d.params.currency=f,d.params.hasOwnProperty("dctr")&&Object(i.lb)(d.params.dctr)&&b.push(d.params.dctr),d.params.hasOwnProperty("bcat")&&Object(i.ab)(d.params.bcat)&&(m=m.concat(d.params.bcat)),d.params.hasOwnProperty("acat")&&Object(i.ab)(d.params.acat)&&(g=g.concat(d.params.acat));var t=yt(d);t&&l.imp.push(t)})),0!=l.imp.length){var v,y;l.site.publisher.id=u.pubId.trim(),ot=u.pubId.trim(),l.ext.wrapper={},l.ext.wrapper.profile=parseInt(u.profId)||void 0,l.ext.wrapper.version=parseInt(u.verId)||void 0,l.ext.wrapper.wiid=u.wiid||t.auctionId,l.ext.wrapper.wv="prebid_prebid_6.25.0",l.ext.wrapper.transactionId=u.transactionId,l.ext.wrapper.wp="pbjs",t&&t.bidderCode&&(l.ext.allowAlternateBidderCodes=S.a.get(t.bidderCode,"allowAlternateBidderCodes"),l.ext.allowedAlternateBidderCodes=S.a.get(t.bidderCode,"allowedAlternateBidderCodes")),l.user.gender=u.gender?u.gender.trim():void 0,l.user.geo={},l.user.geo.lat=ut("lat",u.lat),l.user.geo.lon=ut("lon",u.lon),l.user.yob=ut("yob",u.yob),l.device.geo=l.user.geo,l.site.page=u.kadpageurl.trim()||l.site.page.trim(),l.site.domain=(v=l.site.page,(y=document.createElement("a")).href=v,y.hostname),"object"===Le(p.b.getConfig("content"))&&(l.site.content=p.b.getConfig("content")),"object"===Le(p.b.getConfig("device"))&&(l.device=Me(l.device,p.b.getConfig("device"))),Object(qe.a)(l,"source.tid",u.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(l.test=1),e[0].schain&&Object(qe.a)(l,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(Object(qe.a)(l,"user.ext.consent",t.gdprConsent.consentString),Object(qe.a)(l,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&Object(qe.a)(l,"regs.ext.us_privacy",t.uspConsent),!0===p.b.getConfig("coppa")&&Object(qe.a)(l,"regs.coppa",1),function(e,t){var n=Object(a.a)(t,"0.userIdAsEids"),r=ht(t,nt);r&&(n||(n=[]),n.push(r)),Object(i.ab)(n)&&n.length>0&&Object(qe.a)(e,"user.eids",n)}(l,e),function(e,t){var n=ht(t,rt);n&&(e.user||(e.user={}),e.user.data||(e.user.data=[]),e.user.data.push(n))}(l,e);var h=p.b.getConfig("ortb2")||{};if(h.site&&Object(i.rb)(l,{site:h.site}),h.user&&Object(i.rb)(l,{user:h.user}),h.bcat&&(m=m.concat(h.bcat)),null!==(n=h.ext)&&void 0!==n&&null!==(r=n.prebid)&&void 0!==r&&null!==(o=r.bidderparams)&&void 0!==o&&null!==(c=o[t.bidderCode])&&void 0!==c&&c.acat){var O=h.ext.prebid.bidderparams[t.bidderCode].acat;Ot(l,O)}else g.length&&Ot(l,g);return function(e,t){(t=t.filter((function(e){return"string"==typeof e||(Object(i.qb)("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,n){if(e.length>3)return n.indexOf(e)===t;Object(i.qb)("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&(Object(i.qb)("PubMatic: bcat: Selected: ",t),e.bcat=t)}(l,m),"object"===Le(p.b.getConfig("app"))&&(l.app=p.b.getConfig("app"),l.app.publisher=l.site.publisher,l.app.ext=l.site.ext||void 0,"object"!==Le(l.app.content)&&(l.app.content=l.site.content||void 0),delete l.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(l),bidderRequest:t}}},interpretResponse:function(e,t){var n=[],r="USD",a=JSON.parse(t.data),o=a.site&&a.site.ref?a.site.ref:"";try{e.body&&e.body.seatbid&&Object(i.ab)(e.body.seatbid)&&(r=e.body.cur||r,e.body.seatbid.forEach((function(e){e.bid&&Object(i.ab)(e.bid)&&e.bid.forEach((function(c){var s={requestId:c.impid,cpm:(parseFloat(c.price)||0).toFixed(2),width:c.w,height:c.h,creativeId:c.crid||c.id,dealId:c.dealid,currency:r,netRevenue:!0,ttl:300,referrer:o,ad:c.adm,pm_seat:e.seat||null,pm_dspid:c.ext&&c.ext.dspid?c.ext.dspid:null,partnerImpId:c.id||""};a.imp&&a.imp.length>0&&a.imp.forEach((function(e){if(c.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.bidtype)t.mediaType=at[e.ext.bidtype];else{Object(i.ob)("PubMatic: bid.ext.bidtype does not exist, checking alternatively for mediaType");var n=e.adm,r="",a=new RegExp(/VAST\s+version/);if(n.indexOf('span class="PubAPIAd"')>=0)t.mediaType=T.b;else if(a.test(n))t.mediaType=T.d;else try{(r=JSON.parse(n.replace(/\\/g,"")))&&r.native&&(t.mediaType=T.c)}catch(e){Object(i.qb)("PubMatic: Error: Cannot parse native reponse for ad response: "+n)}}}(c,s),s.mediaType){case T.b:break;case T.d:s.width=c.hasOwnProperty("w")?c.w:e.video.w,s.height=c.hasOwnProperty("h")?c.h:e.video.h,s.vastXml=c.adm,function(e,t){var n,r,i;if(t.bidderRequest&&t.bidderRequest.bids){for(var a=0;a<t.bidderRequest.bids.length;a++)t.bidderRequest.bids[a].bidId===e.requestId&&(n=t.bidderRequest.bids[a].params,r=t.bidderRequest.bids[a].mediaTypes[T.d].context,i=t.bidderRequest.bids[a].adUnitCode);r&&"outstream"===r&&n&&n.outstreamAU&&i&&(e.rendererCode=n.outstreamAU,e.renderer=it.newRenderer(e.rendererCode,i))}}(s,t);break;case T.c:!function(e,t){if(t.native={},e.hasOwnProperty("adm")){var n="";try{n=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void Object(i.qb)("PubMatic: Error: Cannot parse native reponse for ad response: "+t.adm)}if(n&&n.native&&n.native.assets&&n.native.assets.length>0){t.mediaType=T.c;for(var r=0,a=n.native.assets.length;r<a;r++)switch(n.native.assets[r].id){case Xe.TITLE.ID:t.native.title=n.native.assets[r].title&&n.native.assets[r].title.text;break;case Xe.IMAGE.ID:t.native.image={url:n.native.assets[r].img&&n.native.assets[r].img.url,height:n.native.assets[r].img&&n.native.assets[r].img.h,width:n.native.assets[r].img&&n.native.assets[r].img.w};break;case Xe.ICON.ID:t.native.icon={url:n.native.assets[r].img&&n.native.assets[r].img.url,height:n.native.assets[r].img&&n.native.assets[r].img.h,width:n.native.assets[r].img&&n.native.assets[r].img.w};break;case Xe.SPONSOREDBY.ID:case Xe.BODY.ID:case Xe.LIKES.ID:case Xe.DOWNLOADS.ID:case Xe.PRICE:case Xe.SALEPRICE.ID:case Xe.PHONE.ID:case Xe.ADDRESS.ID:case Xe.DESC2.ID:case Xe.CTA.ID:case Xe.RATING.ID:case Xe.DISPLAYURL.ID:t.native[st[n.native.assets[r].id]]=n.native.assets[r].data&&n.native.assets[r].data.value}t.native.clickUrl=n.native.link&&n.native.link.url,t.native.clickTrackers=n.native.link&&n.native.link.clicktrackers||[],t.native.impressionTrackers=n.native.imptrackers||[],t.native.jstracker=n.native.jstracker||[],t.width||(t.width=0),t.height||(t.height=0)}}}(c,s)}})),c.ext&&c.ext.deal_channel&&(s.dealChannel=tt[c.ext.deal_channel]||null),s.meta={},c.ext&&c.ext.dspid&&(s.meta.networkId=c.ext.dspid),c.ext&&c.ext.advid&&(s.meta.buyerId=c.ext.advid),c.adomain&&c.adomain.length>0&&(s.meta.advertiserDomains=c.adomain,s.meta.clickUrl=c.adomain[0]),e.ext&&e.ext.buyid&&(s.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),c.ext&&c.ext.marketplace&&(s.bidderCode=c.ext.marketplace),n.push(s)}))})))}catch(e){Object(i.nb)(e)}return n},getUserSyncs:function(e,t,n,r){var i=""+ot;return n&&(i+="&gdpr="+(n.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(n.consentString||"")),r&&(i+="&us_privacy="+encodeURIComponent(r)),!0===p.b.getConfig("coppa")&&(i+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+i}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+i}]},transformBidParams:function(e,t,n,r){return vt(e,n.bids[0],!0),Object(i.m)({publisherId:"string",adSlot:"string"},e)}};Object(Ne.c)(It),window.pbjs.installedModules.push("pubmaticBidAdapter");var _t=n(27),wt=n(33),Tt=n(19),Et={trustpid:{source:"trustpid.com",atype:1,getValue:function(e){return e}},intentIqId:{source:"intentiq.com",atype:1},naveggId:{source:"navegg.com",atype:1},justId:{source:"justtag.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},ftrackId:{source:"flashtalking.com",atype:1,getValue:function(e){return e.uid},getUidExt:function(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var t=Object(i.wb)(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.keyID?{keyID:e.keyID}:void 0}},netId:{source:"netid.de",atype:1},IDP:{source:"zeotap.com",atype:1},hadronId:{source:"audigent.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},nextrollId:{source:"nextroll.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return e.snowflake},source:"novatiq.com",atype:1},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},dapId:{source:"akamai.com",atype:1},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3},adtelligentId:{source:"adtelligent.com",atype:3},amxId:{source:"amxrtb.com",atype:1},publinkId:{source:"epsilon.com",atype:3},kpuid:{source:"kpuid.com",atype:3},imuid:{source:"intimatemerger.com",atype:1},connectId:{source:"yahoo.com",atype:3},qid:{source:"adquery.io",atype:1},dacId:{source:"impact-ad.jp",atype:1},"33acrossId":{source:"33across.com",atype:1,getValue:function(e){return e.envelope}}};function St(e,t){var n=Et[t];if(n&&e){var r={};r.source=n.source;var a=Object(i.fb)(n.getValue)?n.getValue(e):e;if(Object(i.lb)(a)){var o={id:a,atype:n.atype};if(Object(i.fb)(n.getUidExt)){var c=n.getUidExt(e);c&&(o.ext=c)}if(r.uids=[o],Object(i.fb)(n.getEidExt)){var s=n.getEidExt(e);s&&(r.ext=s)}return r}}return null}function At(e){var t=[];for(var n in e)if(e.hasOwnProperty(n))if("pubProvidedId"===n)t=t.concat(e.pubProvidedId);else{var r=St(e[n],n);r&&t.push(r)}return t}var Ct=n(18);function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pt,Rt,Ut,Bt=[T.b,T.c,T.d],qt=Object(ae.b)({gvlid:617,bidderCode:"adagio"}),Nt={mimes:function(e){return Array.isArray(e)&&e.length>0&&e.every((function(e){return"string"==typeof e}))},minduration:function(e){return Object(i.hb)(e)},maxduration:function(e){return Object(i.hb)(e)},protocols:function(e){return Array.isArray(e)&&e.every((function(e){return-1!==[1,2,3,4,5,6,7,8,9,10].indexOf(e)}))},w:function(e){return Object(i.hb)(e)},h:function(e){return Object(i.hb)(e)},startdelay:function(e){return Object(i.hb)(e)},placement:function(e){return Array.isArray(e)&&e.every((function(e){return-1!==[1,2,3,4,5].indexOf(e)}))},linearity:function(e){return-1!==[1,2].indexOf(e)},skip:function(e){return-1!==[0,1].indexOf(e)},skipmin:function(e){return Object(i.hb)(e)},skipafter:function(e){return Object(i.hb)(e)},sequence:function(e){return Object(i.hb)(e)},battr:function(e){return Array.isArray(e)&&e.every((function(e){return-1!==Array.from({length:17},(function(e,t){return t+1})).indexOf(e)}))},maxextended:function(e){return Object(i.hb)(e)},minbitrate:function(e){return Object(i.hb)(e)},maxbitrate:function(e){return Object(i.hb)(e)},boxingallowed:function(e){return-1!==[0,1].indexOf(e)},playbackmethod:function(e){return Array.isArray(e)&&e.every((function(e){return-1!==[1,2,3,4,5,6].indexOf(e)}))},playbackend:function(e){return-1!==[1,2,3].indexOf(e)},delivery:function(e){return-1!==[1,2,3].indexOf(e)},pos:function(e){return-1!==[0,1,2,3,4,5,6,7].indexOf(e)},api:function(e){return Array.isArray(e)&&e.every((function(e){return-1!==[1,2,3,4,5,6].indexOf(e)}))}},Mt=(Ut={},{clearFeatures:function(){Rt=void 0},clearExchangeData:function(){Ut={}},getOrSetGlobalFeatures:function(){return Rt||(Rt={page_dimensions:Jt().toString(),viewport_dimensions:Xt().toString(),user_timestamp:(Math.floor((new Date).getTime()/1e3)-60*(new Date).getTimezoneOffset()).toString(),dom_loading:Zt().toString()}),Rt},prepareExchangeData:function(e){var t=JSON.parse(e,(function(e,t){if("_"!==e.charAt(0)||""===e)return t})),n=Object(a.a)(t,"session.rnd"),r=!1;Vt.isNewSession(t)&&(r=!0,n=Math.random());var o={session:{new:r,rnd:n}};Object(i.rb)(Ut,t,o),Vt.enqueue({action:"session",ts:Date.now(),data:Ut})},getExchangeData:function(){return Ut}});function zt(){try{if(Object(i.R)().location.href)return!0}catch(e){return!1}}function Ft(){return Pt||Object(i.Q)()}function Lt(){var e=Object(i.Q)();return!(!e.$sf||!e.$sf.ext)}function Gt(e){var t=Vt.isRendererPreferredFromPublisher(e)?"other":"adagio";return"other"===t&&Object(i.qb)("".concat("Adagio:"," renderer.backupOnly has not been set. Adagio recommends to use its own player to get expected behavior.")),t}var Vt={enqueue:function(e){var t=Vt.getCurrentWindow();t.ADAGIO=t.ADAGIO||{},t.ADAGIO.queue=t.ADAGIO.queue||[],t.ADAGIO.queue.push(e)},getPageviewId:function(){var e=Vt.getCurrentWindow();return e.ADAGIO=e.ADAGIO||{},e.ADAGIO.pageviewId=e.ADAGIO.pageviewId||Object(i.w)(),e.ADAGIO.pageviewId},getDevice:function(){var e=navigator.language?"language":"userLanguage";return{userAgent:navigator.userAgent,language:navigator[e],dnt:Object(i.B)()?1:0,geo:{},js:1}},getSite:function(e){var t=e.refererInfo;return{domain:Object(i.vb)(t.referer).hostname||"",page:t.referer||"",referrer:zt()?Object(i.R)().document.referrer||"":Object(i.Q)().document.referrer||"",top:t.reachedTop}},getElementFromTopWindow:function e(t,n){try{if(Object(i.R)()===n)return t.getAttribute("id")||t.setAttribute("id","adg-".concat(Object(i.M)())),t;var r=n.frameElement,a=r.getBoundingClientRect(),o=t.getBoundingClientRect();return a.width===o.width&&a.height===o.height&&e(r,n.parent)}catch(e){return Object(i.qb)("".concat("Adagio:"),e),!1}},getRefererInfo:Tt.a,adagioScriptFromLocalStorageCb:function(e){try{if(!e)return void Object(i.qb)("".concat("Adagio:"," script not found."));var t=/^(\/\/ hash: (.+)\n)(.+\n)$/;if(t.test(e)){var n=e.match(t),r=n[2],a=n[3];Object(wt.verify)(a,r,"AL16XT44Sfp+8SHVF1UdC7hydPSMVLMhsYknKDdwqq+0ToDSJrP0+Qh0ki9JJI2uYm/6VEYo8TJED9WfMkiJ4vf02CW3RvSWwc35bif2SK1L8Nn/GfFYr/2/GG/Rm0vUsv+vBHky6nuuYls20Og0HDhMgaOlXoQ/cxMuiy5QSktp",65537)?(Object(i.ob)("".concat("Adagio:"," start script.")),Function(e)()):(Object(i.qb)("".concat("Adagio:"," invalid script found.")),qt.removeDataFromLocalStorage("adagioScript"))}else Object(i.qb)("".concat("Adagio:"," no hash found.")),qt.removeDataFromLocalStorage("adagioScript")}catch(e){Object(i.nb)("Adagio:",e)}},getCurrentWindow:Ft,canAccessTopWindow:zt,isRendererPreferredFromPublisher:function(e){var t=Object(a.a)(e,"renderer"),n=!!(t&&t.url&&t.render),r=Object(a.a)(e,"mediaTypes.video.renderer"),i=!!(r&&r.url&&r.render);return!!(n&&!0!==t.backupOnly||i&&!0!==r.backupOnly)},isNewSession:function(e){var t=Date.now(),n=Object(a.a)(e,"session",{}),r=n.lastActivityTime,o=n.vwSmplg;return!Object(i.ib)(r)||!Object(i.ib)(o)||t-r>18e5}};function Wt(e){e.renderer.push((function(){"function"==typeof window.ADAGIO.outstreamPlayer?window.ADAGIO.outstreamPlayer(e):Object(i.nb)("".concat("Adagio:"," Adagio outstream player is not defined"))}))}function Kt(e){if(e.admNative&&Array.isArray(e.admNative.assets)){var t={};e.admNative.assets.forEach((function(e){if(e.title)t.title=e.title.text;else if(e.data)n=e.data,(r={1:"sponsoredBy",2:"body",3:"rating",4:"likes",5:"downloads",6:"price",7:"salePrice",8:"phone",9:"address",10:"body2",11:"displayUrl",12:"cta"}).hasOwnProperty(n.type)&&"string"==typeof n.value&&(t[r[n.type]]=n.value);else if(e.img)switch(e.img.type){case 1:t.icon={url:e.img.url,width:e.img.w,height:e.img.h};break;default:t.image={url:e.img.url,width:e.img.w,height:e.img.h}}var n,r})),e.admNative.link&&(e.admNative.link.url&&(t.clickUrl=e.admNative.link.url),Array.isArray(e.admNative.link.clicktrackers)&&(t.clickTrackers=e.admNative.link.clicktrackers)),Array.isArray(e.admNative.eventtrackers)?(t.impressionTrackers=[],e.admNative.eventtrackers.forEach((function(e){if(1===e.event)switch(e.method){case 1:t.impressionTrackers.push(e.url);break;case 2:t.javascriptTrackers='<script src="'.concat(e.url,'"><\/script>')}}))):(t.impressionTrackers=Array.isArray(e.admNative.imptrackers)?e.admNative.imptrackers:[],e.admNative.jstracker&&(t.javascriptTrackers=e.admNative.jstracker)),e.admNative.privacy&&(t.privacyLink=e.admNative.privacy),e.admNative.ext&&(t.ext={},e.admNative.ext.bvw&&(t.ext.adagio_bvw=e.admNative.ext.bvw)),e.native=t}else Object(i.nb)("".concat("Adagio:"," Invalid native response"))}function Yt(e,t){if(e.params=e.params||{},!e.params[t]){var n=p.b.getConfig("adagio")||{},r=p.b.getConfig("ortb2"),i=n[t]||Object(a.a)(r,"site.ext.data.".concat(t),null);i&&(e.params[t]=i)}}function Ht(e){var t=p.b.getConfig("adagio")||{};e.params=e.params||{},t.siteId&&(e.params.organizationId=t.siteId.split(":")[0],e.params.site=t.siteId.split(":")[1]),!0!==t.useAdUnitCodeAsPlacement&&!0!==e.params.useAdUnitCodeAsPlacement||(e.params.placement=e.adUnitCode),e.params.adUnitElementId=Object(a.a)(e,"ortb2Imp.ext.data.elementId",null)||e.params.adUnitElementId,e.params.adUnitElementId||(!0===t.useAdUnitCodeAsAdUnitElementId||!0===e.params.useAdUnitCodeAsAdUnitElementId?e.params.adUnitElementId=e.adUnitCode:e.params.adUnitElementId=function(e){var t=Object(i.D)(e);if(t.divId)return t.divId}(e.adUnitCode)),Yt(e,"environment"),Yt(e,"pagetype"),Yt(e,"category"),Yt(e,"subcategory")}function Jt(){if(Lt()||!zt())return"";var e=Object(i.R)(),t=e.document.querySelector("body");if(!t)return"";var n=e.document.documentElement,r=Math.max(t.scrollWidth,t.offsetWidth,n.clientWidth,n.scrollWidth,n.offsetWidth),a=Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);return"".concat(r,"x").concat(a)}function Xt(){if(!Lt()&&!zt())return"";var e={w:0,h:0};if(Lt()){var t=Object(i.Q)();if("function"!=typeof t.$sf.ext.geom)return Object(i.qb)("Adagio:","Unable to compute from safeframe api."),"";var n=t.$sf.ext.geom();if(!n||!n.win)return Object(i.qb)("Adagio:","Unable to compute from safeframe api. Missing `geom().win` property"),"";e.w=Math.round(n.w),e.h=Math.round(n.h)}else{var r=Object(i.R)();e.w=r.innerWidth,e.h=r.innerHeight}return"".concat(e.w,"x").concat(e.h)}function $t(e){if(!e)return"";if(!Lt()&&!zt())return"";var t={x:0,y:0};if(Lt()){var n=Object(i.Q)();if("function"!=typeof n.$sf.ext.geom)return Object(i.qb)("Adagio:","Unable to compute from safeframe api."),"";var r=n.$sf.ext.geom();if(!r||!r.self)return Object(i.qb)("Adagio:","Unable to compute from safeframe api. Missing `geom().self` property"),"";t.x=Math.round(r.t),t.y=Math.round(r.l)}else{if(!zt())return"";var a,o=Object(i.R)(),c=o.document;if(!0===Object(i.U)()){var s=Object(i.Q)(),d=s.document.getElementById(e);a=Vt.getElementFromTopWindow(d,s)}else a=o.document.getElementById(e);if(!a)return"";var u=a.getBoundingClientRect(),l=c.documentElement,p=c.body,f=c.clientTop||p.clientTop||0,b=c.clientLeft||p.clientLeft||0,m=o.pageYOffset||l.scrollTop||p.scrollTop,g=o.pageXOffset||l.scrollLeft||p.scrollLeft,v=o.getComputedStyle(a,null).display||"block";"none"===v&&(a.style=a.style||{},a.style.display="block",u=a.getBoundingClientRect(),a.style.display=v),t.x=Math.round(u.left+g-b),t.y=Math.round(u.top+m-f)}return"".concat(t.x,"x").concat(t.y)}function Qt(e,t){return t.bids&&t.bids.length&&Object(u.b)(t.bids,(function(t){return t.adUnitCode===e})).bidderRequestsCount||1}function Zt(){var e,t=-1;if((e=zt()?Object(i.R)().performance:Object(i.Q)().performance)&&e.timing&&e.timing.navigationStart>0){var n=e.timing.domLoading-e.timing.navigationStart;n>0&&(t=n)}return t}function en(e){var t,n=Ft();n.ADAGIO=n.ADAGIO||{},n.ADAGIO.pbjsAdUnits=n.ADAGIO.pbjsAdUnits.filter((function(t){return t.code!==e.adUnitCode})),e.features&&e.features.print_number?t=e.features.print_number:e.params.features&&e.params.features.print_number&&(t=e.params.features.print_number),n.ADAGIO.pbjsAdUnits.push({code:e.adUnitCode,mediaTypes:e.mediaTypes||{},sizes:e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)?e.mediaTypes.banner.sizes:e.sizes,bids:[{bidder:e.bidder,params:e.params}],auctionId:e.auctionId,pageviewId:Vt.getPageviewId(),printNumber:t,localPbjs:"pbjs",localPbjsRef:Object(r.a)()}),n.ADAGIO.adUnits[e.adUnitCode]={auctionId:e.auctionId,pageviewId:Vt.getPageviewId(),printNumber:t}}var tn={code:"adagio",gvlid:617,supportedMediaTypes:Bt,isBidRequestValid:function(e){return e.params=e.params||{},Ht(e),!!(e.params.organizationId&&e.params.site&&e.params.placement)||(Object(i.qb)("".concat("Adagio:"," at least one required param is missing.")),!1)},buildRequests:function(e,t){var n,r="https:"===location.protocol?1:0,o=Vt.getDevice(),c=Vt.getSite(t),s=Vt.getPageviewId(),d=function(e){if(!Object(a.a)(e,"gdprConsent"))return!1;var t=e.gdprConsent,n=t.apiVersion,r=t.gdprApplies,o=t.consentString,c=t.allowAuctionWithoutConsent;return Object(i.j)({apiVersion:n,consentString:o,consentRequired:r?1:0,allowAuctionWithoutConsent:c?1:0})}(t)||{},u=function(e){return!!Object(a.a)(e,"uspConsent")&&{uspConsent:e.uspConsent}}(t)||{},l={required:!0===p.b.getConfig("coppa")?1:0},f=(n=e[0],Object(a.a)(n,"schain")),b=function(e){if(Object(a.a)(e,"userId"))return At(e.userId)}(e[0])||[],m=Object(i.b)(e,(function(e){var n=Dt(Dt({},Mt.getOrSetGlobalFeatures()),{},{print_number:Qt(e.adUnitCode,t).toString(),adunit_position:$t(e.params.adUnitElementId)});Object.keys(n).forEach((function(e){""===n[e]&&delete n[e]})),e.features=n,Vt.enqueue({action:"features",ts:Date.now(),data:{features:e.features,params:e.params,adUnitCode:e.adUnitCode}});var r=function(e){if(!Object(i.fb)(e.getFloor))return!1;var t=[],n=function(n,r){var a=e.getFloor({currency:"USD",mediaType:n,size:r});t.push(Object(i.j)({mt:n,s:Object(i.ab)(r)?"".concat(r[0],"x").concat(r[1]):void 0,f:isNaN(a.floor)||"USD"!==a.currency?void 0:a.floor}))};return Object.keys(e.mediaTypes).forEach((function(t){if(-1!==Bt.indexOf(t)){var r=t===T.d?"playerSize":"sizes";e.mediaTypes[t][r]&&e.mediaTypes[t][r].length?Object(i.ab)(e.mediaTypes[t][r][0])?e.mediaTypes[t][r].forEach((function(e){n(t,[e[0],e[1]])})):n(t,[e.mediaTypes[t][r][0],e.mediaTypes[t][r][1]]):n(t,"*")}})),t}(e);if(Object(i.ab)(r)&&r.length){if(e.floors=r,Object(a.a)(e,"mediaTypes.banner")){var o=e.mediaTypes.banner,c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n={size:t,floor:null},r=e.floors.filter((function(e){return e.mt===T.b})),i=r.find((function(e){return e.s===t.join("x")}));return n.floor=r?i?i.f:r[0].f:null,n};e.mediaTypes.banner.bannerSizes=Object(i.ab)(o.sizes[0])?o.sizes.map((function(e){return c(e)})):c(o.sizes)}if(Object(a.a)(e,"mediaTypes.video")){var s=e.mediaTypes.video,d=e.floors.filter((function(e){return e.mt===T.d})),u=s.playerSize&&Object(i.ab)(s.playerSize[0])?s.playerSize[0]:s.playerSize,l=u?d.find((function(e){return e.s===u.join("x")})):void 0;e.mediaTypes.video.floor=d?l?l.f:d[0].f:null}if(Object(a.a)(e,"mediaTypes.native")){var p=e.floors.filter((function(e){return e.mt===T.c}));p.length&&(e.mediaTypes.native.floor=p[0].f)}}return Object(a.a)(e,"mediaTypes.video")&&function(e){var t=Object(a.a)(e,"mediaTypes.video",{}),n=Object(a.a)(e,"params.video",{}),r={};if(Array.isArray(t.playerSize)){var o=Array.isArray(t.playerSize[0])?t.playerSize[0]:t.playerSize;r.w=o[0],r.h=o[1]}var c=Dt(Dt(Dt({},r),t),n);c.context&&c.context===Ct.b&&(e.mediaTypes.video.playerName=Gt(e)),Object.keys(Nt).forEach((function(t){c.hasOwnProperty(t)&&(Nt[t](c[t])?e.mediaTypes.video[t]=c[t]:(delete e.mediaTypes.video[t],Object(i.qb)("".concat("Adagio:"," The OpenRTB video param ").concat(t," has been skipped due to misformating. Please refer to OpenRTB 2.5 spec."))))}))}(e),en(e),e})).reduce((function(e,t){var n=Object(i.r)(t);return n.params.organizationId=n.params.organizationId.toString(),delete n.floorData,delete n.params.siteId,delete n.userId,delete n.userIdAsEids,e[n.params.organizationId]=e[n.params.organizationId]||[],e[n.params.organizationId].push(n),e}),{});return Object(i.b)(Object.keys(m),(function(e){return{method:"POST",url:"https://mp.4dex.io/prebid",data:{id:Object(i.w)(),organizationId:e,secure:r,device:o,site:c,pageviewId:s,adUnits:m[e],data:Mt.getExchangeData(),regs:{gdpr:d,coppa:l,ccpa:u},schain:f,user:{eids:b},prebidVersion:"6.25.0",featuresVersion:"1"},options:{contentType:"text/plain"}}}))},interpretResponse:function(e,t){var n=[];try{var r=e.body;r&&(r.data&&Vt.enqueue({action:"ssp-data",ts:Date.now(),data:r.data}),r.bids&&r.bids.forEach((function(e){var r=Object(u.b)(t.data.adUnits,(function(t){return t.bidId===e.requestId}));if(r){if(e.meta=Object(a.a)(e,"meta",{}),e.meta.mediaType=e.mediaType,e.meta.advertiserDomains=Array.isArray(e.aDomain)&&e.aDomain.length?e.aDomain:[],e.mediaType===T.d){var i=Object(a.a)(r,"mediaTypes.video.context");!e.vastUrl&&e.vastXml&&(e.vastUrl="data:text/xml;charset=utf-8;base64,"+btoa(e.vastXml.replace(/\\"/g,'"'))),i===Ct.b&&(e.renderer=l.a.install({id:e.requestId,adUnitCode:e.adUnitCode,url:e.urlRenderer||"https://script.4dex.io/outstream-player.js",config:Dt(Dt({},Object(a.a)(r,"mediaTypes.video")),Object(a.a)(e,"outstream",{}))}),e.renderer.setRender(Wt))}e.mediaType===T.c&&Kt(e),e.site=r.params.site,e.placement=r.params.placement,e.pagetype=r.params.pagetype,e.category=r.params.category,e.subcategory=r.params.subcategory,e.environment=r.params.environment}n.push(e)})))}catch(e){Object(i.nb)(e)}return n},getUserSyncs:function(e,t){return!(!t.length||""===t[0].body||!t[0].body.userSyncs)&&t[0].body.userSyncs.map((function(e){return{type:"p"===e.t?"image":"iframe",url:e.u}}))},transformBidParams:function(e,t,n,r){var i=Object(u.b)(r,(function(e){return"adagio"===e.bidderCode})),o=Object(u.b)(i.bids,(function(e){return e.adUnitCode===n.code}));if(t){Ht(o),o.params.auctionId=Object(a.a)(i,"auctionId");var c=Mt.getOrSetGlobalFeatures();o.params.features=Dt(Dt({},c),{},{print_number:Qt(o.adUnitCode,i).toString(),adunit_position:$t(o.params.adUnitElementId)}),o.params.pageviewId=Vt.getPageviewId(),o.params.prebidVersion="6.25.0",o.params.data=Mt.getExchangeData(),Object(a.a)(o,"mediaTypes.video.context")===Ct.b&&(o.params.playerName=Gt(o)),en(o)}return o.params}};function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){zt()&&(Pt=zt()?Object(i.R)():Object(i.Q)());var e=Vt.getCurrentWindow();e.ADAGIO=e.ADAGIO||{},e.ADAGIO.adUnits=e.ADAGIO.adUnits||{},e.ADAGIO.pbjsAdUnits=e.ADAGIO.pbjsAdUnits||[],e.ADAGIO.queue=e.ADAGIO.queue||[],e.ADAGIO.versions=e.ADAGIO.versions||{},e.ADAGIO.versions.pbjs="6.25.0",e.ADAGIO.isSafeFrameWindow=Lt(),qt.getDataFromLocalStorage("adagio",(function(e){try{Mt.prepareExchangeData(e)}catch(e){Object(i.nb)("Adagio:",e)}})),qt.getDataFromLocalStorage("adagioScript",(function(e){Vt.adagioScriptFromLocalStorageCb(e)})),qt.localStorageIsEnabled((function(e){if(e)Object(_t.a)("https://script.4dex.io/localstore.js","adagio");else try{window.localStorage.removeItem("adagioScript"),window.localStorage.removeItem("adagio")}catch(e){Object(i.ob)("".concat("Adagio:"," unable to clear Adagio scripts from localstorage."))}}))}(),Object(Ne.c)(tn),window.pbjs.installedModules.push("adagioBidAdapter");var an=["admixer.net","adserver.org","adtelligent.com","akamai.com","amxrtb.com","audigent.com","britepool.com","criteo.com","crwdcntrl.net","deepintent.com","hcn.health","id5-sync.com","idx.lat","intentiq.com","intimatemerger.com","liveintent.com","liveramp.com","mediawallahscript.com","merkleinc.com","netid.de","neustar.biz","nextroll.com","novatiq.com","parrable.com","pubcid.org","quantcast.com","quantcast.com","tapad.com","uidapi.com","verizonmedia.com","yahoo.com","zeotap.com"];function on(e){return{w:parseInt(e[0]),h:parseInt(e[1])}}function cn(e){return Object(i.ab)(e)&&2===e.length&&!Object(i.ab)(e[0])?[on(e)]:e.map(on)}function sn(e){return Object(i.ab)(Object(a.a)(e,"userIdAsEids"))?e.userIdAsEids.filter((function(e){return-1!==an.indexOf(e.source)})):[]}function dn(e){return Object(a.a)(e,"params.bidOverride.imp.secure")||"https:"===document.location.protocol?1:0}function un(e){var t;return Object(a.a)(e,"params.pubId")?t=!0:Object(a.a)(e,"params.dcn")&&Object(a.a)(e,"params.pos")&&(t=!1),t}function ln(){var e=p.b.getConfig("yahoossp.mode");return void 0===(e=e?e.toLowerCase():void 0)||e===T.b?T.b:e===T.d?T.d:"all"===e?"*":void 0}function pn(e){var t=ln(),n={currency:Object(a.a)(e,"params.bidOverride.cur")||"USD",mediaType:t,size:"*"};return!!Object(i.fb)(e.getFloor)&&e.getFloor(n)}function fn(e,t,n,r){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r);for(var o in n)switch(e){case"string":-1!==t.indexOf(o)&&Object(i.lb)(n[o])&&(a[o]=n[o]);break;case"number":-1!==t.indexOf(o)&&Object(i.ib)(n[o])&&(a[o]=n[o]);break;case"array":-1!==t.indexOf(o)&&Object(i.ab)(n[o])&&(a[o]=n[o]);break;case"object":-1!==t.indexOf(o)&&Object(i.jb)(n[o])&&(a[o]=n[o]);break;case"objectAllKeys":Object(i.jb)(n)&&(a[o]=n[o])}return a}function bn(e){var t=p.b.getConfig("yahoossp.ttl");return mn(t||Object(a.a)(e,"params.ttl"))}function mn(e){return Object(i.ib)(e)&&e>0&&e<3600?e:300}function gn(e){return Object(i.lb)(e)&&e.length>0}function vn(e,t){if(e){var n={id:Object(i.w)(),cur:[pn(e).currency||Object(a.a)(t,"params.bidOverride.cur")||"USD"],imp:[],site:{page:Object(a.a)(e,"refererInfo.referer")},device:{dnt:0,ua:navigator.userAgent,ip:Object(a.a)(t,"params.bidOverride.device.ip")||Object(a.a)(t,"params.ext.ip")||void 0},regs:{ext:{us_privacy:e.uspConsent?e.uspConsent:"",gdpr:e.gdprConsent&&e.gdprConsent.gdprApplies?1:0}},source:{ext:{hb:1,adapterver:"1.0.2",prebidver:"6.25.0",integration:{name:"prebid.js",ver:"6.25.0"}},fd:1},user:{ext:{consent:e.gdprConsent&&e.gdprConsent.gdprApplies?e.gdprConsent.consentString:"",eids:sn(t)}}};return!0===un(t)?(n.site.publisher={id:t.params.pubId},(Object(a.a)(t,"params.bidOverride.site.id")||Object(a.a)(t,"params.siteId"))&&(n.site.id=Object(a.a)(t,"params.bidOverride.site.id")||t.params.siteId)):n.site.id=t.params.dcn,p.b.getConfig("ortb2")&&(n=function(e,t){var n=p.b.getConfig("ortb2"),r=Object(a.a)(n,"site")||void 0,o=Object(a.a)(r,"content")||void 0,c=Object(a.a)(r,"content.data")||void 0,s=Object(a.a)(n,"app.content")||void 0,d=Object(a.a)(n,"app.content.data")||void 0,u=Object(a.a)(n,"user")||void 0;if(r&&Object(i.jb)(r)){e.site=fn("string",["name","domain","page","ref","keywords","search"],r,e.site),e.site=fn("array",["cat","sectioncat","pagecat"],r,e.site),e.site=fn("object",["ext"],r,e.site)}if(o&&Object(i.jb)(o)){e.site.content=fn("string",["id","title","series","season","genre","contentrating","language"],o,e.site.content),e.site.content=fn("number",["episode","prodq","context","livestream","len"],o,e.site.content),e.site.content=fn("array",["cat"],o,e.site.content),e.site.content=fn("object",["ext"],o,e.site.content),c&&Object(i.ab)(c)&&c.every((function(t){var n={};n=fn("string",["id","name"],t,n),n=fn("array",["segment"],t,n),n=fn("object",["ext"],t,n),e.site.content.data=[],e.site.content.data.push(n)}))}s&&Object(i.jb)(s)&&d&&Object(i.ab)(d)&&d.every((function(t){var n={};n=fn("string",["id","name"],t,n),n=fn("array",["segment"],t,n),n=fn("object",["ext"],t,n),e.app={content:{data:[]}},e.app.content.data.push(n)}));if(u&&Object(i.jb)(u)){e.user=fn("string",["id","buyeruid","gender","keywords","customdata"],u,e.user),e.user=fn("number",["yob"],u,e.user),e.user=fn("array",["data"],u,e.user),e.user.ext=fn("object",["ext"],u,e.user.ext)}return e}(n)),Object(a.a)(t,"schain")&&(n.source.ext.schain=t.schain,n.source.ext.schain.nodes[0].rid=n.id),n}}function yn(e,t){var n=ln();if(t&&e){var r={id:e.bidId,secure:dn(e),bidfloor:pn(e).floor||Object(a.a)(e,"params.bidOverride.imp.bidfloor")};if(!e.mediaTypes.banner||void 0!==n&&n!==T.b&&"*"!==n||(r.banner={mimes:e.mediaTypes.banner.mimes||["text/html","text/javascript","application/javascript","image/jpg"],format:cn(e.sizes)},e.mediaTypes.banner.pos&&(r.banner.pos=e.mediaTypes.banner.pos)),e.mediaTypes.video&&(n===T.d||"*"===n)){var o=cn(e.mediaTypes.video.playerSize);r.video={mimes:Object(a.a)(e,"params.bidOverride.imp.video.mimes")||e.mediaTypes.video.mimes||["video/mp4","application/javascript"],w:Object(a.a)(e,"params.bidOverride.imp.video.w")||o[0].w,h:Object(a.a)(e,"params.bidOverride.imp.video.h")||o[0].h,maxbitrate:Object(a.a)(e,"params.bidOverride.imp.video.maxbitrate")||e.mediaTypes.video.maxbitrate||void 0,maxduration:Object(a.a)(e,"params.bidOverride.imp.video.maxduration")||e.mediaTypes.video.maxduration||void 0,minduration:Object(a.a)(e,"params.bidOverride.imp.video.minduration")||e.mediaTypes.video.minduration||void 0,api:Object(a.a)(e,"params.bidOverride.imp.video.api")||e.mediaTypes.video.api||[2],delivery:Object(a.a)(e,"params.bidOverride.imp.video.delivery")||e.mediaTypes.video.delivery||void 0,pos:Object(a.a)(e,"params.bidOverride.imp.video.pos")||e.mediaTypes.video.pos||void 0,playbackmethod:Object(a.a)(e,"params.bidOverride.imp.video.playbackmethod")||e.mediaTypes.video.playbackmethod||void 0,placement:Object(a.a)(e,"params.bidOverride.imp.video.placement")||e.mediaTypes.video.placement||void 0,linearity:Object(a.a)(e,"params.bidOverride.imp.video.linearity")||e.mediaTypes.video.linearity||1,protocols:Object(a.a)(e,"params.bidOverride.imp.video.protocols")||e.mediaTypes.video.protocols||[2,5],startdelay:Object(a.a)(e,"params.bidOverride.imp.video.startdelay")||e.mediaTypes.video.startdelay||0,rewarded:Object(a.a)(e,"params.bidOverride.imp.video.rewarded")||void 0}}if(r.ext={dfp_ad_unit_code:e.adUnitCode},Object(a.a)(e,"params.kvp")&&Object(i.jb)(e.params.kvp))for(var c in r.ext.kvs={},e.params.kvp)if(Object(i.lb)(e.params.kvp[c])||Object(i.ib)(e.params.kvp[c]))r.ext.kvs[c]=e.params.kvp[c];else if(Object(i.ab)(e.params.kvp[c])){var s=e.params.kvp[c];(s.every((function(e){return Object(i.lb)(e)}))||s.every((function(e){return Object(i.ib)(e)})))&&(r.ext.kvs[c]=e.params.kvp[c])}Object(a.a)(e,"ortb2Imp.ext.data")&&Object(i.jb)(e.ortb2Imp.ext.data)&&(r.ext.data=e.ortb2Imp.ext.data),Object(a.a)(e,"ortb2Imp.instl")&&Object(i.ib)(e.ortb2Imp.instl)&&1===e.ortb2Imp.instl&&(r.instl=e.ortb2Imp.instl),!1===un(e)?(r.tagid=e.params.pos,r.ext.pos=e.params.pos):Object(a.a)(e,"params.placementId")&&(r.tagid=e.params.placementId),t.imp.push(r)}}function hn(e){var t=e.payload,n=e.requestOptions,r=e.bidderRequest,o=un(r),c=p.b.getConfig("yahoossp.endpoint")||"https://c2shb.pubgw.yahoo.com/bidRequest";if(!0===o&&(c=p.b.getConfig("yahoossp.endpoint")||"https://c2shb.pubgw.yahoo.com/admax/bid/partners/PBJS"),!0===Object(a.a)(r,"params.testing.e2etest"))if(Object(i.ob)("yahoossp adapter e2etest mode is active"),n.withCredentials=!1,!0===o)t.site.id="1234567";else{var s=ln();t.site.id="8a969516017a7a396ec539d97f540011",t.imp.forEach((function(e){e.ext.e2eTestMode=!0,s===T.b?e.tagid="8a969978017a7aaabab4ab0bc01a0009":s===T.d?e.tagid="8a96958a017a7a57ac375d50c0c700cc":(Object(i.qb)('yahoossp adapter e2etest mode does not support yahoossp.mode="all". \n Please specify either "banner" or "video"'),Object(i.qb)("yahoossp adapter e2etest mode: Please make sure your adUnit matches the yahoossp.mode video or banner"))}))}return{url:c,method:"POST",data:t,options:n,bidderRequest:r}}var On={code:"yahoossp",gvlid:25,aliases:[],supportedMediaTypes:[T.b,T.d],isBidRequestValid:function(e){var t=e.params;return!0===Object(a.a)(t,"testing.e2etest")||(!(!Object(i.jb)(t)||!(gn(t.pubId)||gn(t.dcn)&&gn(t.pos)))||(Object(i.qb)("yahoossp bidder params missing or incorrect, please pass object with either: dcn & pos OR pubId"),!1))},buildRequests:function(e,t){if(!Object(i.db)(e)&&!Object(i.db)(t)){var n={contentType:"application/json",customHeaders:{"x-openrtb-version":"2.5"}};n.withCredentials=function(e){return!(e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion)||!0===Object(a.a)(e.gdprConsent,"vendorData.purpose.consents.1")}(t);var r=function(e){var t=ln(),n=[];return t===T.b?n=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===T.b}))})):t===T.d?n=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===T.d}))})):"*"===t&&(n=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===T.b||e===T.d}))}))),n}(e);if(!0===p.b.getConfig("yahoossp.singleRequestMode")){var o=vn(t,r[0]);return r.forEach((function(e){yn(e,o)})),hn({payload:o,requestOptions:n,bidderRequest:t})}return r.map((function(e){var r=vn(t,e);return yn(e,r),hn({payload:r,requestOptions:n,bidderRequest:e})}))}Object(i.qb)('yahoossp Adapter: buildRequests called with either empty "validBidRequests" or "bidderRequest"')},interpretResponse:function(e,t){t.data;var n=t.bidderRequest,r=[];return e.body&&Array.isArray(e.body.seatbid)?(e.body.seatbid.forEach((function(e){var t;try{t=e.bid[0]}catch(e){return r}var o=t.ext&&t.ext.encp?t.ext.encp:t.price,c={adId:Object(a.a)(t,"adId")?t.adId:t.impid||t.crid,adUnitCode:n.adUnitCode,requestId:t.impid,cpm:o,width:t.w,height:t.h,creativeId:t.crid||0,currency:t.cur||"USD",dealId:t.dealid?t.dealid:null,netRevenue:!0,ttl:bn(n),meta:{advertiserDomains:t.adomain}},s=function(e){var t=e.adm;return-1!==t.indexOf("o2playerSettings")||-1!==t.indexOf("YAHOO.VideoPlatform.VideoPlayer")||-1!==t.indexOf("AdPlacement")?T.b:-1!==t.indexOf("VAST")?T.d:void 0}(t);s===T.b?(c.mediaType=T.b,c.ad=t.adm,c.meta.mediaType=T.b):s===T.d&&(c.mediaType=T.d,c.meta.mediaType=T.d,c.vastXml=t.adm,t.nurl&&(c.vastUrl=t.nurl)),"outstream"!==Object(a.a)(n,"mediaTypes.video.context")||n.renderer||(c.renderer=function(e,t){var n=l.a.install({url:"https://cdn.vidible.tv/prod/hb-outstream-renderer/renderer.js",loaded:!1,adUnitCode:e.adUnitCode});try{n.setRender((function(t){setTimeout((function(){o2PlayerRender(t)}),Object(a.a)(e,"params.testing.renderer.setTimeout")||700)}))}catch(e){Object(i.qb)("yahoossp renderer error: setRender() failed",e)}return n}(n)||void 0),r.push(c)})),r):r},getUserSyncs:function(e,t,n,r){var a=!Object(i.db)(t)&&t[0].body;return a&&a.ext&&a.ext.pixels?function(e,t){var n=/\w*(?=\s)/,r=/src=("|')(.*?)\1/,i=[];if(t){var a=t.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi);a&&a.forEach((function(t){var a=t.match(n)[0],o=t.match(r)[2];if(a&&o){var c="img"===a.toLowerCase()?"image":"iframe";if(!e.iframeEnabled&&"iframe"===c||!e.pixelEnabled&&"image"===c)return;i.push({type:c,url:o})}}))}return i}(e,a.ext.pixels):[]}};function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _n(e){return function(e){if(Array.isArray(e))return wn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object(Ne.c)(On),window.pbjs.installedModules.push("yahoosspBidAdapter");var Tn=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],En=["minduration","maxduration","skip","skipafter","playbackmethod","api"],Sn=["age","externalUid","segments","gender","dnt","language"],An=["geo","device_id"],Cn=["enabled","dongle","member_id","debug_timeout"],xn={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},Dn={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},kn=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,Pn=Object(ae.b)({gvlid:32,bidderCode:"appnexus"}),Rn={code:"appnexus",gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[T.b,T.d,T.c],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var n=e.map(Mn),r=Object(u.b)(e,Fn),o={};!0===p.b.getConfig("coppa")&&(o={coppa:!0}),r&&Object.keys(r.params.user).filter((function(e){return Object(u.c)(Sn,e)})).forEach((function(e){var t=Object(i.l)(e);if("segments"===e&&Object(i.ab)(r.params.user[e])){var n=[];r.params.user[e].forEach((function(e){Object(i.ib)(e)?n.push({id:e}):Object(i.jb)(e)&&n.push(e)})),o[t]=n}else"segments"!==e&&(o[t]=r.params.user[e])}));var c,s=Object(u.b)(e,Gn);s&&s.params&&s.params.app&&(c={},Object.keys(s.params.app).filter((function(e){return Object(u.c)(An,e)})).forEach((function(e){return c[e]=s.params.app[e]})));var d,l=Object(u.b)(e,Vn);l&&l.params&&s.params.app&&s.params.app.id&&(d={appid:l.params.app.id});var f={},b={},m=Pn.getCookie("apn_prebid_debug")||null;if(m)try{f=JSON.parse(m)}catch(e){Object(i.nb)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var g=Object(u.b)(e,Wn);g&&g.debug&&(f=g.debug)}f&&f.enabled&&Object.keys(f).filter((function(e){return Object(u.c)(Cn,e)})).forEach((function(e){b[e]=f[e]}));var v=Object(u.b)(e,Ln),y=v?parseInt(v.params.member,10):0,h=e[0].schain,O=Object(u.b)(e,Yn),j={tags:_n(n),user:o,sdk:{source:"pbjs",version:"6.25.0"},schain:h};O&&(j.iab_support={omidpn:"Appnexus",omidpv:"6.25.0"}),y>0&&(j.member_id=y),s&&(j.device=c),l&&(j.app=d);var I=p.b.getConfig("appnexusAuctionKeywords");if(Object(i.jb)(I)){var _=Object(i.Eb)(I);_.length>0&&_.forEach(Bn),j.keywords=_}if(p.b.getConfig("adpod.brandCategoryExclusion")&&(j.brand_category_uniqueness=!0),b.enabled&&(j.debug=b,Object(i.ob)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(b,null,4))),t&&t.gdprConsent&&(j.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){var w=t.gdprConsent.addtlConsent,T=w.substring(w.indexOf("~")+1);j.gdpr_consent.addtl_consent=T.split(".").map((function(e){return parseInt(e,10)}))}if(t&&t.uspConsent&&(j.us_privacy=t.uspConsent),t&&t.refererInfo){var E={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((function(e){return encodeURIComponent(e)})).join(",")},S=p.b.getConfig("pageUrl");Object(i.lb)(S)&&""!==S&&(E.rd_can=S),j.referrer_detection=E}if(Object(u.b)(e,Kn)&&e.filter(Kn).forEach((function(e){var t=function(e,t){var n=t.mediaTypes.video,r=n.durationRangeSec,a=n.requireExactDuration,o=function(e){var t=e.adPodDurationSec,n=e.durationRangeSec,r=e.requireExactDuration,a=Object(i.H)(n),o=Math.floor(t/a);return r?Math.max(o,n.length):o}(t.mediaTypes.video),c=Object(i.G)(r),s=e.filter((function(e){return e.uuid===t.bidId})),d=i.t.apply(void 0,_n(s).concat([o]));if(a){var u=Math.ceil(o/r.length),l=Object(i.i)(d,u);r.forEach((function(e,t){l[t].map((function(t){Hn(t,"minduration",e),Hn(t,"maxduration",e)}))}))}else d.map((function(e){return Hn(e,"maxduration",c)}));return d}(n,e),r=j.tags.filter((function(t){return t.uuid!==e.bidId}));j.tags=[].concat(_n(r),_n(t))})),e[0].userId){var A=[];$n(A,Object(a.a)(e[0],"userId.flocId.id"),"chrome.com",null),$n(A,Object(a.a)(e[0],"userId.criteoId"),"criteo.com",null),$n(A,Object(a.a)(e[0],"userId.netId"),"netid.de",null),$n(A,Object(a.a)(e[0],"userId.idl_env"),"liveramp.com",null),$n(A,Object(a.a)(e[0],"userId.tdid"),"adserver.org","TDID"),$n(A,Object(a.a)(e[0],"userId.uid2.id"),"uidapi.com","UID2"),e[0].userId.pubProvidedId&&e[0].userId.pubProvidedId.forEach((function(e){e.uids.forEach((function(t){A.push({source:e.source,id:t.id})}))})),A.length&&(j.eids=A)}return n[0].publisher_id&&(j.publisher_id=n[0].publisher_id),function(e,t){var n=[],r={withCredentials:!0},a="https://ib.adnxs.com/ut/v3/prebid";Nn(t)||(a="https://ib.adnxs-simple.com/ut/v3/prebid");"TRUE"!==Object(i.J)("apn_test").toUpperCase()&&!0!==p.b.getConfig("apn_test")||(r.customHeaders={"X-Is-Test":1});if(e.tags.length>15){var o=Object(i.r)(e);Object(i.i)(e.tags,15).forEach((function(e){o.tags=e;var i=JSON.stringify(o);n.push({method:"POST",url:a,data:i,bidderRequest:t,options:r})}))}else{var c=JSON.stringify(e);n={method:"POST",url:a,data:c,bidderRequest:t,options:r}}return n}(j,t)},interpretResponse:function(e,t){var n=this,r=t.bidderRequest;e=e.body;var o=[];if(!e||e.error){var c="in response for ".concat(r.bidderCode," adapter");return e&&e.error&&(c+=": ".concat(e.error)),Object(i.nb)(c),o}if(e.tags&&e.tags.forEach((function(e){var t,c=(t=e)&&t.ads&&t.ads.length&&Object(u.b)(t.ads,(function(e){return e.rtb}));if(c&&((!0===S.a.get(r.bidderCode,"allowZeroCpmBids")?c.cpm>=0:c.cpm>0)&&Object(u.c)(n.supportedMediaTypes,c.ad_type))){var s=function(e,t,n){var r=Object(i.z)(e.uuid,[n]),o={requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:r.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};t.adomain&&(o.meta=In({},o.meta,{advertiserDomains:[]}));t.advertiser_id&&(o.meta=In({},o.meta,{advertiserId:t.advertiser_id}));t.buyer_member_id&&(o.meta=In({},o.meta,{dchain:function(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}(t)}));t.brand_id&&(o.meta=In({},o.meta,{brandId:t.brand_id}));if(t.rtb.video){switch(In(o,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),Object(a.a)(r,"mediaTypes.video.context")){case T.a:var c=Object(Ne.a)(r.bidder,t.brand_category_id);o.meta=In({},o.meta,{primaryCatId:c});var s=t.deal_priority;o.video={context:T.a,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:s},o.vastUrl=t.rtb.video.asset_url;break;case Ct.b:if(o.adResponse=e,o.adResponse.ad=o.adResponse.ads[0],o.adResponse.ad.video=o.adResponse.ad.rtb.video,o.vastXml=t.rtb.video.content,t.renderer_url){var d=Object(u.b)(n.bids,(function(t){return t.bidId===e.uuid})),p=Object(a.a)(d,"mediaTypes.video.renderer.options");p||(p=Object(a.a)(d,"renderer.options")),o.renderer=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=l.a.install({id:t.renderer_id,url:t.renderer_url,config:n,loaded:!1,adUnitCode:e});try{r.setRender(Jn)}catch(e){Object(i.qb)("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:function(){return Object(i.pb)("AppNexus outstream video impression event")},loaded:function(){return Object(i.pb)("AppNexus outstream video loaded event")},ended:function(){Object(i.pb)("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),r}(o.adUnitCode,t,p)}break;case Ct.a:o.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}}else if(t.rtb[T.c]){var f=t.rtb[T.c],b=t.viewability.config.replace("src=","data-src="),m=f.javascript_trackers;null==m?m=b:Object(i.lb)(m)?m=[m,b]:m.push(b),o[T.c]={title:f.title,body:f.desc,body2:f.desc2,cta:f.ctatext,rating:f.rating,sponsoredBy:f.sponsored,privacyLink:f.privacy_link,address:f.address,downloads:f.downloads,likes:f.likes,phone:f.phone,price:f.price,salePrice:f.saleprice,clickUrl:f.link.url,displayUrl:f.displayurl,clickTrackers:f.link.click_trackers,impressionTrackers:f.impression_trackers,javascriptTrackers:m},f.main_img&&(o.native.image={url:f.main_img.url,height:f.main_img.height,width:f.main_img.width}),f.icon&&(o.native.icon={url:f.icon.url,height:f.icon.height,width:f.icon.width})}else{In(o,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(var g=0;g<t.rtb.trackers[0].impression_urls.length;g++){var v=t.rtb.trackers[0].impression_urls[g],y=Object(i.o)(v);o.ad+=y}}catch(e){Object(i.nb)("Error appending tracking pixel",e)}}return o}(e,c,r);s.mediaType=function(e){var t=e.ad_type;return t===T.d?T.d:t===T.c?T.c:T.b}(c),o.push(s)}})),e.debug&&e.debug.debug_info){var s="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;s=s.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),Object(i.pb)("https://console.appnexus.com/docs/understanding-the-debug-auction"),Object(i.pb)(s)}return o},getMappingFileInfo:function(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e,t,n){if(e.iframeEnabled&&Nn({gdprConsent:n}))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t,n,r){var o=i.Eb;if(!0===t){var c=null,s=p.b.getConfig("s2sConfig");Object(i.jb)(s)?c=Object(a.a)(s,"endpoint.p1Consent"):Object(i.ab)(s)&&s.forEach((function(e){Object(u.c)(e.bidders,n.bids[0].bidder)&&(c=Object(a.a)(e,"endpoint.p1Consent"))})),c&&c.match("/openrtb2/prebid")&&(o=Qn)}return e=Object(i.m)({member:"string",invCode:"string",placementId:"number",keywords:o,publisherId:"number"},e),t&&(e.use_pmt_rule="boolean"==typeof e.usePaymentRule&&e.usePaymentRule,e.usePaymentRule&&delete e.usePaymentRule,Un(e.keywords)&&e.keywords.forEach(Bn),Object.keys(e).forEach((function(t){var n=Object(i.l)(t);n!==t&&(e[n]=e[t],delete e[t])}))),e},onBidWon:function(e){e.native&&function(e){var t=function(e){var t;if(Object(i.lb)(e)&&qn(e))t=e;else if(Object(i.ab)(e))for(var n=0;n<e.length;n++){var r=e[n];qn(r)&&(t=r)}return t}(e.native.javascriptTrackers);if(t)for(var n="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,r=function(e){var t=e.indexOf('src="')+5,n=e.indexOf('"',t);return e.substring(t,n)}(t),a=r.replace("dom_id=%native_dom_id%",n),o=document.getElementsByTagName("iframe"),c=!1,s=0;s<o.length&&!c;s++){var d=o[s];try{var u=d.contentDocument||d.contentWindow.document;if(u)for(var l=u.getElementsByTagName("script"),p=0;p<l.length&&!c;p++){var f=l[p];f.getAttribute("data-src")==r&&(f.setAttribute("src",a),f.setAttribute("data-src",""),f.removeAttribute&&f.removeAttribute("data-src"),c=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function Un(e){return!!(Object(i.ab)(e)&&e.length>0)}function Bn(e){Un(e.value)&&""===e.value[0]&&delete e.value}function qn(e){var t=e.match(kn),n=null!=t&&t.length>=1,r=e.match("trk.js"),i=null!=r&&r.length>=1;return e.startsWith("<script")&&i&&n}function Nn(e){var t=!0;return e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion&&(t=!(!0!==Object(a.a)(e.gdprConsent,"vendorData.purpose.consents.1"))),t}function Mn(e){var t={};t.sizes=zn(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placementId?t.id=parseInt(e.params.placementId,10):t.code=e.params.invCode,t.allow_smaller_sizes=e.params.allowSmallerSizes||!1,t.use_pmt_rule=e.params.usePaymentRule||!1,t.prebid=!0,t.disable_psa=!0;var n=function(e){if(!Object(i.fb)(e.getFloor))return e.params.reserve?e.params.reserve:null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});if(Object(i.jb)(t)&&!isNaN(t.floor)&&"USD"===t.currency)return t.floor;return null}(e);if(n&&(t.reserve=n),e.params.position)t.position={above:1,below:2}[e.params.position]||0;else{var r=Object(a.a)(e,"mediaTypes.banner.pos")||Object(a.a)(e,"mediaTypes.video.pos");0!==r&&1!==r&&3!==r||(t.position=3===r?2:r)}if(e.params.trafficSourceCode&&(t.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(t.private_sizes=zn(e.params.privateSizes)),e.params.supplyType&&(t.supply_type=e.params.supplyType),e.params.pubClick&&(t.pubclick=e.params.pubClick),e.params.extInvCode&&(t.ext_inv_code=e.params.extInvCode),e.params.publisherId&&(t.publisher_id=parseInt(e.params.publisherId,10)),e.params.externalImpId&&(t.external_imp_id=e.params.externalImpId),!Object(i.db)(e.params.keywords)){var o=Object(i.Eb)(e.params.keywords);o.length>0&&o.forEach(Bn),t.keywords=o}var c,s,l=Object(a.a)(e,"ortb2Imp.ext.data.pbadslot");if(l&&(t.gpid=l),(e.mediaType===T.c||Object(a.a)(e,"mediaTypes.".concat(T.c)))&&(t.ad_types.push(T.c),0===t.sizes.length&&(t.sizes=zn([1,1])),e.nativeParams)){var p=(c=e.nativeParams,s={},Object.keys(c).forEach((function(e){var t=Dn[e]&&Dn[e].serverName||Dn[e]||e,n=Dn[e]&&Dn[e].requiredParams;if(s[t]=In({},n,c[e]),(t===Dn.image.serverName||t===Dn.icon.serverName)&&s[t].sizes){var r=s[t].sizes;(Object(i.bb)(r)||Object(i.ab)(r)&&r.length>0&&r.every((function(e){return Object(i.bb)(e)})))&&(s[t].sizes=zn(s[t].sizes))}t===Dn.privacyLink&&(s.privacy_supported=!0)})),s);t[T.c]={layouts:[p]}}var f=Object(a.a)(e,"mediaTypes.".concat(T.d)),b=Object(a.a)(e,"mediaTypes.video.context");t.hb_source=f&&"adpod"===b?7:1,(e.mediaType===T.d||f)&&t.ad_types.push(T.d),(e.mediaType===T.d||f&&"outstream"!==b)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter((function(e){return Object(u.c)(Tn,e)})).forEach((function(n){switch(n){case"context":case"playback_method":var r=e.params.video[n];r=Object(i.ab)(r)?r[0]:r,t.video[n]=xn[n][r];break;case"frameworks":break;default:t.video[n]=e.params.video[n]}})),e.params.video.frameworks&&Object(i.ab)(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),f&&(t.video=t.video||{},Object.keys(f).filter((function(e){return Object(u.c)(En,e)})).forEach((function(e){switch(e){case"minduration":case"maxduration":"number"!=typeof t.video[e]&&(t.video[e]=f[e]);break;case"skip":"boolean"!=typeof t.video.skippable&&(t.video.skippable=1===f[e]);break;case"skipafter":"number"!=typeof t.video.skipoffset&&(t.video.skippoffset=f[e]);break;case"playbackmethod":if("number"!=typeof t.video.playback_method){var n=f[e];(n=Object(i.ab)(n)?n[0]:n)>=1&&n<=4&&(t.video.playback_method=n)}break;case"api":if(!t.video_frameworks&&Object(i.ab)(f[e])){var r=f[e].map((function(e){var t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t})).filter((function(e){return e}));t.video_frameworks=r}}}))),e.renderer&&(t.video=In({},t.video,{custom_renderer_present:!0})),e.params.frameworks&&Object(i.ab)(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks);var m=Object(u.b)(d.a.getAdUnits(),(function(t){return e.transactionId===t.transactionId}));return m&&m.mediaTypes&&m.mediaTypes.banner&&t.ad_types.push(T.b),0===t.ad_types.length&&delete t.ad_types,t}function zn(e){var t=[],n={};if(Object(i.ab)(e)&&2===e.length&&!Object(i.ab)(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"===jn(e))for(var r=0;r<e.length;r++){var a=e[r];(n={}).width=parseInt(a[0],10),n.height=parseInt(a[1],10),t.push(n)}return t}function Fn(e){return!!e.params.user}function Ln(e){return!!parseInt(e.params.member,10)}function Gn(e){if(e.params)return!!e.params.app}function Vn(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function Wn(e){return!!e.debug}function Kn(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===T.a}function Yn(e){var t=!1,n=e.params,r=e.params.video;return n.frameworks&&Object(i.ab)(n.frameworks)&&(t=Object(u.c)(e.params.frameworks,6)),!t&&r&&r.frameworks&&Object(i.ab)(r.frameworks)&&(t=Object(u.c)(e.params.video.frameworks,6)),t}function Hn(e,t,n){Object(i.db)(e.video)&&(e.video={}),e.video[t]=n}function Jn(e,t){!function(e){try{var t=document.getElementById(e).querySelectorAll("div[id^='google_ads']");t[0]&&t[0].style.setProperty("display","none")}catch(e){}}(e.adUnitCode),function(e){try{var t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((function(){(Object(i.P)(t)||window).ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Xn.bind(null,e))}))}function Xn(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}function $n(e,t,n,r){return t&&(r?e.push({source:n,id:t,rti_partner:r}):e.push({source:n,id:t})),e}function Qn(e){var t="";return Object.keys(e).forEach((function(n){Object(i.lb)(e[n])?""!==e[n]?t+="".concat(n,"=").concat(e[n],","):t+="".concat(n,","):Object(i.ab)(e[n])&&(""===e[n][0]?t+="".concat(n,","):e[n].forEach((function(e){t+="".concat(n,"=").concat(e,",")})))})),t=t.substring(0,t.length-1)}Object(Ne.c)(Rn),window.pbjs.installedModules.push("appnexusBidAdapter");n(43);function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var er={BIDDER_CODE:"invibes",BID_ENDPOINT:".videostep.com/Bid/VideoAdContent",BID_SUBDOMAIN:"https://bid",SYNC_ENDPOINT:"https://k.r66net.com/GetUserSync",TIME_TO_LIVE:300,DEFAULT_CURRENCY:"EUR",PREBID_VERSION:8,METHOD:"GET",INVIBES_VENDOR_ID:436,USERID_PROVIDERS:["pubcid","pubProvidedId","uid2","zeotapIdPlus","id5id"],META_TAXONOMY:["networkId","networkName","agencyId","agencyName","advertiserId","advertiserName","advertiserDomains","brandId","brandName","primaryCatId","secondaryCatIds","mediaType"]},tr=Object(ae.b)({gvlid:er.INVIBES_VENDOR_ID,bidderCode:er.BIDDER_CODE}),nr={code:er.BIDDER_CODE,gvlid:er.INVIBES_VENDOR_ID,isBidRequestValid:function(e){if("object"!==Zn(e.params))return!1;if(null==e.params.placementId)return!1;return!0},buildRequests:function(e,t){var n,r,i,a=[],o=[],c=(t=t||{}).auctionStart||Date.now();e.forEach((function(e){e.startTime=(new Date).getTime(),a.push(e.params.placementId),o.push(e.adUnitCode),i=i||e.params.domainId,n=n||e.params.customEndpoint,rr=rr||e.params.customUserSync,r=r||e.userId})),ar.optIn=ar.optIn||function(e){if(e&&e.vendorData){if(ar.GdprModuleInstalled=!0,ar.gdpr_consent=function(e){if(e.purpose&&e.purpose.consents&&null!=e.tcString)return e.tcString;return e.consentData}(e.vendorData),!e.vendorData.gdprApplies||e.vendorData.hasGlobalConsent){var t;for(t=0;t<ar.purposes.length;++t)ar.purposes[t]=!0;for(t=0;t<ar.legitimateInterests.length;++t)ar.legitimateInterests[t]=!0;return 2}var n=function(e){if(e.purpose&&e.purpose.consents)return e.purpose.consents;if(e.purposeConsents)return e.purposeConsents;return null}(e.vendorData);if(null==n)return 0;var r=function(e){if(e.purpose&&e.purpose.consents)return 10;return 5}(e.vendorData);if(!mr(n,ar.purposes,r))return 0;mr(function(e){if(e.purpose&&e.purpose.legitimateInterests)return e.purpose.legitimateInterests;return null}(e.vendorData),ar.legitimateInterests,10);var i=er.INVIBES_VENDOR_ID.toString(10),a=function(e){if(e.vendor&&e.vendor.consents)return e.vendor.consents;if(e.vendorConsents)return e.vendorConsents;return null}(e.vendorData),o=!0===function(e){if(e.vendor&&e.vendor.legitimateInterests)return e.vendor.legitimateInterests;return{}}(e.vendorData)[i];return null==a||null==a[i]?4:!1===a[i]&&!1===o?0:2}return ar.GdprModuleInstalled=!1,0}(t.gdprConsent),ar.visitId=ar.visitId||ur();var s=function(){var e={};try{e=JSON.parse(localStorage.ivbs)}catch(e){}var t,n=/[\\?&]([^=]+)=([^\\?&#]+)/g;for(;null!=(t=n.exec(window.location.href));)t.index===n.lastIndex&&n.lastIndex++,e[t[1].toLowerCase()]=t[2];return e}(),d=function(e){var t;e&&er.USERID_PROVIDERS.forEach((function(n){e[n]&&((t=t||{})[n]=e[n])}));return t}(r),u={placementIds:a,adUnitCodes:o,auctionStartTime:c,bidVersion:er.PREBID_VERSION};d&&(u.userId=d);var l={location:lr(ir),videoAdHtmlId:ur(),showFallback:"0"===s.advs,ivbsCampIdsLocal:fr("IvbsCampIdsLocal"),bidParamsJson:JSON.stringify(u),capCounts:br(),pcids:Object.keys(ar.pushedCids).join(","),vId:ar.visitId,width:ir.innerWidth,height:ir.innerHeight,oi:ar.optIn,kw:gr,purposes:ar.purposes.toString(),li:ar.legitimateInterests.toString(),tc:ar.gdpr_consent,isLocalStorageEnabled:tr.hasLocalStorage()},p=fr("ivbsdid");if(!p){var f=ar.getCookie("ivbsdid");if(f)try{var b=JSON.parse(f);p=b.id?b.id:b}catch(e){}}p&&(l.lId=p);var m="videoaddebug,advs,bvci,bvid,istop,trybvid,trybvci".split(",");for(var g in s)if(s.hasOwnProperty(g)){var v=s[g];(m.indexOf(g)>-1||/^vs|^invib/i.test(g))&&(l[g]=v)}var y=function(e,t,n){if(null!=e)return e;if(null!=t)return cr(t-1e3);if(n.length>0)for(var r=0;r<n.length;r++){var i=sr(n[r]);if(null!=i)return cr(i)}return cr(1)}(n,i,a);return{method:er.METHOD,url:y,data:l,options:{withCredentials:!0},bidRequests:e}},interpretResponse:function(e,t){return function(e,t){if(null==t||0===t.length)return Object(i.ob)("Invibes Adapter - No bids have been requested"),[];if(!e)return Object(i.ob)("Invibes Adapter - Bid response is empty"),[];(e=(e=e.body||e).videoAdContentResult||e).ShouldSetLId&&e.LId&&(ar.optIn&&ar.purposes[0]||!e.PrivacyPolicyRule||!e.TcModel||!e.TcModel.PurposeConsents||(ar.optIn=e.PrivacyPolicyRule,ar.purposes=e.TcModel.PurposeConsents),function(e,t){if(!ar.optIn||!ar.purposes[0])return;tr.setDataInLocalStorage(e,t)}("ivbsdid",e.LId));if("object"===Zn(ar.bidResponse)){if(!0!==e.MultipositionEnabled)return Object(i.ob)("Invibes Adapter - Bid response already received. Invibes only responds to one bid request per user visit"),[];ar.bidResponse.AdPlacements=ar.bidResponse.AdPlacements.concat(e.AdPlacements)}else ar.bidResponse=e;for(var n=[],r=0;r<t.length;r++){var a=t[r],o=!0===e.UseAdUnitCode?a.params.placementId+"_"+a.adUnitCode:a.params.placementId;if(ar.placementBids.indexOf(o)>-1)Object(i.ob)("Invibes Adapter - Placement was previously bid on "+o);else{var c=null;if(null!=e.AdPlacements)for(var s=0;s<e.AdPlacements.length;s++){var d=e.AdPlacements[s].BidModel;if(null!=d&&d.PlacementId==o){c=e.AdPlacements[s];break}}else{var u=e.BidModel;null!=u&&u.PlacementId==o&&(c=e)}var l=or(a,c,e.MultipositionEnabled,o);null!==l&&(ar.placementBids.push(o),n.push(l))}}return n}(e,null!=t?t.bidRequests:null)},getUserSyncs:function(e){if(e.iframeEnabled)return{type:"iframe",url:function(){var e=rr||er.SYNC_ENDPOINT;e+="?visitId="+ar.visitId,e+="&optIn="+ar.optIn;var t=fr("ivbsdid");if(!t){var n=ar.getCookie("ivbsdid");if(n)try{var r=JSON.parse(n);t=r.id?r.id:r}catch(e){}}t&&(e+="&ivbsdid="+encodeURIComponent(t));return e}()}}};Object(Ne.c)(nr);var rr,ir=function(){var e=window;try{for(;top!==e;)e.parent.location.href.length&&(e=e.parent)}catch(e){}return e}(),ar=ir.invibes=ir.invibes||{};function or(e,t,n,r){if(null===t||null===t.BidModel)return Object(i.ob)("Invibes Adapter - Placement not configured for bidding "+r),null;var a=t.BidModel,o=t.Ads;if(!Array.isArray(o)||o.length<1)return null!=t.AdReason&&Object(i.ob)("Invibes Adapter - No ads "+t.AdReason),Object(i.ob)("Invibes Adapter - No ads available"),null;var c=o[0],s=function(e){for(var t=[0,0],n=0;n<e.length;n++)e[n][0]*e[n][1]>t[0]*t[1]&&(t=e[n]);return t}(e.sizes);if(!0===n&&Object.keys(ar.pushedCids).length>0){if(null!=c.Blcids&&c.Blcids.length>0)if(Object.keys(ar.pushedCids).some((function(e){return c.Blcids.indexOf(parseInt(e))>-1})))return Object(i.ob)("Invibes Adapter - Ad blacklists pushed ids"),null;if(Object.keys(ar.pushedCids).some((function(e){return ar.pushedCids[e].indexOf(c.Cid)>-1})))return Object(i.ob)("Invibes Adapter - Ad is blacklisted"),null}ar.pushedCids[c.Cid]=c.Blcids||[];var d=Date.now();return Object(i.ob)("Bid auction started at "+a.AuctionStartTime+" . Invibes registered the bid at "+d+" ; bid request took a total of "+(d-a.AuctionStartTime)+" ms."),{requestId:e.bidId,cpm:c.BidPrice,width:a.Width||s[0],height:a.Height||s[1],creativeId:c.VideoExposedId,currency:a.Currency||er.DEFAULT_CURRENCY,netRevenue:!0,ttl:er.TIME_TO_LIVE,ad:pr(a),meta:dr(a.Meta)}}function cr(e){return e<2?er.BID_SUBDOMAIN+er.BID_ENDPOINT:er.BID_SUBDOMAIN+e+er.BID_ENDPOINT}function sr(e){if(null==e)return null;var t=/_ivbs([0-9]+)/g.exec(e);return null!=t&&null!=t[1]?parseInt(t[1]):null}function dr(e){var t={};if(null!=e)for(var n=0;n<er.META_TAXONOMY.length;n++)e.hasOwnProperty(er.META_TAXONOMY[n])&&(t[er.META_TAXONOMY[n]]=e[er.META_TAXONOMY[n]]);return t}function ur(){return Math.round(1e12*Math.random()).toString(36).substring(0,10)}function lr(e){return e.location.href.substring(0,300).split(/[?#]/)[0]}function pr(e){return"<html>\n        <head><script type='text/javascript'>inDapIF=true;<\/script></head>\n          <body style='margin : 0; padding: 0;'>\n          creativeHtml\n          </body>\n        </html>".replace("creativeHtml",e.CreativeHtml)}function fr(e){if(!ar.GdprModuleInstalled||ar.optIn&&ar.purposes[0])return tr.getDataFromLocalStorage(e)||""}function br(){if(!ar.optIn||!ar.purposes[0])return"";var e=function(){try{return JSON.parse(tr.getDataFromLocalStorage("ivvcap"))||{}}catch(e){return{}}},t=function(){var t=(new Date).getTime(),n=e(),r=!1;Object.keys(n).forEach((function(e){n[e][1]<=t&&(delete n[e],r=!0)})),r&&function(e){tr.setDataInLocalStorage("ivvcap",JSON.stringify(e))}(n)};return function(){t();var n=e();return Object.keys(n).filter((function(e){return n.hasOwnProperty(e)})).sort().map((function(e){return[e,n[e][0]]}))}().map((function(e){return e.join("=")})).join(",")}function mr(e,t,n){if(e instanceof Array){for(var r=0;r<n&&r<e.length;r++)t[r]=!(!1===e[r]||"false"===e[r]||null==e[r]);return!0}if("object"===Zn(e)&&null!==e){var i=0;for(var a in e){if(i===n)break;if(e.hasOwnProperty(a)){var o=parseInt(a);isNaN(o)?t[i]=!(!1===e[a]||"false"===e[a]||null==e[a]):t[o-1]=!(!1===e[a]||"false"===e[a]||null==e[a]),i++}}return!0}return!1}ar.purposes=ar.purposes||[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],ar.legitimateInterests=ar.legitimateInterests||[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],ar.placementBids=ar.placementBids||[],ar.pushedCids=ar.pushedCids||{},ar.Uid={generate:function(){var e=parseInt("zzzzzz",36),t=function(){return Math.floor(Math.random()*e).toString(36)};return t()+t()}},ar.getCookie=function(e){if(tr.cookiesAreEnabled()&&(!ar.GdprModuleInstalled||ar.optIn&&ar.purposes[0]))return tr.getCookie(e)};var gr=function(){var e=document.getElementsByTagName("head")[0],t=e?e.getElementsByTagName("meta"):[];function n(e,t){var n=e.replace(/[<>~|\\"`!@#$%^&*()=+?]/g,"");var r=n.split(/[\s,;.:]+/).filter((function(e,t,n){return""!==e&&n.indexOf(e)===t}));n="";for(var i=0;i<r.length;i++){if((n+=r[i]).length>=t)return n;i<r.length-1&&(n+=",")}return n}function r(e,r,i){e=e||"keywords",r=r||100;for(var a=i=i||"",o=0;o<t.length;o++){if(t[o].name&&t[o].name.toLowerCase()===e.toLowerCase())return n(i+","+t[o].content||"",r);t[o].name&&t[o].name.toLowerCase().indexOf(e.toLowerCase())>-1&&(a=i+","+t[o].content||"")}return n(a,r)}var i=r("keywords",300);return(!i||i.length<292)&&(!(i=r("description",300,i))||i.length<292)&&(i=function(t,r){return t=t||300,n((r=r||"")+","+((document.title||e)&&e.getElementsByTagName("title")[0]?e.getElementsByTagName("title")[0].innerHTML:""),t)}(300,i)),i}();window.pbjs.installedModules.push("invibesBidAdapter");var vr={code:"smartadserver",gvlid:45,aliases:["smart"],supportedMediaTypes:[T.b,T.d],isBidRequestValid:function(e){return!!(e.params&&e.params.siteId&&e.params.pageId&&e.params.formatId)},serializeSupplyChain:function(e){if(!e||!e.nodes)return null;var t=["asi","sid","hp","rid","name","domain"];return"".concat(e.ver,",").concat(e.complete,"!")+e.nodes.map((function(e){return t.map((function(t){return e[t]?encodeURIComponent(e[t]):""})).join(",")})).join("!")},adaptBannerSizes:function(e){return e.map((function(e){return{w:e[0],h:e[1]}}))},fillPayloadForVideoBidRequest:function(e,t,n){var r=t.playerSize[0];e.isVideo="instream"===t.context,e.mediaType=T.d,e.videoData={videoProtocol:this.getProtocolForVideoBidRequest(t,n),playerWidth:r[0],playerHeight:r[1],adBreak:this.getStartDelayForVideoBidRequest(t,n)}},getProtocolForVideoBidRequest:function(e,t){return void 0!==t&&t.protocol?t.protocol:void 0!==e&&Array.isArray(e.protocols)?Math.max.apply(Math,e.protocols):null},getStartDelayForVideoBidRequest:function(e,t){if(void 0!==t&&t.startDelay)return t.startDelay;if(void 0!==e){if(0==e.startdelay)return 1;if(-1==e.startdelay)return 2;if(-2==e.startdelay)return 3}return 2},createServerRequest:function(e,t){return{method:"POST",url:(void 0!==t?t:"https://prg.smartadserver.com")+"/prebid/v1",data:JSON.stringify(e)}},buildRequests:function(e,t){var n=p.b.getConfig("currency.adServerCurrency");return e.reduce((function(e,r){var o={siteid:r.params.siteId,pageid:r.params.pageId,formatid:r.params.formatId,currencyCode:n,bidfloor:r.params.bidfloor||vr.getBidFloor(r,n),targeting:r.params.target&&""!==r.params.target?r.params.target:void 0,buid:r.params.buId&&""!==r.params.buId?r.params.buId:void 0,appname:r.params.appName&&""!==r.params.appName?r.params.appName:void 0,ckid:r.params.ckId||0,tagId:r.adUnitCode,pageDomain:t&&t.refererInfo&&t.refererInfo.referer?t.refererInfo.referer:void 0,transactionId:r.transactionId,timeout:p.b.getConfig("bidderTimeout"),bidId:r.bidId,prebidVersion:"6.25.0",schain:vr.serializeSupplyChain(r.schain)};t&&t.gdprConsent&&(o.addtl_consent=t.gdprConsent.addtlConsent,o.gdpr_consent=t.gdprConsent.consentString,o.gdpr=t.gdprConsent.gdprApplies),r&&r.userId&&(o.eids=At(r.userId)),t&&t.uspConsent&&(o.us_privacy=t.uspConsent);var c=Object(a.a)(r,"mediaTypes.video"),s=Object(a.a)(r,"mediaTypes.banner"),d=c&&("instream"===c.context||"outstream"===c.context);if(!d&&s)o.sizes=vr.adaptBannerSizes(s.sizes),e.push(vr.createServerRequest(o,r.params.domain));else if(d&&!s)vr.fillPayloadForVideoBidRequest(o,c,r.params.video),e.push(vr.createServerRequest(o,r.params.domain));else if(d&&s){var u=Object(i.r)(o);vr.fillPayloadForVideoBidRequest(u,c,r.params.video),e.push(vr.createServerRequest(u,r.params.domain)),o.sizes=vr.adaptBannerSizes(s.sizes),e.push(vr.createServerRequest(o,r.params.domain))}else e.push({});return e}),[])},interpretResponse:function(e,t){var n=[],r=e.body;try{if(r&&!r.isNoAd){var a=JSON.parse(t.data),o={requestId:a.bidId,cpm:r.cpm,width:r.width,height:r.height,creativeId:r.creativeId,dealId:r.dealId,currency:r.currency,netRevenue:r.isNetCpm,ttl:r.ttl,dspPixels:r.dspPixels,meta:{advertiserDomains:r.adomain?r.adomain:[]}};a.mediaType===T.d?(o.mediaType=T.d,o.vastUrl=r.adUrl,o.vastXml=r.ad,o.content=r.ad):(o.adUrl=r.adUrl,o.ad=r.ad),n.push(o)}}catch(e){Object(i.nb)("Error while parsing smart server response",e)}return n},getBidFloor:function(e,t){if(!Object(i.fb)(e.getFloor))return 0;var n=e.getFloor({currency:t||"USD",mediaType:"*",size:"*"});return Object(i.jb)(n)&&!isNaN(n.floor)?n.floor:0},getUserSyncs:function(e,t){var n=[];return e.iframeEnabled&&t.length>0&&null!=t[0].body.cSyncUrl?n.push({type:"iframe",url:t[0].body.cSyncUrl}):e.pixelEnabled&&t.length>0&&void 0!==t[0].body.dspPixels&&t[0].body.dspPixels.forEach((function(e){n.push({type:"image",url:e})})),n}};function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach((function(t){Or(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object(Ne.c)(vr),window.pbjs.installedModules.push("smartadserverBidAdapter");var jr=12,Ir=11,_r=0,wr=22,Tr=Object(ae.b)({gvlid:132,bidderCode:"teads"}),Er={code:"teads",gvlid:132,supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){var t=!1;if(void 0!==e.params){var n=xr(Object(i.O)(e.params,"placementId")),r=xr(Object(i.O)(e.params,"pageId"));t=n&&r}return t||Object(i.nb)("Teads placementId and pageId parameters are required. Bid aborted."),t},buildRequests:function(e,t){var n,r,i=e.map(Cr),o=hr(hr(hr({referrer:Sr(t),pageReferrer:document.referrer,networkBandwidth:(r=window.navigator,r&&r.connection&&r.connection.downlink>=0?r.connection.downlink.toString():""),timeToFirstByte:Ar(window),data:i,deviceWidth:screen.width,hb_version:"6.25.0"},function(e){if(!e)return{};var t=e.id?{cohortId:e.id}:{},n=e.version?{cohortVersion:e.version}:{};return hr(hr({},t),n)}(Object(a.a)(e,"0.userId.flocId"))),(n=Object(a.a)(e,"0.userId.uid2"))?{unifiedId2:n.id}:{}),function(){if(!Tr.cookiesAreEnabled())return{};var e=Tr.getCookie("_tfpvi");return e?{firstPartyCookieTeadsId:e}:{}}());e[0].schain&&(o.schain=e[0].schain);var c=t.gdprConsent;if(t&&c){var s="boolean"==typeof c.gdprApplies,d="string"==typeof c.consentString,u=s?function(e,t,n){var r=jr;e?function(e,t){return e&&1===t?e.hasGlobalScope||e.hasGlobalConsent:!(!e||2!==t)&&!e.isServiceSpecific}(t,n)&&(r=Ir):r=_r;return r}(c.gdprApplies,c.vendorData,c.apiVersion):wr;o.gdpr_iab={consent:d?c.consentString:"",status:u,apiVersion:c.apiVersion}}return t&&t.uspConsent&&(o.us_privacy=t.uspConsent),{method:"POST",url:"https://a.teads.tv/hb/bid-request",data:JSON.stringify(o)}},interpretResponse:function(e,t){var n=[];return(e=e.body).responses&&e.responses.forEach((function(e){var t={cpm:e.cpm,width:e.width,height:e.height,currency:e.currency,netRevenue:!0,ttl:e.ttl,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]},ad:e.ad,requestId:e.bidId,creativeId:e.creativeId,placementId:e.placementId};e.dealId&&(t.dealId=e.dealId),n.push(t)})),n}};function Sr(e){var t="";return e&&e.refererInfo&&e.refererInfo.referer&&(t=e.refererInfo.referer),t}function Ar(e){var t=e.performance||e.webkitPerformance||e.msPerformance||e.mozPerformance,n=t&&"function"==typeof t.getEntriesByType&&"[object Function]"===Object.prototype.toString.call(t.getEntriesByType)&&t.getEntriesByType("navigation")[0]&&t.getEntriesByType("navigation")[0].responseStart&&t.getEntriesByType("navigation")[0].requestStart&&t.getEntriesByType("navigation")[0].responseStart>0&&t.getEntriesByType("navigation")[0].requestStart>0&&Math.round(t.getEntriesByType("navigation")[0].responseStart-t.getEntriesByType("navigation")[0].requestStart);if(n)return n.toString();var r=t&&t.timing.responseStart&&t.timing.requestStart&&t.timing.responseStart>0&&t.timing.requestStart>0&&t.timing.responseStart-t.timing.requestStart;return r?r.toString():""}function Cr(e){var t={},n=Object(i.O)(e.params,"placementId"),r=Object(i.O)(e.params,"pageId"),o=Object(a.a)(e,"ortb2Imp.ext.gpid");return t.sizes=function(e){return Object(i.ub)(function(e){var t=Object(a.a)(e,"mediaTypes.video.playerSize"),n=Object(a.a)(e,"mediaTypes.video.sizes"),r=Object(a.a)(e,"mediaTypes.banner.sizes");return Object(i.ab)(r)||Object(i.ab)(t)||Object(i.ab)(n)?[r,n,t].reduce((function(e,t){return Object(i.ab)(t)&&(Object(i.ab)(t[0])?t.forEach((function(t){e.push(t)})):e.push(t)),e}),[]):e.sizes}(e))}(e),t.bidId=Object(i.y)("bidId",e),t.bidderRequestId=Object(i.y)("bidderRequestId",e),t.placementId=parseInt(n,10),t.pageId=parseInt(r,10),t.adUnitCode=Object(i.y)("adUnitCode",e),t.auctionId=Object(i.y)("auctionId",e),t.transactionId=Object(i.y)("transactionId",e),o&&(t.gpid=o),t}function xr(e){return parseInt(e)>0}function Dr(){return(Dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function kr(e){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach((function(t){Ur(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Br(e){return function(e){if(Array.isArray(e))return qr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object(Ne.c)(Er),window.pbjs.installedModules.push("teadsBidAdapter");var Nr=!0,Mr=null,zr={gvlid:28,code:"triplelift",supportedMediaTypes:[T.b,T.d],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var n="https://tlx.3lift.com/header/auction?",r=function(e){var t={},n=e[0].schain,r=function(){var e={},t={},n={},r=p.b.getConfig("ortb2")||{},a=Dr({},r.site),o=Dr({},r.user);Gr(t,a),Gr(n,o),Object(i.db)(t)||(e.context=t);Object(i.db)(n)||(e.user=n);return e}();t.imp=e.map((function(e,t){var n,r,a={id:t,tagid:e.params.inventoryCode,floor:Lr(e)};return Fr(e)?a.video=function(e){var t=Rr(Rr({},e.params.video),e.mediaTypes.video);t.w||(t.w=t.playerSize[0][0]);t.h||(t.h=t.playerSize[0][1]);"instream"===t.context&&(t.placement=1);return delete t.playerSize,t}(e):e.mediaTypes.banner&&(a.banner={format:(n=e.sizes,r=n.filter(Kr),r.map((function(e){return{w:e[0],h:e[1]}})))}),Object(i.db)(e.ortb2Imp)||(a.fpd=function(e){var t={},n={};Gr(n,e.ext),Object(i.db)(n)||(t.context=n);return t}(e.ortb2Imp)),a}));var a=[].concat(Br((o=[e[0]],Vr(o,"tdid","adserver.org","TDID"))),Br(function(e){return Vr(e,"idl_env","liveramp.com","idl")}([e[0]])),Br(function(e){return Vr(e,"criteoId","criteo.com","criteoId")}([e[0]])),Br(function(e){return Vr(e,"pubcid","pubcid.org","pubcid")}([e[0]])));var o;a.length>0&&(t.user={ext:{eids:a}});var c=function(e,t){var n={};Object(i.db)(e)||(n.schain=Rr({},e));Object(i.db)(t)||(n.fpd=Rr({},t));return n}(n,r);Object(i.db)(c)||(t.ext=c);return t}(e);if(n=Object(i.Gb)(n,"lib","prebid"),n=Object(i.Gb)(n,"v","6.25.0"),t&&t.refererInfo){var a=t.refererInfo.referer;n=Object(i.Gb)(n,"referrer",a)}return t&&t.timeout&&(n=Object(i.Gb)(n,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(Nr=t.gdprConsent.gdprApplies,n=Object(i.Gb)(n,"gdpr",Nr.toString())),void 0!==t.gdprConsent.consentString&&(Mr=t.gdprConsent.consentString,n=Object(i.Gb)(n,"cmp_cs",Mr))),t&&t.uspConsent&&(n=Object(i.Gb)(n,"us_privacy",t.uspConsent)),!0===p.b.getConfig("coppa")&&(n=Object(i.Gb)(n,"coppa",!0)),n.lastIndexOf("&")===n.length-1&&(n=n.substring(0,n.length-1)),Object(i.pb)("tlCall request built: "+n),{method:"POST",url:n,data:r,bidderRequest:t}},interpretResponse:function(e,t){var n=t.bidderRequest;return(e.body.bids||[]).map((function(e){return function(e,t){var n={},r=t.width||1,i=t.height||1,a=t.deal_id||"",o=t.crid||"",c=e.bids[t.imp_id];0!=t.cpm&&t.ad&&(n={requestId:c.bidId,cpm:t.cpm,width:r,height:i,netRevenue:!0,ad:t.ad,creativeId:o,dealId:a,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},Fr(c)&&(n.vastXml=t.ad,n.mediaType="video",n.ttl=3600),t.advertiser_name&&(n.meta.advertiserName=t.advertiser_name),t.adomain&&t.adomain.length&&(n.meta.advertiserDomains=t.adomain),t.tl_source&&"hdx"==t.tl_source&&(n.meta.mediaType="banner"),t.tl_source&&"tlx"==t.tl_source&&(n.meta.mediaType="native"));return n}(n,e)}))},getUserSyncs:function(e,t,n,r){var a=function(e){if(!e)return;if(e.iframeEnabled)return"iframe";if(e.pixelEnabled)return"image"}(e);if(a){var o="https://eb2.3lift.com/sync?";return"image"===a&&(o=Object(i.Gb)(o,"px",1),o=Object(i.Gb)(o,"src","prebid")),null!==Mr&&(o=Object(i.Gb)(o,"gdpr",Nr),o=Object(i.Gb)(o,"cmp_cs",Mr)),r&&(o=Object(i.Gb)(o,"us_privacy",r)),[{type:a,url:o}]}}};function Fr(e){return!!e.mediaTypes.video&&(!!e.mediaTypes.video.context&&"instream"===e.mediaTypes.video.context.toLowerCase())}function Lr(e){var t=null;if("function"==typeof e.getFloor)try{var n=e.getFloor({currency:"USD",mediaType:Fr(e)?"video":"banner",size:"*"});"object"!==kr(n)||"USD"!==n.currency||isNaN(parseFloat(n.floor))||(t=parseFloat(n.floor))}catch(e){Object(i.nb)("Triplelift: getFloor threw an error: ",e)}return null!==t?t:e.params.floor}function Gr(e,t){Object(i.db)(t)||Object.keys(t).forEach((function(n){null!=t[n]&&(e[n]=t[n])}))}function Vr(e,t,n,r){return e.map(function(e){return function(t){return t&&t.userId&&t.userId[e]}}(t)).filter(Wr(t)).map(function(e,t){return function(n){return{source:e,uids:[{id:n.id?n.id:n,ext:{rtiPartner:t}}]}}}(n,r))}var Wr=function(e){return function(t,n,r){var a=!!t&&(Object(i.lb)(t)?!!t:Object(i.jb)(t)&&!Object(i.ab)(t)&&!Object(i.db)(t)&&t.id&&Object(i.lb)(t.id)&&!!t.id);return a||void 0===r[0]||Object(i.qb)("Triplelift: invalid ".concat(e," userId format")),a}};function Kr(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function Yr(e){return function(e){if(Array.isArray(e))return ei(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hr(e){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(n),!0).forEach((function(t){$r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Zr(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw a}}}}function Zr(e,t){if(e){if("string"==typeof e)return ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ei(e,t):void 0}}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object(Ne.c)(zr),window.pbjs.installedModules.push("tripleliftBidAdapter");var ti=[T.b,T.d],ni=[300,250],ri={JPY:1},ii="p",ai="x",oi=1,ci=2,si=3,di=4,ui=5,li=6,pi=7,fi=8,bi=9,mi={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},gi={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","trustpid.com":""},vi=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","flocId","pubProvidedId"],yi=["mimes","minduration","maxduration"],hi=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h"],Oi=!1,ji=Object(ae.b)({gvlid:10,bidderCode:"ix"}),Ii=2;function _i(e){var t=wi(e),n=Object(a.a)(e,"mediaTypes.video"),r=Object(a.a)(e,"params.video");if(Ci(n,r).length)return{};for(var o in t.video=r?Object(i.r)(e.params.video):{},n)-1===hi.indexOf(o)||t.video.hasOwnProperty(o)||(t.video[o]=n[o]);if(t.video.minduration>t.video.maxduration)return Object(i.nb)("IX Bid Adapter: video minduration [".concat(t.video.minduration,"] cannot be greater than video maxduration [").concat(t.video.maxduration,"]"),{bidder:"ix",code:bi}),{};var c=r&&r.context||n&&n.context;if(c&&!t.video.hasOwnProperty("placement")&&(c===Ct.a?t.video.placement=1:c===Ct.b?t.video.placement=4:Object(i.qb)("IX Bid Adapter: Video context '".concat(c,"' is not supported"))),!t.video.w||!t.video.h){var s=xi(Object(a.a)(t,"video.playerSize"))||xi(Object(a.a)(e,"params.size"));if(!s)return Object(i.qb)("IX Bid Adapter: Video size is missing in [mediaTypes.video] missing"),{};t.video.w=s[0],t.video.h=s[1],Object(a.a)(t,"ext.sid")||(t.ext.sid=Object(i.sb)(s))}return Ti(e,t,T.d),t}function wi(e){var t={};return t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId.toString(),!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(t.ext.sid=String(e.params.id)),t}function Ti(e,t,n){var r=null,a=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(r={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),Object(i.fb)(e.getFloor)){var o="*",c="*";if(n&&Object(i.k)(ti,n)){var s=t[n];o=n,c=[s.w,s.h]}try{a=e.getFloor({mediaType:o,size:c})}catch(e){Object(i.qb)("priceFloors module call getFloor failed, error : ",e)}}a?(t.bidfloor=a.floor,t.bidfloorcur=a.currency,t.ext.fl=ii):r&&(t.bidfloor=r.floor,t.bidfloorcur=r.currency,t.ext.fl=ai)}function Ei(e,t,n){var r={},o=!(!Object(a.a)(e,"exp")||!Object(i.hb)(e.exp)),c=Object(a.a)(e,"dealid")||Object(a.a)(e,"ext.dealid");return ri.hasOwnProperty(t)?r.cpm=e.price/ri[t]:r.cpm=e.price/100,r.requestId=e.impid,c&&(r.dealId=c),r.netRevenue=!0,r.currency=t,r.creativeId=e.hasOwnProperty("crid")?e.crid:"-",e.mtype==Ii?r.vastXml=e.adm:e.ext&&e.ext.vasturl&&(r.vastUrl=e.ext.vasturl),e.ext&&e.ext.vasturl||e.mtype==Ii?(r.width=n.video.w,r.height=n.video.h,r.mediaType=T.d,r.mediaTypes=n.mediaTypes,r.ttl=o?e.exp:3600):(r.ad=e.adm,r.width=e.w,r.height=e.h,r.mediaType=T.b,r.ttl=o?e.exp:300),r.meta={},r.meta.networkId=Object(a.a)(e,"ext.dspid"),r.meta.brandId=Object(a.a)(e,"ext.advbrandid"),r.meta.brandName=Object(a.a)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(r.meta.advertiserDomains=e.adomain),r}function Si(e){return Array.isArray(e)&&2===e.length&&Object(i.hb)(e[0])&&Object(i.hb)(e[1])}function Ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Si(e))return e[0]===t[0]&&e[1]===t[1];for(var n=0;n<e.length;n++)if(e[n][0]===t[0]&&e[n][1]===t[1])return!0;return!1}function Ci(e,t){var n=[];e||Object(i.qb)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");var r,a=Qr(yi);try{for(a.s();!(r=a.n()).done;){var o=r.value,c=e&&e.hasOwnProperty(o),s=t&&t.hasOwnProperty(o);c||s||n.push("IX Bid Adapter: ".concat(o," is not included in either the adunit or params level"))}}catch(e){a.e(e)}finally{a.f()}var d=e&&e.hasOwnProperty("protocol"),u=e&&e.hasOwnProperty("protocols"),l=t&&t.hasOwnProperty("protocol"),p=t&&t.hasOwnProperty("protocols");return d||u||l||p||n.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),n}function xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Si(e)?e:!!Si(e[0])&&e[0]}function Di(e,t,n){if(e)return Xr(Xr({},Object(u.b)(n,(function(t){return t.bidId===e}))),Object(u.b)(t,(function(t){return t.id===e})))}function ki(e,t,n,r){var o="https://htlb.casalemedia.com/cygnus",c=function(e,t){var n=[],r={};if(Object(i.ab)(e)){var o,c=Qr(e);try{for(c.s();!(o=c.n()).done;){var s=o.value;gi.hasOwnProperty(s.source)&&Object(a.a)(s,"uids.0")&&(r[s.source]=!0,""!=gi[s.source]&&(s.uids[0].ext={rtiPartner:gi[s.source]}),delete s.uids[0].atype,n.push(s))}}catch(e){c.e(e)}finally{c.f()}}if(t&&t.id&&t.version){var d={source:"chrome.com",uids:[{id:t.id,ext:{rtiPartner:"flocId",ver:t.version}}]};n.push(d),r["chrome.com"]=!0}return{toSend:n,seenSources:r}}(Object(a.a)(e,"0.userIdAsEids"),Object(a.a)(e,"0.userId.flocId")),s=c.toSend,d=function(){var e=p.b.getConfig("pageUrl");try{return new URL(e).href}catch(t){return void Object(i.qb)("IX Bid Adapter: invalid pageUrl config property value set: ".concat(e))}}()||Object(a.a)(t,"refererInfo.referer");if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var u=window.headertag.getIdentityInfo();if(u&&"object"===Hr(u))for(var l in u)if(u.hasOwnProperty(l)){var f=u[l];!f.responsePending&&f.data&&"object"===Hr(f.data)&&Object.keys(f.data).length&&!c.seenSources[f.data.source]&&s.push(f.data)}}if(t&&"roundel"===t.bidderCode&&!c.seenSources["liveramp.com"])return[];var b={};b.id=e[0].bidderRequestId.toString(),b.site={},b.ext={},b.ext.source="prebid",b.ext.ixdiag={},b.ext.ixdiag.msd=0,b.ext.ixdiag.msi=0,b.imp=[],b.at=1;var m=function(e){for(var t=e.map((function(e){return e.transactionId})).filter((function(e,t,n){return n.indexOf(e)===t})),n={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"6.25.0",userIds:Pi(e[0]),url:window.location.href.split("?")[0]},r=function(r){o=e.filter((function(e){return e.transactionId===t[r]}))[0],Object(a.a)(o,"mediaTypes")&&(Object.keys(o.mediaTypes).length>1&&n.mfu++,Object(a.a)(o,"mediaTypes.native")&&n.nu++,Object(a.a)(o,"mediaTypes.banner")&&n.bu++,"outstream"===Object(a.a)(o,"mediaTypes.video.context")&&(n.ou++,Fi(o)&&(n.ren=!0)),"instream"===Object(a.a)(o,"mediaTypes.video.context")&&n.iu++,n.allu++)},i=0;i<t.length;i++){var o;r(i)}return n}(e);for(var g in m)b.ext.ixdiag[g]=m[g];var v=function(){if(!ji.localStorageIsEnabled())return;var e,t={};try{e=JSON.parse(ji.getDataFromLocalStorage("ixdiag")||"{}")}catch(e){return Object(i.nb)("ix can not read ixdiag from localStorage."),null}return Object.keys(e).forEach((function(n){Object.keys(e[n]).forEach((function(r){"number"==typeof e[n][r]&&(t[r]=t[r]?t[r]+e[n][r]:e[n][r])}))})),t}();if(Object(i.db)(v)||(b.ext.ixdiag.err=v),e[0].schain&&(b.source={ext:{schain:e[0].schain}}),s.length>0&&(b.user={},b.user.eids=s),document.referrer&&""!==document.referrer&&(b.site.ref=document.referrer),t){if(t.gdprConsent){var y=t.gdprConsent;y.hasOwnProperty("gdprApplies")&&(b.regs={ext:{gdpr:y.gdprApplies?1:0}}),y.hasOwnProperty("consentString")&&(b.user=b.user||{},b.user.ext={consent:y.consentString||""},y.hasOwnProperty("addtlConsent")&&y.addtlConsent&&(b.user.ext.consented_providers_settings={consented_providers:y.addtlConsent}))}t.uspConsent&&Object(qe.a)(b,"regs.ext.us_privacy",t.uspConsent),d&&(b.site.page=d)}p.b.getConfig("coppa")&&Object(qe.a)(b,"regs.coppa",1);var h={};h.s=e[0].params.siteId,h.v=r,h.ac="j",h.sd=1,8.1===r&&(h.nf=1);var O=t&&t.bidderCode||"ix",j=p.b.getConfig(O),I=[],_=0,w=Object.keys(n),E="".concat(o).concat(Object(i.tb)(Xr(Xr({},h),{},{r:JSON.stringify(b)}))).length;if(E>8e3)return Object(i.nb)("IX Bid Adapter: Base request size has exceeded maximum request size.",{bidder:"ix",code:pi}),I;var S=E,A=0,C=!1;if(j){if("object"===Hr(j.firstPartyData)){var x=j.firstPartyData,D="?";for(var k in x)x.hasOwnProperty(k)&&(D+="".concat(encodeURIComponent(k),"=").concat(encodeURIComponent(x[k]),"&"));D=D.slice(0,-1),(A=encodeURIComponent(D).length)<8e3?("page"in b.site?b.site.page+=D:b.site.page=D,S+=A):Object(i.nb)("IX Bid Adapter: IX config FPD request size has exceeded maximum request size.",{bidder:"ix",code:li})}"number"==typeof j.timeout&&(h.t=j.timeout),"boolean"==typeof j.detectMissingSizes?b.ext.ixdiag.dms=j.detectMissingSizes:b.ext.ixdiag.dms=!0}for(var P=function(t){if(S>=8e3||I.length>=4)return"break";for(var r=n[w[t]],a=r.missingCount,c=void 0===a?0:a,s=r.missingImps,d=void 0===s?[]:s,u=r.ixImps,l=!1,f=8e3-S,m={ixImps:void 0===u?[]:u,missingBannerImpressions:d},g=Object.keys(m).map((function(e){return m[e]})).filter((function(e){return Array.isArray(e)})).reduce((function(e,t){return e.concat.apply(e,Yr(t))}),[]),v=encodeURIComponent(JSON.stringify({impressionObjects:g})).length;g.length&&v>f;)l=!0,g.pop(),v=encodeURIComponent(JSON.stringify({impressionObjects:g})).length;var y=n[w[t]].gpid,O=n[w[t]].dfp_ad_unit_code;if(g.length&&T.b in g[0]){var j=g[0],A={id:j.id,banner:{topframe:j.banner.topframe,format:g.map((function(e){var t=e.banner;return{w:t.w,h:t.h,ext:e.ext}}))}};(O||y)&&(A.ext={},A.ext.dfp_ad_unit_code=O,A.ext.gpid=y),"bidfloor"in g[0]&&(A.bidfloor=g[0].bidfloor),"bidfloorcur"in g[0]&&(A.bidfloorcur=g[0].bidfloorcur),b.imp.push(A),b.ext.ixdiag.msd+=c,b.ext.ixdiag.msi+=d.length}else{var x;g.forEach((function(e){return Object(qe.a)(e,"ext.gpid",y)})),(x=b.imp).push.apply(x,Yr(g))}S+=v;var D=p.b.getConfig("ortb2")||{};if(!Object(i.db)(D)&&!C){b.ext.ixdiag.fpd=!0;var k=Xr({},D.site||D.context);Object.keys(k).forEach((function(e){-1===mi.SITE.indexOf(e)&&delete k[e]}));var P=Xr({},D.user);Object.keys(P).forEach((function(e){-1===mi.USER.indexOf(e)&&delete P[e]}));var R=Object(i.r)(b);if(R.site=Object(i.rb)({},R.site,k),R.user=Object(i.rb)({},R.user,P),"".concat(o).concat(Object(i.tb)(Xr(Xr({},h),{},{r:JSON.stringify(R)}))).length<8e3){b.site=Object(i.rb)({},b.site,k),b.user=Object(i.rb)({},b.user,P),C=!0;var U=encodeURIComponent(JSON.stringify(Xr(Xr({},k),P))).length;S+=U}else Object(i.nb)("IX Bid Adapter: FPD request size has exceeded maximum request size.",{bidder:"ix",code:fi})}var B=t===w.length-1;if(l||B){var q=Object(i.r)(h);B&&!_||(b.ext.ixdiag.sn=_,q.sn=_),_++,q.r=JSON.stringify(b),I.push({method:"GET",url:o,data:q,validBidRequests:e}),S=E,b.imp=[],b.ext.ixdiag.msd=0,b.ext.ixdiag.msi=0,C=!1}},R=0;R<w.length;R++){if("break"===P(R))break}return I}function Pi(e){var t=e.userId||{};return vi.filter((function(e){return t[e]}))}function Ri(e,t){if(t)for(var n=0;n<e.length;n++){var r=e[n];if(t[0]===r[0]&&t[1]===r[1]){e.splice(n,1);break}}}function Ui(e,t){var n=_i(e);0!=Object.keys(n).length&&(t[e.transactionId]={},t[e.transactionId].ixImps=[],t[e.transactionId].ixImps.push(n),t[e.transactionId].gpid=Object(a.a)(e,"ortb2Imp.ext.gpid"))}function Bi(e,t,n){var r=Xr(Xr({},{detectMissingSizes:!0}),p.b.getConfig("ix")),o=function(e){var t=wi(e);t.banner={};var n=Object(a.a)(e,"params.size");return n&&(t.banner.w=n[0],t.banner.h=n[1],Object(a.a)(t,"ext.sid")||(t.ext.sid=Object(i.sb)(n))),t.banner.topframe=Object(i.U)()?0:1,Ti(e,t,T.b),t}(e),c=Ai(Object(a.a)(e,"mediaTypes.banner.sizes"),Object(a.a)(e,"params.size"));n.hasOwnProperty(e.transactionId)||(n[e.transactionId]={}),n[e.transactionId].gpid=Object(a.a)(e,"ortb2Imp.ext.gpid"),n[e.transactionId].dfp_ad_unit_code=Object(a.a)(e,"ortb2Imp.ext.data.adserver.adslot"),c&&(n[e.transactionId].hasOwnProperty("ixImps")||(n[e.transactionId].ixImps=[]),n[e.transactionId].ixImps.push(o)),r.hasOwnProperty("detectMissingSizes")&&r.detectMissingSizes&&function(e,t,n){var r=e.transactionId;if(t.hasOwnProperty(r)){var o=[];t[r].hasOwnProperty("missingSizes")&&(o=t[r].missingSizes),Ri(o,e.params.size),t[r].missingSizes=o}else if(Object(a.a)(e,"mediaTypes.banner.sizes")){var c=Object(i.r)(e.mediaTypes.banner.sizes);Ri(c,e.params.size);var s={missingSizes:c,impression:n};t[r]=s}}(e,t,o)}function qi(e,t,n){var r=Object(i.r)(t);return r.ext.sid=Object(i.sb)(n),r.banner.w=n[0],r.banner.h=n[1],Ti(e,r,T.b),r}function Ni(e){if("ERROR"===e.type&&e.arguments&&e.arguments[1]&&"ix"===e.arguments[1].bidder){var t={hasEnforcementHook:!1,valid:Object(i.T)()};Object(ae.d)(10,"ix",t,(function(t){t.valid&&function(e){if(ji.localStorageIsEnabled()){var t;try{t=JSON.parse(ji.getDataFromLocalStorage("ixdiag")||"{}")}catch(e){Object(i.qb)("ix can not read ixdiag from localStorage.")}var n=new Date;if(Object.keys(t).map((function(e){var r=new Date(e);r.setDate(r.getDate()+7)-n<0&&delete t[e]})),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&"ix"===e.arguments[1].bidder){var r=n.toISOString().slice(0,10),a=e.arguments[1].code;a&&(t[r]=t[r]||{},Number(t[r][a])||(t[r][a]=0),t[r][a]++)}ji.setDataInLocalStorage("ixdiag",JSON.stringify(t))}}(e)}))}}function Mi(e){e.renderer.push((function(){var t=e.adUnitCode,n=document.getElementById(t)?t:Object(i.D)(t).divId;n?window.createIXPlayer(n,e):Object(i.qb)("IX Bid Adapter: adUnitCode: ".concat(n," not found on page."))}))}function zi(e,t){var n=l.a.install({id:e,url:t,loaded:!1});try{n.setRender(Mi)}catch(e){return Object(i.qb)("Prebid Error calling setRender on renderer",e),null}return t?n:(Object(i.qb)("Outstream renderer URL not found"),null)}function Fi(e){if("outstream"!==Object(a.a)(e,"mediaTypes.video.context"))return!1;var t=Object(a.a)(e,"mediaTypes.video.renderer");return t||(t=Object(a.a)(e,"renderer")),!!("object"!==Hr(t)||!t.url||!t.render)||t.backupOnly}var Li={code:"ix",gvlid:10,aliases:[{code:"roundel",gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:ti,isBidRequestValid:function(e){Oi||(o.d(s.EVENTS.AUCTION_DEBUG,Ni),o.d(s.EVENTS.AD_RENDER_FAILED,Ni),Oi=!0);var t,n,r=Object(a.a)(e,"params.video"),c=Object(a.a)(e,"params.size"),d=Object(a.a)(e,"mediaTypes.banner.sizes"),u=Object(a.a)(e,"mediaTypes.video"),l=Object(a.a)(e,"mediaTypes.video.playerSize"),p=e.params.hasOwnProperty("bidFloor"),f=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!Object(i.k)(ti,e.mediaType))return Object(i.qb)("IX Bid Adapter: media type is not supported."),!1;if(Object(a.a)(e,"mediaTypes.banner")&&!d)return!1;if(c){var b=xi(c);if(!b)return Object(i.nb)("IX Bid Adapter: size has invalid format.",{bidder:"ix",code:oi}),!1;if(!Ai(e.sizes,b)&&!Ai(l,b)&&!Ai(d,b))return Object(i.nb)("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:"ix",code:ci}),!1}if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return Object(i.nb)("IX Bid Adapter: siteId must be string or number type.",{bidder:"ix",code:di}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return Object(i.nb)("IX Bid Adapter: siteId must valid value",{bidder:"ix",code:di}),!1;if((p||f)&&!(p&&f&&(t=e.params.bidFloor,n=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof n&&n.match(/^[A-Z]{3}$/)))))return Object(i.nb)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:"ix",code:ui}),!1;if(u&&r){var m=Ci(u,r);if(m.length)return m.forEach((function(e){Object(i.nb)(e,{bidder:"ix",code:si})})),!1}var g=_i(e).video;if(Object(a.a)(e,"mediaTypes.video.context")===Ct.b&&Fi(e)&&g){var v=Object(a.a)(g,"playerSize")[0];if(!(v[0]>=ni[0]&&v[1]>=ni[1]))return Object(i.nb)("IX Bid Adapter: ".concat(l," is an invalid size for IX outstream renderer")),!1}return!0},buildRequests:function(e,t){var n=[],r={},i={},o={},c={};for(var s in e.forEach((function(e){var t=Object.keys(Object(a.a)(e,"mediaTypes",{}));switch(function(e){return Object(a.a)(e,"mediaTypes.video")&&_i(e).video?T.d:T.b}(e)){case T.b:Bi(e,c,r);break;case T.d:Ui(e,i)}Object(u.c)(t,T.b)&&Object(u.c)(t,T.d)&&(o[e.transactionId]=e)})),Object.keys(o).forEach((function(e){var t=o[e];r[e]||Bi(t,c,r),i[e]||Ui(t,i)})),c)if(c.hasOwnProperty(s)){var d=c[s].missingSizes;r.hasOwnProperty(s)||(r[s]={}),r[s].hasOwnProperty("missingImps")||(r[s].missingImps=[],r[s].missingCount=0);for(var l=c[s].impression,p=0;p<d.length;p++){var f=qi(e[0],l,d[p]);r[s].missingImps.push(f),r[s].missingCount++}}return Object.keys(r).length>0&&n.push.apply(n,Yr(ki(e,t,r,7.2))),Object.keys(i).length>0&&n.push.apply(n,Yr(ki(e,t,i,8.1))),n},interpretResponse:function(e,t){var n=[],r=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return n;for(var o=e.body,c=o.seatbid,s=0;s<c.length;s++)if(c[s].hasOwnProperty("bid")){for(var d=c[s].bid,u=JSON.parse(t.data.r),l=0;l<d.length;l++){var p=Di(d[l].impid,u.imp,t.validBidRequests);if((r=Ei(d[l],o.cur,p)).mediaType===T.d&&Fi(p)){var f=Object(a.a)(o,"ext.videoplayerurl");if(r.renderer=zi(d[l].bidId,f),!r.renderer)continue}n.push(r)}if(Object(a.a)(u,"ext.ixdiag.err")&&ji.localStorageIsEnabled())try{ji.removeDataFromLocalStorage("ixdiag")}catch(e){Object(i.nb)("ix can not clear ixdiag from localStorage.")}}return n},transformBidParams:function(e,t){return Object(i.m)({siteID:"number"},e)},getUserSyncs:function(e,t){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};Object(Ne.c)(Li),window.pbjs.installedModules.push("ixBidAdapter");var Gi=n(16);function Vi(e){return(Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Wi={code:"mediasquare",gvlid:791,aliases:["msq"],supportedMediaTypes:[T.b,T.c,T.d],isBidRequestValid:function(e){return!(!e.params.owner||!e.params.code)},buildRequests:function(e,t){var n=[],r=document.location.search.match(/msq_test=true/)?"https://bidder-test.mediasquare.fr/":"https://pbs-front.mediasquare.fr/",i={},a=p.b.getConfig("debug")?1:0,o=null;Object.keys(e).forEach((function(t){o=e[t],i="function"==typeof o.getFloor?o.getFloor({currency:"EUR",mediaType:"*",size:"*"}):{},n.push({owner:o.params.owner,code:o.params.code,adunit:o.adUnitCode,bidId:o.bidId,auctionId:o.auctionId,transactionId:o.transactionId,mediatypes:o.mediaTypes,floor:i})}));var c={codes:n,referer:encodeURIComponent(t.refererInfo.referer),pbjs:"6.25.0"};return t&&(t.gdprConsent&&(c.gdpr={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t.uspConsent&&(c.uspConsent=t.uspConsent),t.schain&&(c.schain=t.schain),t.userId?c.userId=t.userId:t.hasOwnProperty("bids")&&"object"==Vi(t.bids)&&t.bids.length>0&&t.bids[0].hasOwnProperty("userId")&&(c.userId=t.bids[0].userId)),a&&(c.debug=!0),{method:"POST",url:r+"msq_prebid",data:JSON.stringify(c)}},interpretResponse:function(e,t){var n=e.body,r=[],i=null,a=null;return n.hasOwnProperty("responses")&&Object.keys(n.responses).forEach((function(e){a=n.responses[e],i={requestId:a.bid_id,cpm:a.cpm,width:a.width,height:a.height,creativeId:a.creative_id,currency:a.currency,netRevenue:a.net_revenue,ttl:a.ttl,ad:a.ad,mediasquare:{bidder:a.bidder,code:a.code},meta:{advertiserDomains:a.adomain}},"match"in a&&(i.mediasquare.match=a.match),"hasConsent"in a&&(i.mediasquare.hasConsent=a.hasConsent),"native"in a?(i.native=a.native,i.mediaType="native"):"video"in a&&("url"in a.video&&(i.vastUrl=a.video.url),"xml"in a.video&&(i.vastXml=a.video.xml),i.mediaType="video"),a.hasOwnProperty("deal_id")&&(i.dealId=a.deal_id),r.push(i)})),r},getUserSyncs:function(e,t,n,r){return"object"===Vi(t)&&null!=t&&t.length>0&&t[0].hasOwnProperty("body")&&t[0].body.hasOwnProperty("cookies")&&"object"===Vi(t[0].body.cookies)?t[0].body.cookies:[]},onBidWon:function(e){var t={pbjs:"6.25.0"},n=document.location.search.match(/msq_test=true/)?"https://bidder-test.mediasquare.fr/":"https://pbs-front.mediasquare.fr/",r=["cpm","size","mediaType","currency","creativeId","adUnitCode","timeToRespond","requestId","auctionId"];e.hasOwnProperty("mediasquare")&&(e.mediasquare.hasOwnProperty("bidder")&&(t.bidder=e.mediasquare.bidder),e.mediasquare.hasOwnProperty("code")&&(t.code=e.mediasquare.code),e.mediasquare.hasOwnProperty("match")&&(t.match=e.mediasquare.match),e.mediasquare.hasOwnProperty("hasConsent")&&(t.hasConsent=e.mediasquare.hasConsent));for(var i=0;i<r.length;i++)e.hasOwnProperty(r[i])&&(t[r[i]]=e[r[i]],"number"==typeof t[r[i]]&&(t[r[i]]=t[r[i]].toString()));return Object(Gi.a)(n+"winning",null,JSON.stringify(t),{method:"POST",withCredentials:!0}),!0}};function Ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(n),!0).forEach((function(t){$i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ki(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hi(){return(Hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ji(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){c=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qi(e){return(Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object(Ne.c)(Wi),window.pbjs.installedModules.push("mediasquareBidAdapter");var Zi={};p.b.getConfig("rubicon",(function(e){Object(i.rb)(Zi,e.rubicon)}));var ea={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656"};Object(i.a)(ea,(function(e,t){return ea[e]=t}));var ta={code:"rubicon",gvlid:52,supportedMediaTypes:[T.b,T.d],isBidRequestValid:function(e){if("object"!==Qi(e.params))return!1;for(var t=0,n=["accountId","siteId","zoneId"];t<n.length;t++)if(e.params[n[t]]=parseInt(e.params[n[t]]),isNaN(e.params[n[t]]))return Object(i.nb)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var r=sa(e,!0);return!!r&&("video"!==r||function(e){var t=!0,n=Object.prototype.toString.call([]),r=Object.prototype.toString.call(0),o={mimes:n,protocols:n,linearity:r,api:n};return Object.keys(o).forEach((function(n){Object.prototype.toString.call(Object(a.a)(e,"mediaTypes.video."+n))!==o[n]&&(t=!1,Object(i.nb)("Rubicon: mediaTypes.video."+n+" is required and must be of type: "+o[n]))})),t}(e))},buildRequests:function(e,t){var n=[],o=e.filter((function(e){return"video"===sa(e)})).map((function(e){e.startTime=(new Date).getTime();var n,o={id:e.transactionId,test:p.b.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:t.timeout,imp:[{exp:p.b.getConfig("s2sConfig.defaultTtl"),id:e.adUnitCode,secure:1,ext:$i({},e.bidder,e.params),video:Object(a.a)(e,"mediaTypes.video")||{}}],ext:{prebid:{channel:{name:"pbjs",version:pbjs.version},cache:{vastxml:{returnCreative:!0===Zi.returnVast}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:(n=p.b,{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:n.getConfig("customPriceBucket")&&n.getConfig("customPriceBucket").buckets}[n.getConfig("priceGranularity")]})},bidders:{rubicon:{integration:Zi.int_type||"pbjs"}}}}};"rubicon"!==e.bidder&&(o.ext.prebid.aliases=$i({},e.bidder,"rubicon"));var c,s,d=Object(r.a)().installedModules;if(!d||d.length&&-1===d.indexOf("rubiconAnalyticsAdapter")||Object(qe.a)(o,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),"function"!=typeof e.getFloor||Zi.disableFloors)c=parseFloat(Object(a.a)(e,"params.floor"));else{var u;try{u=e.getFloor({currency:"USD",mediaType:"video",size:ia(e,"video")})}catch(e){Object(i.nb)("Rubicon: getFloor threw an error: ",e)}c="object"!==Qi(u)||"USD"!==u.currency||isNaN(parseInt(u.floor))?void 0:parseFloat(u.floor)}(isNaN(c)||(o.imp[0].bidfloor=c),"object"===Qi(e.floorData)&&(o.ext.prebid.floors={enabled:!1}),o.imp[0].ext[e.bidder].video.size_id=function(e){var t=parseInt(Object(a.a)(e,"params.video.size_id"));if(!isNaN(t))return t;return"outstream"===Object(a.a)(e,"mediaTypes.".concat(T.d,".context"))?203:201}(e),function(e,t,n){if(!e)return;"object"===Qi(p.b.getConfig("app"))?e.app=p.b.getConfig("app"):e.site={page:na(t,n)};"object"===Qi(p.b.getConfig("device"))&&(e.device=p.b.getConfig("device"));t.params.video.language&&["site","device"].forEach((function(n){e[n]&&("site"===n?e[n].content=Hi({language:t.params.video.language},e[n].content):e[n]=Hi({language:t.params.video.language},e[n]))}))}(o,e,t),function(e,t){"object"===Qi(e.imp[0].video)&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip);"object"===Qi(e.imp[0].video)&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay);"object"===Qi(e.imp[0].video)&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));var n=ia(t,"video");e.imp[0].video.w=n[0],e.imp[0].video.h=n[1]}(o,e),t.gdprConsent)&&("boolean"==typeof t.gdprConsent.gdprApplies&&(s=t.gdprConsent.gdprApplies?1:0),Object(qe.a)(o,"regs.ext.gdpr",s),Object(qe.a)(o,"user.ext.consent",t.gdprConsent.consentString));t.uspConsent&&Object(qe.a)(o,"regs.ext.us_privacy",t.uspConsent);var l=Object(a.a)(t,"bids.0.userIdAsEids");l&&l.length&&Object(qe.a)(o,"user.ext.eids",l);var f=p.b.getConfig("user.id");f&&Object(qe.a)(o,"user.id",f),!0===p.b.getConfig("coppa")&&Object(qe.a)(o,"regs.coppa",1),e.schain&&da(e.schain)&&Object(qe.a)(o,"source.ext.schain",e.schain);var b=p.b.getConfig("multibid");return b&&Object(qe.a)(o,"ext.prebid.multibid",b.reduce((function(e,t){var n={};return Object.keys(t).forEach((function(e){n[e.toLowerCase()]=t[e]})),e.push(n),e}),[])),aa(e,T.d,o),e.storedAuctionResponse&&Object(qe.a)(o.imp[0],"ext.prebid.storedauctionresponse.id",e.storedAuctionResponse.toString()),Object(qe.a)(o.imp[0],"ext.prebid.auctiontimestamp",t.auctionStart),{method:"POST",url:"https://".concat(Zi.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:o,bidRequest:e}}));if(!0!==Zi.singleRequest)n=o.concat(e.filter((function(e){return"banner"===sa(e)})).map((function(e){var n=ta.createSlotParams(e,t);return{method:"GET",url:"https://".concat(Zi.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:ta.getOrderedParams(n).reduce((function(e,t){var r=n[t];return Object(i.lb)(r)&&""!==r||Object(i.ib)(r)?"".concat(e).concat(ua(t,r),"&"):e}),"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})));else{var c=e.filter((function(e){return"banner"===sa(e)})).reduce((function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e}),{});n=o.concat(Object.keys(c).reduce((function(e,n){var r,a;return(r=c[n],a=10,r.map((function(e,t){return t%a==0?r.slice(t,t+a):null})).filter((function(e){return e}))).forEach((function(n){var r=ta.combineSlotUrlParams(n.map((function(e){return ta.createSlotParams(e,t)})));e.push({method:"GET",url:"https://".concat(Zi.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:ta.getOrderedParams(r).reduce((function(e,t){var n=r[t];return Object(i.lb)(n)&&""!==n||Object(i.ib)(n)?"".concat(e).concat(ua(t,n),"&"):e}),"")+"slots=".concat(n.length,"&rand=").concat(Math.random()),bidRequest:n})})),e}),[]))}return n},getOrderedParams:function(e){var t=/^tg_v/,n=/^tg_i/,r=/^eid_|^tpid_/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain"].concat(Object.keys(e).filter((function(e){return r.test(e)}))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((function(e){return t.test(e)}))).concat(Object.keys(e).filter((function(e){return n.test(e)}))).concat(["tk_flint","x_source.tid","l_pb_bid_id","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter((function(e){return-1===i.indexOf(e)})))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];var t=e.reduce((function(t,n,r){return Object.keys(n).forEach((function(i){t.hasOwnProperty(i)||(t[i]=new Array(e.length)),t[i].splice(r,1,n[i])})),t}),{}),n=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach((function(e){var r=t[e].join(";"),i=r.match(n);t[e]=i?i[1]:r})),t},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var n=e.params,r=ia(e,"banner"),o=Ji(n.latLong||[],2),c=o[0],s=o[1],d={account_id:n.accountId,site_id:n.siteId,zone_id:n.zoneId,size_id:r[0],alt_size_ids:r.slice(1).join(",")||void 0,rp_floor:(n.floor=parseFloat(n.floor))>=.01?n.floor:void 0,rp_secure:"1",tk_flint:"".concat(Zi.int_type||"pbjs_lite","_v6.25.0"),"x_source.tid":e.transactionId,l_pb_bid_id:e.bidId,"x_source.pchain":n.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:n.userId,"p_geo.latitude":isNaN(parseFloat(c))?void 0:parseFloat(c).toFixed(4),"p_geo.longitude":isNaN(parseFloat(s))?void 0:parseFloat(s).toFixed(4),"tg_fl.eid":e.code,rf:na(e,t)};if("function"==typeof e.getFloor&&!Zi.disableFloors){var l;try{l=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){Object(i.nb)("Rubicon: getFloor threw an error: ",e)}d.rp_hard_floor="object"!==Qi(l)||"USD"!==l.currency||isNaN(parseInt(l.floor))?void 0:l.floor}var f={1:"atf",3:"btf"}[Object(a.a)(e,"mediaTypes.banner.pos")]||"";d.p_pos="atf"===n.position||"btf"===n.position?n.position:f;var b=p.b.getConfig("user.id");return b&&(d.ppuid=b),e.userIdAsEids&&e.userIdAsEids.forEach((function(e){try{if("adserver.org"===e.source?(d.tpid_tdid=e.uids[0].id,d["eid_adserver.org"]=e.uids[0].id):"liveintent.com"===e.source?(d["tpid_liveintent.com"]=e.uids[0].id,d["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(d["tg_v.LIseg"]=e.ext.segments.join(","))):"liveramp.com"===e.source?d.x_liverampidl=e.uids[0].id:"id5-sync.com"===e.source?d["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.linkType||""):d["eid_".concat(e.source)]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype||""),!d.ppuid){var t=Object(u.b)(e.uids,(function(e){return e.ext&&"ppuid"===e.ext.stype}));t&&t.id&&(d.ppuid=t.id)}}catch(t){Object(i.qb)("Rubicon: error reading eid:",e,t)}})),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(d.gdpr=Number(t.gdprConsent.gdprApplies)),d.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(d.us_privacy=encodeURIComponent(t.uspConsent)),d.rp_maxbids=t.bidLimit||1,aa(e,T.b,d),!0===p.b.getConfig("coppa")&&(d.coppa=1),e.schain&&da(e.schain)&&(d.rp_schain=ta.serializeSupplyChain(e.schain)),d},serializeSupplyChain:function(e){if(!da(e))return"";var t=e.ver,n=e.complete,r=e.nodes;return"".concat(t,",").concat(n,"!").concat(ta.serializeSupplyChainNodes(r))},serializeSupplyChainNodes:function(e){var t=["asi","sid","hp","rid","name","domain"];return e.map((function(e){return t.map((function(t){return encodeURIComponent(e[t]||"")})).join(",")})).join("!")},interpretResponse:function(e,t){var n=t.bidRequest;if(!(e=e.body)||"object"!==Qi(e))return[];if(e.seatbid){var r=Object(a.a)(e,"ext.errors.rubicon");Array.isArray(r)&&r.length>0&&Object(i.qb)("Rubicon: Error in video response");var o=[];return e.seatbid.forEach((function(t){(t.bid||[]).forEach((function(r){var c={requestId:n.bidId,currency:e.cur||"USD",creativeId:r.crid,cpm:r.price||0,bidderCode:t.seat,ttl:300,netRevenue:!1!==Zi.netRevenue,width:r.w||Object(a.a)(n,"mediaTypes.video.w")||Object(a.a)(n,"params.video.playerWidth"),height:r.h||Object(a.a)(n,"mediaTypes.video.h")||Object(a.a)(n,"params.video.playerHeight")};r.id&&(c.seatBidId=r.id),r.dealid&&(c.dealId=r.dealid),r.adomain&&Object(qe.a)(c,"meta.advertiserDomains",Array.isArray(r.adomain)?r.adomain:[r.adomain]),Object(a.a)(r,"ext.bidder.rp.advid")&&Object(qe.a)(c,"meta.advertiserId",r.ext.bidder.rp.advid);var s=Object(a.a)(e,"ext.responsetimemillis.rubicon");if(n&&s&&(n.serverResponseTimeMs=s),Object(a.a)(r,"ext.prebid.type")===T.d){c.mediaType=T.d,Object(qe.a)(c,"meta.mediaType",T.d);var d=Object(a.a)(r,"ext.prebid.targeting");d&&"object"===Qi(d)&&(c.adserverTargeting=d),r.ext.prebid.cache&&"object"===Qi(r.ext.prebid.cache.vastXml)&&r.ext.prebid.cache.vastXml.cacheId&&r.ext.prebid.cache.vastXml.url?(c.videoCacheKey=r.ext.prebid.cache.vastXml.cacheId,c.vastUrl=r.ext.prebid.cache.vastXml.url):d&&d.hb_uuid&&d.hb_cache_host&&d.hb_cache_path&&(c.videoCacheKey=d.hb_uuid,c.vastUrl="https://".concat(d.hb_cache_host).concat(d.hb_cache_path,"?uuid=").concat(d.hb_uuid)),r.adm&&(c.vastXml=r.adm),r.nurl&&(c.vastUrl=r.nurl),!c.vastUrl&&r.nurl&&(c.vastUrl=r.nurl),"outstream"===Object(a.a)(n,"mediaTypes.video.context").toLowerCase()&&(c.renderer=function(e){var t=l.a.install({id:e.adId,url:Zi.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.2.1.js",config:Zi.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(ra)}catch(e){Object(i.qb)("Prebid Error calling setRender on renderer",e)}return t}(c))}else Object(i.qb)("Rubicon: video response received non-video media type");o.push(c)}))})),o}var c,s=e.ads,d=0;return"object"!==Qi(n)||Array.isArray(n)||"video"!==sa(n)||"object"!==Qi(s)||(s=s[n.adUnitCode]),!Array.isArray(s)||s.length<1?[]:s.reduce((function(t,r,a){if(r.impression_id&&c===r.impression_id?d++:c=r.impression_id,"ok"!==r.status)return t;var o,s,u=Array.isArray(n)?n[a-d]:n;if(u&&"object"===Qi(u)){var l={requestId:u.bidId,currency:"USD",creativeId:r.creative_id||"".concat(r.network||"","-").concat(r.advertiser||""),cpm:r.cpm||0,dealId:r.deal,ttl:300,netRevenue:!1!==Zi.netRevenue,rubicon:{advertiserId:r.advertiser,networkId:r.network},meta:{advertiserId:r.advertiser,networkId:r.network,mediaType:T.b}};if(r.creative_type&&(l.mediaType=r.creative_type),r.adomain&&(l.meta.advertiserDomains=Array.isArray(r.adomain)?r.adomain:[r.adomain]),r.creative_type===T.d)l.width=u.params.video.playerWidth,l.height=u.params.video.playerHeight,l.vastUrl=r.creative_depot_url,l.impression_id=r.impression_id,l.videoCacheKey=r.impression_id;else{l.ad=(o=r.script,s=r.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(s,"'>\n<script type='text/javascript'>").concat(o,"<\/script>\n</div>\n</body>\n</html>"));var p=Ji(ea[r.size_id].split("x").map((function(e){return Number(e)})),2);l.width=p[0],l.height=p[1]}l.rubiconTargeting=(Array.isArray(r.targeting)?r.targeting:[]).reduce((function(e,t){return e[t.key]=t.values[0],e}),{rpfl_elemid:u.adUnitCode}),t.push(l)}else Object(i.nb)("Rubicon: bidRequest undefined at index position:".concat(a),n,e);return t}),[]).sort((function(e,t){return(t.cpm||0)-(e.cpm||0)}))},getUserSyncs:function(e,t,n,r){if(!la&&e.iframeEnabled){var a={};return n&&("boolean"==typeof n.gdprApplies&&(a.gdpr=Number(n.gdprApplies)),"string"==typeof n.consentString&&(a.gdpr_consent=n.consentString)),r&&(a.us_privacy=encodeURIComponent(r)),a=Object.keys(a).length?"?".concat(Object(i.v)(a)):"",la=!0,{type:"iframe",url:"https://".concat(Zi.syncHost||"eus",".rubiconproject.com/usync.html")+a}}},transformBidParams:function(e,t){return Object(i.m)({accountId:"number",siteId:"number",zoneId:"number"},e)}};function na(e,t){var n=p.b.getConfig("pageUrl");return e.params.referrer?n=e.params.referrer:n||(n=t.refererInfo.referer),e.params.secure?n.replace(/^http:/i,"https:"):n}function ra(e){var t,n=document.getElementById(e.adUnitCode);(t=n.querySelector("div[id^='google_ads']"))&&t.style.setProperty("display","none"),function(e){var t=e.querySelector("script[id^='sas_script']"),n=t&&t.nextSibling;n&&"iframe"===n.localName&&n.style.setProperty("display","none")}(n);var r=e.renderer.getConfig();e.renderer.push((function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:n,align:r.align||"center",position:r.position||"append"},closeButton:r.closeButton||!1,label:r.label||void 0,collapse:r.collapse||!0})}))}function ia(e,t){var n=e.params;if("video"===t){var r=[];return n.video&&n.video.playerWidth&&n.video.playerHeight?r=[n.video.playerWidth,n.video.playerHeight]:Array.isArray(Object(a.a)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?r=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(r=e.sizes[0]),r}var o=[];return Array.isArray(n.sizes)?o=n.sizes:void 0!==Object(a.a)(e,"mediaTypes.banner.sizes")?o=oa(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?o=oa(e.sizes):Object(i.qb)("Rubicon: no sizes are setup or found"),function(e){var t=[15,2,9];return e.sort((function(e,n){var r=t.indexOf(e),i=t.indexOf(n);return r>-1||i>-1?-1===r?1:-1===i?-1:r-i:e-n}))}(o)}function aa(e,t,n){var r={user:{ext:{data:Yi({},e.params.visitor)}},site:{ext:{data:Yi({},e.params.inventory)}}};e.params.keywords&&(r.site.keywords=Object(i.ab)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);var o=Object(i.rb)({},p.b.getConfig("ortb2")||{},r),c=Object(a.a)(e.ortb2Imp,"ext.data")||{},s=Object(a.a)(e,"ortb2Imp.ext.gpid"),d={user:[4],site:[1,2,5,6]},u={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},l=function(e,t,n){if("data"===t&&Array.isArray(e))return e.filter((function(e){return e.segment&&Object(a.a)(e,"ext.segtax")&&d[n]&&-1!==d[n].indexOf(Object(a.a)(e,"ext.segtax"))})).map((function(e){var t=e.segment.filter((function(e){return e.id})).reduce((function(e,t){return e.push(t.id),e}),[]);if(t.length>0)return t.toString()})).toString();if("object"!==Qi(e)||Array.isArray(e)){if(void 0!==e)return Array.isArray(e)?e.filter((function(e){if("object"!==Qi(e)&&void 0!==e)return e.toString();Object(i.qb)("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString()}else Object(i.qb)("Rubicon: Filtered FPD key: ",t,": Expected value to be string, integer, or an array of strings/ints")},f=function(e,t,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=l(e,r,t),o=u[r]&&i?"".concat(u[r]):"data"===r?"".concat(u[t],"iab"):"".concat(u[t]).concat(r);n[o]=n[o]?n[o].concat(",",a):a};t===T.b?(["site","user"].forEach((function(e){Object.keys(o[e]).forEach((function(t){"site"===e&&"content"===t&&o[e][t].data?f(o[e][t].data,e,"data"):"ext"!==t?f(o[e][t],e,t):o[e][t].data&&Object.keys(o[e].ext.data).forEach((function(t){f(o[e].ext.data[t],e,t,!1)}))}))})),Object.keys(c).forEach((function(e){"adserver"!==e?f(c[e],"site",e):"gam"===c[e].name&&f(c[e].adslot,name,e)})),s&&(n.p_gpid=s),n["tg_i.pbadslot"]&&delete n["tg_i.dfp_ad_unit_code"]):(Object.keys(c).length&&Object(i.rb)(n.imp[0].ext,{data:c}),s&&(n.imp[0].ext.gpid=s),Object(i.rb)(n,o))}function oa(e){return Object(i.ub)(e).reduce((function(e,t){var n=parseInt(ea[t],10);return n&&e.push(n),e}),[])}function ca(e){return"object"===Qi(Object(a.a)(e,"params.video"))&&void 0!==Object(a.a)(e,"mediaTypes.".concat(T.d))}function sa(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ca(e)?-1===["outstream","instream"].indexOf(Object(a.a)(e,"mediaTypes.".concat(T.d,".context")))?void(t&&Object(i.nb)("Rubicon: mediaTypes.video.context must be outstream or instream")):ia(e,"video").length<2?void(t&&Object(i.nb)("Rubicon: could not determine the playerSize of the video")):(t&&Object(i.pb)("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===ia(e,"banner").length?void(t&&Object(i.nb)("Rubicon: could not determine the sizes for banner request")):(t&&Object(i.pb)("Rubicon: making banner request for adUnit",e.adUnitCode),"banner")}function da(e){var t=!1,n=["asi","sid","hp"];return e.nodes?((t=e.nodes.reduce((function(e,t){return e?n.every((function(e){return t.hasOwnProperty(e)})):e}),!0))||Object(i.nb)("Rubicon: required schain params missing"),t):t}function ua(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var la=!1;function pa(e){return(pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fa(){return(fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}Object(Ne.c)(ta),window.pbjs.installedModules.push("rubiconBidAdapter");function ba(){return(/(?:phone|windows\s+phone|ipod|blackberry|Galaxy Nexus|SM-G892A|(?:android|bbd+|meego|silk|googlebot) .+?mobile|palm|windows\s+ce|opera mini|avantgo|docomo)/i.test(navigator.userAgent)?"m":/(?:ipad|playbook|Tablet|(?:android|bb\d+|meego|silk)(?! .+? mobile))/i.test(navigator.userAgent)&&"t")||"d"}var ma=/^[0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i;function ga(e){return ma.test(e)}function va(e,t){Object(i.ob)("SublimeBidAdapter - "+e,t)}var ya={zoneId:"",transactionId:"",notifyId:"",timeout:p.b.getConfig("bidderTimeout")};function ha(e){fa(ya,e),va("State has been updated :",ya)}function Oa(e){var t=window.sublime=window.sublime||{},n=e.notifyId||t.notifyId;return n||va("generating a notifyId",n=Object(i.w)()),t.notifyId||(t.notifyId=n),n}function ja(e,t){var n=Date.now(),r={t:n,tse:n,z:ya.zoneId,e:e,src:"pa",puid:ya.transactionId||ya.notifyId,notid:ya.notifyId||"",pbav:"0.8.0",pubtimeout:ya.timeout,pubpbv:"6.25.0",device:ba()};"bidwon"===e&&(r.sspname=t||""),va("Sending pixel for event: "+e,r);var a=Object(i.v)(r);Object(i.Fb)("https://antenna.ayads.co/?"+a)}var Ia={code:"sublime",gvlid:114,aliases:[],isBidRequestValid:function(e){var t=Oa(e.params);return ga(t)?t!==window.sublime.notifyId?(va("notifyId mismatch: params [".concat(e.params.notifyId,"] / sublime [").concat(window.sublime.notifyId,"]")),!1):!!Number(e.params.zoneId):(va('invalid notifyId format, got "'.concat(t,'"')),!1)},buildRequests:function(e,t){var n={pbav:"0.8.0",prebidVersion:"6.25.0",currencyCode:p.b.getConfig("currency.adServerCurrency")||"EUR",timeout:"object"===pa(t)&&t?t.timeout:p.b.getConfig("bidderTimeout")};return ha({timeout:n.timeout}),t&&t.refererInfo&&(n.referer=t.refererInfo.referer,n.numIframes=t.refererInfo.numIframes),t&&t.gdprConsent&&(n.gdprConsent=t.gdprConsent.consentString,n.gdpr=t.gdprConsent.gdprApplies),e.map((function(e){var t=e.params.bidHost||"pbjs.sskzlabs.com",r=e.params.protocol||"https",i=Oa(e.params);ha({transactionId:e.transactionId,notifyId:i,zoneId:e.params.zoneId,debug:e.params.debug||!1});var a={adUnitCode:e.adUnitCode,auctionId:e.auctionId,bidder:e.bidder,bidderRequestId:e.bidderRequestId,bidRequestsCount:e.bidRequestsCount,requestId:e.bidId,sizes:e.sizes.map((function(e){return{w:e[0],h:e[1]}})),transactionId:e.transactionId,notifyId:i,zoneId:e.params.zoneId},o=fa({},n,a);return{method:"POST",url:r+"://"+t+"/bid",data:JSON.stringify(o),options:{contentType:"text/plain",withCredentials:!1}}}))},interpretResponse:function(e,t){var n=[],r=e.body;if(r){if(r.timeout||!r.ad||/<!--\s+No\s+ad\s+-->/gim.test(r.ad))return n;var i={width:1800,height:1e3};t&&t.data&&1===t.data.w&&1===t.data.h&&(i={width:1,height:1});var a={requestId:r.requestId||"",cpm:r.cpm||0,width:r.width||i.width,height:r.height||i.height,creativeId:r.creativeId||1,dealId:r.dealId||1,currency:r.currency||"EUR",netRevenue:r.netRevenue||!0,ttl:r.ttl||600,ad:r.ad,pbav:"0.8.0",sspname:r.sspname||null};r.advertiserDomains&&(a.meta=fa({},a.meta,{advertiserDomains:[]})),n.push(a)}return n},onBidWon:function(e){va("Bid won",e),ja("bidwon",e.sspname)},onTimeout:function(e){va("Timeout from adapter",e);var t=Object(a.a)(e,"0.timeout");t&&ha({timeout:t}),ja("bidtimeout")},sendEvent:ja,setState:ha,state:ya,detectDevice:ba,getNotifyId:Oa,isValidNotifyId:ga};function _a(e){return(_a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wa(Object(n),!0).forEach((function(t){Ea(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object(Ne.c)(Ia),window.pbjs.installedModules.push("sublimeBidAdapter");var Sa,Aa,Ca,xa,Da,ka={value:!0,definedInConfig:!1},Pa=0,Ra=!1,Ua={iab:function(e){var t=e.onSuccess,n=e.onError,r=e.width,a=e.height;function o(e,r){Object(i.ob)("Received a response from CMP",e),r?!1!==e.gdprApplies&&"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||Na(e,{onSuccess:t,onError:n}):n("CMP unable to register callback function.  Please check CMP setup.")}var c=function(){var e={};function r(){e.getConsentData&&e.getVendorConsents&&(Object(i.ob)("Received all requested responses from CMP",e),Na(e,{onSuccess:t,onError:n}))}return{consentDataCallback:function(t){e.getConsentData=t,r()},vendorConsentsCallback:function(t){e.getVendorConsents=t,r()}}}(),s={},d=function(){for(var e,t,n=window;!e;){try{if("function"==typeof n.__tcfapi||"function"==typeof n.__cmp){"function"==typeof n.__tcfapi?(Pa=2,t=n.__tcfapi):(Pa=1,t=n.__cmp),e=n;break}}catch(e){}try{if(n.frames.__tcfapiLocator){Pa=2,e=n;break}}catch(e){}try{if(n.frames.__cmpLocator){Pa=1,e=n;break}}catch(e){}if(n===window.top)break;n=n.parent}return{cmpFrame:e,cmpFunction:t}}(),l=d.cmpFrame,p=d.cmpFunction;if(!l)return n("CMP not found.");Object(i.fb)(p)?(Object(i.ob)("Detected CMP API is directly accessible, calling it now..."),1===Pa?(p("getConsentData",null,c.consentDataCallback),p("getVendorConsents",null,c.vendorConsentsCallback)):2===Pa&&p("addEventListener",Pa,o)):1===Pa&&window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp?(Object(i.ob)("Detected Prebid.js is encased in a SafeFrame and CMP is registered, calling it now..."),f("getConsentData",c.consentDataCallback),f("getVendorConsents",c.vendorConsentsCallback)):(Object(i.ob)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),1===Pa?(b("getConsentData",l,c.consentDataCallback),b("getVendorConsents",l,c.vendorConsentsCallback)):2===Pa&&b("addEventListener",l,o));function f(e,t){window.$sf.ext.register(r,a,(function(n,r){if("cmpReturn"===n){var i="getConsentData"===e?r.vendorConsentData:r.vendorConsents;t(i)}})),window.$sf.ext.cmp(e)}function b(e,t,n){var r=2===Pa?"__tcfapi":"__cmp",i="".concat(r,"Call");function a(e){var t="".concat(r,"Return"),n="string"==typeof e.data&&Object(u.c)(e.data,t)?JSON.parse(e.data):e.data;if(n[t]&&n[t].callId){var i=n[t];void 0!==s[i.callId]&&s[i.callId](i.returnValue,i.success)}}2===Pa?(window[r]=function(e,n,r,a){var o=Math.random()+"",c=Ea({},i,{command:e,version:n,parameter:a,callId:o});s[o]=r,t.postMessage(c,"*")},window.addEventListener("message",a,!1),window[r](e,Pa,n)):(window[r]=function(e,n,r){var a=Math.random()+"",o=Ea({},i,{command:e,parameter:n,callId:a});s[a]=r,t.postMessage(o,"*")},window.addEventListener("message",a,!1),window[r](e,void 0,n))}},static:function(e){var t=e.onSuccess,n=e.onError;Na(xa,{onSuccess:t,onError:n})}};function Ba(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=!1,i=null;function a(t,n,a){if(null!=i&&clearTimeout(i),r=!0,oe.b.setConsentData(t),null!=e){for(var o=arguments.length,c=new Array(o>3?o-3:0),s=3;s<o;s++)c[s-3]=arguments[s];e.apply(void 0,[n,a].concat(c))}}if(Object(u.c)(Object.keys(Ua),Sa)){var o={onSuccess:function(e){return a(e,!1)},onError:function(e){var t=null,n=!0;ka.value&&1===Pa&&(t=Ma(void 0),n=!1);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];a.apply(void 0,[t,n,e].concat(i))}};Ua[Sa](Ta({width:t,height:n},o)),r||(0===Aa?Na(void 0,o):i=setTimeout((function(){2===Pa?a(Ma(void 0),!1,"No response from CMP, continuing auction..."):o.onError("CMP workflow exceeded timeout threshold.")}),Aa))}else a(null,!1,"CMP framework (".concat(Sa,") is not a supported framework.  Aborting consentManagement module and resuming auction."))}function qa(e,t){(function(){if(Da)return Object(i.ob)("User consent information already known.  Pulling internally stored information..."),function(e){e(!1)};var e=t.adUnits||pbjs.adUnits,n=1,r=1;if(Array.isArray(e)&&e.length>0){var a,o,c=Object(i.x)(e[0]);n=(null==c||null===(a=c[0])||void 0===a?void 0:a[0])||1,r=(null==c||null===(o=c[0])||void 0===o?void 0:o[1])||1}return function(e){Ba(e,n,r)}})()((function(n,r){if(r){var a=i.qb;1!==Pa||n?n&&(a=i.nb,r="".concat(r," Canceling auction as per consentManagement config.")):r="".concat(r," 'allowAuctionWithoutConsent' activated.");for(var o=arguments.length,c=new Array(o>2?o-2:0),s=2;s<o;s++)c[s-2]=arguments[s];a.apply(void 0,[r].concat(c))}n?"function"==typeof t.bidsBackHandler?t.bidsBackHandler():Object(i.nb)("Error executing bidsBackHandler"):e.call(this,t)}))}function Na(e,t){var n=t.onSuccess,r=t.onError;"static"===Sa&&2===(Pa=e.getConsentData?1:e.getTCData?2:0)&&(e=e.getTCData);var a=1===Pa?function(e){var t=e&&e.getConsentData&&e.getConsentData.gdprApplies;return!("boolean"==typeof t&&(!0!==t||Object(i.lb)(e.getConsentData.consentData)&&Object(i.jb)(e.getVendorConsents)&&Object.keys(e.getVendorConsents).length>1))}:2===Pa?function(){var t=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:Ca,n=e&&e.tcString;return!("boolean"==typeof t&&(!0!==t||Object(i.lb)(n)))}:null;Object(i.fb)(a)?a(e)?r("CMP returned unexpected value during lookup process.",e):n(Ma(e)):r("Unable to derive CMP version to process data.  Consent object does not conform to TCF v1 or v2 specs.",e)}function Ma(e){return 1===Pa?Da={consentString:e?e.getConsentData.consentData:void 0,vendorData:e?e.getVendorConsents:void 0,gdprApplies:e?e.getConsentData.gdprApplies:Ca}:(Da={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:Ca},e&&e.addtlConsent&&Object(i.lb)(e.addtlConsent)&&(Da.addtlConsent=e.addtlConsent)),Da.apiVersion=Pa,Da}p.b.getConfig("consentManagement",(function(e){return function(e){(e=e&&(e.gdpr||e.usp?e.gdpr:e))&&"object"===_a(e)?(Object(i.lb)(e.cmpApi)?Sa=e.cmpApi:(Sa="iab",Object(i.ob)("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),Object(i.ib)(e.timeout)?Aa=e.timeout:(Aa=1e4,Object(i.ob)("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),"boolean"==typeof e.allowAuctionWithoutConsent&&(ka.value=e.allowAuctionWithoutConsent,ka.definedInConfig=!0),Ca=!0===e.defaultGdprScope,Object(i.ob)("consentManagement module has been activated..."),"static"===Sa&&(Object(i.jb)(e.consentData)?(xa=e.consentData,Aa=0):Object(i.nb)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),Ra||pbjs.requestBids.before(qa,50),Ra=!0,oe.b.enable(),Ba(),ka.definedInConfig&&2===Pa?Object(i.qb)("'allowAuctionWithoutConsent' ignored for TCF 2"):ka.definedInConfig||1!==Pa||Object(i.ob)("'allowAuctionWithoutConsent' using system default: (".concat(!0,")."))):Object(i.qb)("consentManagement config not defined, exiting consent manager")}(e.consentManagement)})),window.pbjs.installedModules.push("consentManagement");var za=n(24);function Fa(e){return(Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var La,Ga="https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json?date=$$TODAY$$",Va=[],Wa={},Ka=!1,Ya=!0,Ha="USD",Ja=!1,Xa={},$a={},Qa=function(){var e;function t(){e=Object(za.a)()}return t(),{done:function(){return e.resolve()},reset:t,promise:function(){return e.promise}}}();function Za(e){La?(Object(i.qb)(e),Object(i.qb)("Currency failed loading rates, falling back to currency.defaultRates")):Object(i.nb)(e)}function eo(e){Wa={},Ja=!0,Object(i.ob)("Installing addBidResponse decorator for currency module",arguments),Object(r.a)().convertCurrency=function(e,t,n){return parseFloat(e)*io(t,n)},Object(E.a)("addBidResponse").before(no,100),Ya?(Ya=!1,Object(Gi.a)(e,{success:function(e){try{Xa=JSON.parse(e),Object(i.ob)("currencyRates set to "+JSON.stringify(Xa)),Ka=!0,ro(),Qa.done()}catch(t){Za("Failed to parse currencyRates response: "+e)}},error:function(){Za.apply(void 0,arguments),Qa.done()}})):Qa.done()}function to(){Object(i.ob)("Uninstalling addBidResponse decorator for currency module",arguments),Object(E.a)("addBidResponse").getHooks({hook:no}).remove(),delete Object(r.a)().convertCurrency,Ha="USD",Wa={},Ja=!1,Ka=!1,Ya=!0,Xa={},$a={}}function no(e,t,n){if(!n)return e.call(this,t);var r=n.bidderCode||n.bidder;if($a[r]){var a=$a[r];n.currency&&a!==n.currency?Object(i.qb)("Currency default '".concat(r,": ").concat(a,"' ignored. adapter specified '").concat(n.currency,"'")):n.currency=a}if(n.currency||(Object(i.qb)('Currency not specified on bid.  Defaulted to "USD"'),n.currency="USD"),n.getCpmInNewCurrency=function(e){return(parseFloat(this.cpm)*io(this.currency,e)).toFixed(3)},n.currency===Ha)return e.call(this,t,n);Va.push(function(e,t,n){return function(){var r=n[1];if(void 0!==r&&"currency"in r&&"cpm"in r){var a=r.currency;try{var o=io(a);1!==o&&(r.cpm=(parseFloat(r.cpm)*o).toFixed(4),r.currency=Ha)}catch(e){Object(i.qb)("Returning NO_BID, getCurrencyConversion threw error: ",e),n[1]=Object(ie.a)(s.STATUS.NO_BID,r.getIdentifiers())}}return e.apply(t,n)}}(e,this,[t,n])),!Ja||Ka?ro():e.bail(Qa.promise())}function ro(){for(;Va.length>0;)Va.shift()()}function io(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ha,r=null,a="".concat(e,"->").concat(n);if(a in Wa)r=Wa[a],Object(i.pb)("Using conversionCache value "+r+" for "+a);else if(!1===Ja){if("USD"!==e)throw new Error("Prebid currency support has not been enabled and fromCurrency is not USD");r=1}else if(e===n)r=1;else if(e in Xa.conversions){if(!(n in(t=Xa.conversions[e])))throw new Error("Specified adServerCurrency in config '"+n+"' not found in the currency rates file");r=t[n],Object(i.ob)("getCurrencyConversion using direct "+e+" to "+n+" conversionRate "+r)}else if(n in Xa.conversions){if(!(e in(t=Xa.conversions[n])))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");r=ao(1/t[e],4),Object(i.ob)("getCurrencyConversion using reciprocal "+e+" to "+n+" conversionRate "+r)}else{var o=Object.keys(Xa.conversions)[0];if(!(e in Xa.conversions[o]))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");var c=1/Xa.conversions[o][e];if(!(n in Xa.conversions[o]))throw new Error("Specified adServerCurrency in config '"+n+"' not found in the currency rates file");var s=Xa.conversions[o][n];r=ao(c*s,4),Object(i.ob)("getCurrencyConversion using intermediate "+e+" thru "+o+" to "+n+" conversionRate "+r)}return a in Wa||(Object(i.pb)("Adding conversionCache value "+r+" for "+a),Wa[a]=r),r}function ao(e,t){for(var n=1,r=0;r<t;r++)n+="0";return Math.round(e*n)/n}function oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(n),!0).forEach((function(t){so(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function so(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uo(){return(uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lo(e){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}p.b.getConfig("currency",(function(e){return function(e){var t=Ga;if("object"===Fa(e.rates)&&(Xa.conversions=e.rates,Ka=!0,Ya=!1),"object"===Fa(e.defaultRates)&&(La=e.defaultRates,Xa.conversions=La,Ka=!0),"string"==typeof e.adServerCurrency){Object(i.ob)("enabling currency support",arguments),Ha=e.adServerCurrency,e.conversionRateFile&&(Object(i.ob)("currency using override conversionRateFile:",e.conversionRateFile),t=e.conversionRateFile);var n=t.indexOf("$$TODAY$$");if(-1!==n){var r=new Date,a="".concat(r.getMonth()+1),o="".concat(r.getDate());a.length<2&&(a="0".concat(a)),o.length<2&&(o="0".concat(o));var c="".concat(r.getFullYear()).concat(a).concat(o);t="".concat(t.substring(0,n)).concat(c).concat(t.substring(n+9,t.length))}eo(t)}else Object(i.ob)("disabling currency support"),to();"object"===Fa(e.bidderCurrencyDefault)&&($a=e.bidderCurrencyDefault)}(e.currency)})),window.pbjs.installedModules.push("currency");var po,fo,bo,mo,go={purpose1:{id:1,name:"storage"},purpose2:{id:2,name:"basicAds"},purpose7:{id:7,name:"measurement"}},vo=[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]}],yo=[],ho=[],Oo=[],jo=!1,Io={getGvlidForBidAdapter:function(e){var t=null;if(e=e||p.b.getCurrentBidder()){var n=oe.a.getBidAdapter(e);n&&n.getSpec&&(t=n.getSpec().gvlid)}return t},getGvlidForUserIdModule:function(e){return"object"===lo(e)?e.gvlid:null},getGvlidForAnalyticsAdapter:function(e){return oe.a.getAnalyticsAdapter(e)&&(oe.a.getAnalyticsAdapter(e).gvlid||null)}};function _o(e){var t=null;if(e){var n=p.b.getConfig("gvlMapping"),r="string"==typeof e?e:e.name;if(n&&n[r])return t=n[r];t=Io.getGvlidForBidAdapter(r)||Io.getGvlidForUserIdModule(e)||Io.getGvlidForAnalyticsAdapter(r)}return t}function wo(e,t,n,r){var i=go[Object.keys(go).filter((function(t){return go[t].name===e.purpose}))[0]].id;if(Object(u.c)(e.vendorExceptions||[],n))return!0;var o=Object(a.a)(t,"vendorData.purpose.consents.".concat(i)),c=Object(a.a)(t,"vendorData.vendor.consents.".concat(r)),s=Object(a.a)(t,"vendorData.purpose.legitimateInterests.".concat(i)),d=!1===e.enforcePurpose||!0===o,l=!1===e.enforceVendor||!0===c;return 2===i?d&&l||!0===s:d&&l}function To(e,t,n,r){if(r=uo({},{hasEnforcementHook:!0}),Object(i.T)()){var a=oe.b.getConsentData();if(a&&a.gdprApplies)if(2===a.apiVersion){var o=p.b.getCurrentBidder();t=o&&o!=n&&oe.a.aliasRegistry[o]===n?_o(o):_o(n)||t;var c=n||o;wo(po,a,c,t)?(r.valid=!0,e.call(this,t,n,r)):(c&&Object(i.qb)("TCF2 denied device access for ".concat(c)),r.valid=!1,yo.push(c),e.call(this,t,n,r))}else r.valid=!0,e.call(this,t,n,r);else r.valid=!0,e.call(this,t,n,r)}else Object(i.qb)("Device access is disabled by Publisher"),r.valid=!1,e.call(this,t,n,r)}function Eo(e){for(var t=oe.b.getConsentData(),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(t&&t.gdprApplies)if(2===t.apiVersion){var o=p.b.getCurrentBidder(),c=_o(o),s=wo(po,t,o,c);s?e.call.apply(e,[this].concat(r)):(Object(i.qb)("User sync not allowed for ".concat(o)),yo.push(o))}else e.call.apply(e,[this].concat(r));else e.call.apply(e,[this].concat(r))}function So(e,t,n){if(n&&n.gdprApplies)if(2===n.apiVersion){var r=t.map((function(e){var t=_o(e.submodule),r=e.submodule.name;if(wo(po,n,r,t))return e;Object(i.qb)("User denied permission to fetch user id for ".concat(r," User id module")),yo.push(r)})).filter((function(e){return e}));e.call(this,r,co(co({},n),{},{hasValidated:!0}))}else e.call(this,t,n);else e.call(this,t,n)}function Ao(e,t){for(var n=oe.b.getConsentData(),r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];n&&n.gdprApplies&&2===n.apiVersion?(t.forEach((function(e){e.bids=e.bids.filter((function(e){var t=e.bidder,r=_o(t);if(Object(u.c)(ho,t))return!1;var a=!!wo(fo,n,t,r);return a||(Object(i.qb)("TCF2 blocked auction for ".concat(t)),ho.push(t)),a}))})),e.call.apply(e,[this,t].concat(a))):e.call.apply(e,[this,t].concat(a))}function Co(e,t){var n=oe.b.getConsentData();n&&n.gdprApplies&&2===n.apiVersion?(Object(i.ab)(t)||(t=[t]),t=t.filter((function(e){var t=e.provider,r=_o(t),a=!!wo(bo,n,t,r);return a||(Oo.push(t),Object(i.qb)("TCF2 blocked analytics adapter ".concat(e.provider))),a})),e.call(this,t)):e.call(this,t)}o.d(s.EVENTS.AUCTION_END,(function(){var e=function(e){return e.filter((function(t,n){return null!==t&&e.indexOf(t)===n}))},t={storageBlocked:e(yo),biddersBlocked:e(ho),analyticsBlocked:e(Oo)};o.a(s.EVENTS.TCF2_ENFORCEMENT,t)}));var xo=function(e){return e.purpose===go.purpose1.name},Do=function(e){return e.purpose===go.purpose2.name},ko=function(e){return e.purpose===go.purpose7.name};p.b.getConfig("consentManagement",(function(e){return function(e){var t=Object(a.a)(e,"gdpr.rules");t?mo=t:(Object(i.qb)("TCF2: enforcing P1 and P2 by default"),mo=vo),po=Object(u.b)(mo,xo),fo=Object(u.b)(mo,Do),bo=Object(u.b)(mo,ko),po||(po=vo[0]),fo||(fo=vo[1]),po&&!jo&&(jo=!0,ae.d.before(To,49),Ne.d.before(Eo,48),Object(E.a)("validateGdprEnforcement").before(So,47)),fo&&Object(E.a)("makeBidRequests").before(Ao),bo&&Object(E.a)("enableAnalyticsCb").before(Co)}(e.consentManagement)})),window.pbjs.installedModules.push("gdprEnforcement");var Po=Object(E.b)("sync",(function(){}));function Ro(e){return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Uo,Bo,qo,No,Mo,zo="_pbjs_userid_consent_data",Fo=30,Lo=Object(ae.a)("userid"),Go=[],Vo=!1,Wo=[],Ko=[],Yo=[];function Ho(e,t){var n=e.config.storage,r="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null;try{var a=Object(i.jb)(t)?JSON.stringify(t):t,o=new Date(Date.now()+864e5*n.expires).toUTCString();"cookie"===n.type?(Lo.setCookie(n.name,a,o,"Lax",r),"number"==typeof n.refreshInSeconds&&Lo.setCookie("".concat(n.name,"_last"),(new Date).toUTCString(),o,"Lax",r)):"html5"===n.type&&(Lo.setDataInLocalStorage("".concat(n.name,"_exp"),o),Lo.setDataInLocalStorage(n.name,encodeURIComponent(a)),"number"==typeof n.refreshInSeconds&&Lo.setDataInLocalStorage("".concat(n.name,"_last"),(new Date).toUTCString()))}catch(e){Object(i.nb)(e)}}function Jo(e){var t,n=Object(i.L)().setEidPermissions;"function"==typeof n&&Object(i.ab)(e)&&n((t=[],e.filter((function(e){return Object(i.jb)(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(n){Object(a.a)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&Object(a.a)(Et,n+".source")&&t.push({source:Et[n].source,bidders:e.config.bidders})}))})),t))}function Xo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=n?"".concat(e.name,"_").concat(n):e.name;try{if("cookie"===e.type)t=Lo.getCookie(r);else if("html5"===e.type){var a=Lo.getDataFromLocalStorage("".concat(e.name,"_exp"));""===a?t=Lo.getDataFromLocalStorage(r):a&&new Date(a).getTime()-Date.now()>0&&(t=decodeURIComponent(Lo.getDataFromLocalStorage(r)))}"string"==typeof t&&"{"===t.trim().charAt(0)&&(t=JSON.parse(t))}catch(e){Object(i.nb)(e)}return t}function $o(e){var t={consentString:"",gdprApplies:!1,apiVersion:0};return e&&(t.consentString=e.consentString,t.gdprApplies=e.gdprApplies,t.apiVersion=e.apiVersion),Object(i.p)(JSON.stringify(t))}function Qo(e){try{var t=new Date(Date.now()+864e5*Fo).toUTCString();Lo.setCookie(zo,$o(e),t,"Lax")}catch(e){Object(i.nb)(e)}}function Zo(){try{return Lo.getCookie(zo)}catch(e){Object(i.nb)(e)}}function ec(e){if(e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies){if(!e.consentString)return!1;if(1===e.apiVersion&&!1===Object(a.a)(e,"vendorData.purposeConsents.1"))return!1;if(2===e.apiVersion&&!1===Object(a.a)(e,"vendorData.purpose.consents.1"))return!1}return!0}function tc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hostname;if(!Lo.cookiesAreEnabled())return e;var t,n,r=e.split(".");if(2==r.length)return e;var a=-2,o="_rdc".concat(Date.now()),c="writeable";do{t=r.slice(a).join(".");var s=new Date(Object(i.Cb)()+1e4).toUTCString();Lo.setCookie(o,c,s,"Lax",t,void 0);var d=Lo.getCookie(o,void 0);d===c?(n=!1,Lo.setCookie(o,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,t,void 0)):(a+=-1,n=Math.abs(a)<=r.length)}while(n);return t}function nc(e,t){var n=function(){};t&&(n=Object(i.s)((function(){clearTimeout(void 0),t()}),e.length)),e.forEach((function(e){try{e.callback((function(t){t?(e.config.storage&&Ho(e,t),e.idObj=e.submodule.decode(t,e.config)):Object(i.ob)("".concat("User ID",": ").concat(e.submodule.name," - request id responded with an empty value")),n()}))}catch(t){Object(i.nb)("Error in userID module '".concat(e.submodule.name,"':"),t),n()}e.callback=void 0}))}function rc(e,t){[e].some((function(e){return!Array.isArray(e)||!e.length}))||e.forEach((function(e){e.bids&&Object(i.ab)(e.bids)&&e.bids.forEach((function(e){var n=function(e,t){return Array.isArray(e)&&e.length&&t?e.filter((function(e){return!e.config.bidders||!Object(i.ab)(e.config.bidders)||Object(u.c)(e.config.bidders,t)})).filter((function(e){return Object(i.jb)(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,t){return Object.keys(t.idObj).forEach((function(n){e[n]=t.idObj[n]})),e}),{}):{}}(t,e.bidder);Object.keys(n).length&&(e.userId=n,e.userIdAsEids=At(n))}))}))}function ic(e){return new Promise((function(t){return setTimeout(t,e)}))}var ac,oc={};function cc(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.delay,r=void 0===n?ic:n,a=Object(za.a)(),c=Object(za.a)(),d=!1;function u(t){return null!=e&&e.reject(oc),e=Object(za.a)(),Promise.race([t,e.promise])}var l=Uo,p=Wo;function f(e){return function(){if(l===Uo&&p===Wo)return e.apply(void 0,arguments)}}var b=u(Promise.all([E.d,a.promise]).then((function(){return oe.b.promise})).then(f((function(e){Oc(l,p,e)}))).then((function(){return c.promise})).then(f((function(){var e=l.filter((function(e){return Object(i.fb)(e.callback)}));if(e.length)return new Promise((function(t){return nc(e,t)}))}))));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refresh,n=void 0!==t&&t,i=e.submoduleNames,m=void 0===i?null:i,g=e.ready,v=void 0!==g&&g;return v&&!d&&(d=!0,a.resolve(),qo>0?c.resolve():o.d(s.EVENTS.AUCTION_END,(function e(){o.c(s.EVENTS.AUCTION_END,e),r(Bo).then(c.resolve)}))),n&&(b=u(b.catch((function(){return null})).then((function(){return oe.b.promise})).then(f((function(e){var t=Oc(l,p.filter((function(e){return null==m||m.includes(e.submodule.name)})),e,!0).filter((function(e){return null!=e.callback}));if(t.length)return new Promise((function(e){return nc(t,e)}))}))))),b}}function sc(){var e=No&&(lc()||[]).find((function(e){return e.source===No}));if(e&&"string"==typeof Object(a.a)(e,"uids.0.id")){var t=e.uids[0].id.replace(/[\W_]/g,"");if(t.length>=32&&t.length<=150)return t;Object(i.qb)("User ID - Googletag Publisher Provided ID for ".concat(No," is not between 32 and 150 characters - ").concat(t))}}function dc(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.delay,c=void 0===o?ic:o;Promise.race([vc(),c(qo)]).then((function(){rc(t.adUnits||Object(r.a)().adUnits,Uo);var a=sc();a&&(Object(i.gb)()?window.googletag.pubads().setPublisherProvidedId(a):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setPublisherProvidedId(a)})))),e.call(n,t)}))}function uc(){return e=Uo,Array.isArray(e)&&e.length?e.filter((function(e){return Object(i.jb)(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,t){return Object.keys(t.idObj).forEach((function(n){e[n]=t.idObj[n]})),e}),{}):{};var e}function lc(){return At(uc())}function pc(e){return At(function(e,t){if(!Array.isArray(e)||!e.length)return{};var n=e.filter((function(e){var n;return Object(i.jb)(e.idObj)&&Object.keys(e.idObj).length&&(null===(n=Et[Object.keys(e.idObj)[0]])||void 0===n?void 0:n.source)===t}));return Object(i.db)(n)?[]:n[0].idObj}(Uo,e))[0]}function fc(e,t,n){return ac().then((function(){var r={};if(Object(i.fb)(n)){Object(i.ob)("".concat("User ID"," - Getting encrypted signal from custom function : ").concat(n.name," & source : ").concat(e," "));var a=n(e);r[e]=a?bc(a):null}else{var o=pc(e);Object(i.ob)("".concat("User ID"," - Getting encrypted signal for eids :").concat(JSON.stringify(o))),Object(i.db)(o)||(r[o.source]=!0===t?bc(o):o.uids[0].id)}return Object(i.ob)("".concat("User ID"," - Fetching encrypted eids: ").concat(r[e])),r[e]}))}function bc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="";switch(t){case 1:n="object"===Ro(e)?window.btoa(JSON.stringify(e)):window.btoa(e)}return"".concat(t,"||").concat(n)}function mc(){if(Object(i.gb)()){window.googletag.encryptedSignalProviders=window.googletag.encryptedSignalProviders||[];var e=p.b.getConfig("userSync.encryptedSignalSources");if(e){var t=e.registerDelay||0;setTimeout((function(){e.sources&&e.sources.forEach((function(e){var t=e.source,n=e.encrypt,r=e.customFunc;t.forEach((function(e){window.googletag.encryptedSignalProviders.push({id:e,collectorFunction:function(){return fc(e,n,r)}})}))}))}),t)}else Object(i.qb)("".concat("User ID"," - ESP : encryptedSignalSources config not defined under userSync Object"))}}function gc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.submoduleNames,n=arguments.length>1?arguments[1]:void 0;return ac({refresh:!0,submoduleNames:t}).then((function(){return n&&Object(i.fb)(n)&&n(),uc()}))}function vc(){return ac().then((function(){return uc()}),(function(e){return e===oc?vc():Promise.reject(e)}))}var yc=Object(E.b)("sync",(function(e,t){return{userIdModules:e,hasValidated:t&&t.hasValidated}}),"validateGdprEnforcement");function hc(e,t,n,r){if(e.config.storage){var a,o=Xo(e.config.storage),c=!1;if("number"==typeof e.config.storage.refreshInSeconds){var s=new Date(Xo(e.config.storage,"last"));c=s&&Date.now()-s.getTime()>1e3*e.config.storage.refreshInSeconds}!o||c||r||!function(e,t){return null!=e&&e===$o(t)}(n,t)?a=e.submodule.getId(e.config,t,o):"function"==typeof e.submodule.extendId&&(a=e.submodule.extendId(e.config,t,o)),Object(i.jb)(a)&&(a.id&&(Ho(e,a.id),o=a.id),"function"==typeof a.callback&&(e.callback=a.callback)),o&&(e.idObj=e.submodule.decode(o,e.config))}else if(e.config.value)e.idObj=e.config.value;else{var d=e.submodule.getId(e.config,t,void 0);Object(i.jb)(d)&&("function"==typeof d.callback&&(e.callback=d.callback),d.id&&(e.idObj=e.submodule.decode(d.id,e.config)))}}function Oc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=yc(t,n),o=a.userIdModules,c=a.hasValidated;if(!c&&!ec(n))return Object(i.qb)("".concat("User ID"," - gdpr permission not valid for local storage or cookies, exit module")),[];var s=Zo();Qo(n);var d=o.reduce((function(e,t){try{hc(t,n,s,r),e.push(t)}catch(e){Object(i.nb)("Error in userID module '".concat(t.submodule.name,"':"),e)}return e}),[]);return d.length&&Jo(d),d.forEach(jc.bind(null,e)),d}function jc(e,t){for(var n=!1,r=0;r<e.length;r++)if(t.config.name.toLowerCase()===e[r].config.name.toLowerCase()){n=!0,e[r]=t;break}n||e.push(t)}function Ic(){var e,t,n=(e=Ko,t=Go,Array.isArray(e)?e.reduce((function(e,n){return!n||Object(i.eb)(n.name)||(!n.storage||Object(i.eb)(n.storage.type)||Object(i.eb)(n.storage.name)||-1===t.indexOf(n.storage.type)?Object(i.jb)(n.value)?e.push(n):n.storage||n.value||e.push(n):e.push(n)),e}),[]):[]);if(n.length){var a=Yo.filter((function(e){return!Object(u.b)(Wo,(function(t){return t.name===e.name}))}));Wo.splice(0,Wo.length),a.map((function(e){var t=Object(u.b)(n,(function(t){return t.name&&(t.name.toLowerCase()===e.name.toLowerCase()||e.aliasName&&t.name.toLowerCase()===e.aliasName.toLowerCase())}));return t&&e.name!==t.name&&(t.name=e.name),e.findRootDomain=tc,t?{submodule:e,config:t,callback:void 0,idObj:void 0}:null})).filter((function(e){return null!==e})).forEach((function(e){return Wo.push(e)})),!Vo&&Wo.length&&(Object(r.a)().requestBids.before(dc,40),Po.after((function(e){return e(sc())})),Object(i.ob)("".concat("User ID"," - usersync config updated for ").concat(Wo.length," submodules: "),Wo.map((function(e){return e.submodule.name}))),Vo=!0)}}!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,a=void 0===n?ic:n;No=void 0,Wo=[],Ko=[],Vo=!1,Uo=[],ac=cc({delay:a}),null!=Mo&&Mo(),Yo=[],-1!==(Go=[Lo.localStorageIsEnabled()?"html5":null,Lo.cookiesAreEnabled()?"cookie":null].filter((function(e){return null!==e}))).indexOf("cookie")&&Lo.getCookie("_pbjs_id_optout")?Object(i.ob)("".concat("User ID"," - opt-out cookie found, exit module")):-1!==Go.indexOf("html5")&&Lo.getDataFromLocalStorage("_pbjs_id_optout")?Object(i.ob)("".concat("User ID"," - opt-out localStorage found, exit module")):(Mo=e.getConfig("userSync",(function(e){var t=e.userSync;No=t.ppid,t&&t.userIds&&(Ko=t.userIds,Bo=Object(i.ib)(t.syncDelay)?t.syncDelay:500,qo=Object(i.ib)(t.auctionDelay)?t.auctionDelay:0,Ic(),ac({ready:!0}))})),Object(r.a)().getUserIds=uc,Object(r.a)().getUserIdsAsEids=lc,Object(r.a)().getEncryptedEidsForSource=fc,Object(r.a)().registerSignalSources=mc,Object(r.a)().refreshUserIds=gc,Object(r.a)().getUserIdsAsync=vc,Object(r.a)().getUserIdsAsEidBySource=pc)}(p.b),Object(E.c)("userId",(function(e){Object(u.b)(Yo,(function(t){return t.name===e.name}))||(Yo.push(e),Ic())})),window.pbjs.installedModules.push("userId");var _c=Object(ae.b)({gvlid:91,moduleName:"criteo"}),wc=new Date(0).toString(),Tc=new Date(Object(i.Cb)()+33696e6).toString();function Ec(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(i.vb)(e,{noDecodeWholeURL:!0});return t?"".concat(n.hostname):"".concat(n.protocol,"://").concat(n.hostname).concat(n.port?":"+n.port:"","/")}function Sc(e){return _c.getCookie(e)||_c.getDataFromLocalStorage(e)}function Ac(e,t,n){e&&t&&(_c.setDataInLocalStorage(e,t),Cc(e,t,Tc,n,!0))}function Cc(e,t,n,r,i){for(var a=r.split("."),o=0;o<a.length;++o){var c=a.slice(a.length-o-1,a.length).join(".");try{if(_c.setCookie(e,t,n,null,"."+c),i){var s=_c.getCookie(e);if(s&&s===t)break}}catch(e){}}}function xc(e,t,n){var r=_c.cookiesAreEnabled(),a=_c.localStorageIsEnabled(),o=Ec(Object(Tt.a)().referer),c=Ec(document.location.href,!0),s="undefined"!=typeof criteo_pubtag,d=function(e,t,n,r,i,a,o){return"https://gum.criteo.com/sid/json?origin=prebid"+"".concat(e?"&topUrl="+encodeURIComponent(e):"")+"".concat(t?"&domain="+encodeURIComponent(t):"")+"".concat(n?"&bundle="+encodeURIComponent(n):"")+"".concat(o?"&gdprString="+encodeURIComponent(o):"")+"".concat(r?"&cw=1":"")+"".concat(a?"&pbt=1":"")+"".concat(i?"&lsw=1":"")}(o,c,e.bundle,r,a,s,t),u={success:function(e){var t,r=JSON.parse(e);r.acwsUrl?("string"==typeof r.acwsUrl?[r.acwsUrl]:r.acwsUrl).forEach((function(e){return Object(i.Fb)(e)})):r.bundle&&Ac("cto_bundle",r.bundle,c);if(r.bidId){Ac("cto_bidid",r.bidId,c);var a={criteoId:r.bidId};n(a)}else Cc(t="cto_bidid","",wc,c,!0),_c.removeDataFromLocalStorage(t),n()},error:function(e){Object(i.nb)("criteoIdSystem: unable to sync user id",e),n()}};Object(Gi.a)(d,u,void 0,{method:"GET",contentType:"application/json",withCredentials:!0})}var Dc={name:"criteo",gvlid:91,decode:function(e){return e},getId:function(e,t){var n=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?t.consentString:void 0,r={bundle:Sc("cto_bundle"),bidId:Sc("cto_bidid")};return{id:r.bidId?{criteoId:r.bidId}:void 0,callback:function(e){return xc(r,n,e)}}}};Object(E.e)("userId",Dc),window.pbjs.installedModules.push("criteoIdSystem");var kc="".concat("id5id","_privacy"),Pc="User ID - ID5 submodule: ",Rc=["pbjs-id5id","id5id.1st","id5id"],Uc=Object(ae.b)({gvlid:131,moduleName:"id5Id"}),Bc={name:"id5Id",gvlid:131,decode:function(e,t){var n=0;if(e&&"string"==typeof e.universal_uid){var r={id5id:{uid:e.universal_uid,ext:{linkType:n=e.link_type||n}}};switch(Object(a.a)(e,"ab_testing.result")){case"control":Object(i.ob)(Pc+"A/B Testing - user is in the Control Group: ID5 ID is NOT exposed"),Object(qe.a)(r,"id5id.ext.abTestingControlGroup",!0);break;case"error":Object(i.nb)(Pc+"A/B Testing ERROR! controlGroupPct must be a number >= 0 and <= 1");break;case"normal":Object(i.ob)(Pc+"A/B Testing - user is NOT in the Control Group"),Object(qe.a)(r,"id5id.ext.abTestingControlGroup",!1)}return Object(i.ob)(Pc+"Decoded ID",r),r}},getId:function(e,t,n){if(qc(e)){var r,o="https://id5-sync.com/g/v2/".concat(e.params.partner,".json"),c=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,s=oe.d.getConsentData(),d=Object(Tt.a)(),u=n&&n.signature?n.signature:(Rc.forEach((function(e){Uc.getCookie(e)&&(r=Object(i.Ab)(Uc.getCookie(e))||r)})),r&&r.signature||""),l={partner:e.params.partner,gdpr:c,nbPage:Lc(e.params.partner),o:"pbjs",rf:d.referer,top:d.reachedTop?1:0,u:d.stack[0]||window.location.href,v:"6.25.0"};!c||void 0===t.consentString||Object(i.db)(t.consentString)||Object(i.eb)(t.consentString)||(l.gdpr_consent=t.consentString),void 0===s||Object(i.db)(s)||Object(i.eb)(s)||(l.us_privacy=s),void 0===u||Object(i.eb)(u)||(l.s=u),void 0===e.params.pd||Object(i.eb)(e.params.pd)||(l.pd=e.params.pd),void 0===e.params.provider||Object(i.eb)(e.params.provider)||(l.provider=e.params.provider);var p=function(e){return Object(a.a)(e,"params.abTesting",{enabled:!1})}(e);!0===p.enabled&&(l.ab_testing={enabled:!0,control_group_pct:p.controlGroupPct});return{callback:function(t){var n={success:function(n){var r;if(n)try{r=JSON.parse(n),Object(i.ob)(Pc+"response received from the server",r),zc(e.params.partner,0),r.privacy&&Gc(kc,JSON.stringify(r.privacy),30),"html5"===e.storage.type&&function(e){Object(i.ob)(Pc+"removing legacy cookies"),Rc.forEach((function(t){Uc.setCookie("".concat(t)," ",Nc(-1)),Uc.setCookie("".concat(t,"_nb")," ",Nc(-1)),Uc.setCookie("".concat(t,"_").concat(e,"_nb")," ",Nc(-1)),Uc.setCookie("".concat(t,"_last")," ",Nc(-1))}))}(e.params.partner)}catch(e){Object(i.nb)(Pc+e)}t(r)},error:function(e){Object(i.nb)(Pc+"getId fetch encountered an error",e),t()}};Object(i.ob)(Pc+"requesting an ID from the server",l),Object(Gi.a)(o,n,JSON.stringify(l),{method:"POST",withCredentials:!0})}}}},extendId:function(e,t,n){return qc(e),Lc(e&&e.params&&e.params.partner||0),Object(i.ob)(Pc+"using cached ID",n),n}};function qc(e){return e&&e.params&&e.params.partner&&"number"==typeof e.params.partner?e.storage&&e.storage.type&&e.storage.name?("html5"!==e.storage.type&&Object(i.qb)(Pc+"storage type recommended to be '".concat("html5","'. In a future release this may become a strict requirement")),"id5id"!==e.storage.name&&Object(i.qb)(Pc+"storage name recommended to be '".concat("id5id","'. In a future release this may become a strict requirement")),!0):(Object(i.nb)(Pc+"storage required to be set"),!1):(Object(i.nb)(Pc+"partner required to be defined as a number"),!1)}function Nc(e){return new Date(Date.now()+864e5*e).toUTCString()}function Mc(e){return"".concat("id5id","_").concat(e,"_nb")}function zc(e,t){Gc(Mc(e),t,30)}function Fc(e){var t=function(e){var t=Uc.getDataFromLocalStorage("".concat(e,"_exp"));if(""===t)return Uc.getDataFromLocalStorage(e);if(t&&new Date(t).getTime()-Date.now()>0)return Uc.getDataFromLocalStorage(e);return Uc.removeDataFromLocalStorage(e),null}(Mc(e));return t?parseInt(t):0}function Lc(e){var t=Fc(e)+1;return zc(e,t),t}function Gc(e,t,n){Uc.setDataInLocalStorage("".concat(e,"_exp"),Nc(n)),Uc.setDataInLocalStorage("".concat(e),t)}Object(E.e)("userId",Bc),window.pbjs.installedModules.push("id5IdSystem");var Vc={name:"unifiedId",gvlid:21,decode:function(e){return e&&"string"==typeof e.TDID?{tdid:e.TDID}:void 0},getId:function(e){var t=e&&e.params||{};if(t&&("string"==typeof t.partner||"string"==typeof t.url)){var n=t.url||"https://match.adsrvr.org/track/rid?ttd_pid=".concat(t.partner,"&fmt=json");return{callback:function(e){var t={success:function(t){var n;if(t)try{n=JSON.parse(t)}catch(e){Object(i.nb)(e)}e(n)},error:function(t){Object(i.nb)("".concat("unifiedId",": ID fetch encountered an error"),t),e()}};Object(Gi.a)(n,t,void 0,{method:"GET",withCredentials:!0})}}}Object(i.nb)("User ID - unifiedId submodule requires either partner or url to be defined")}};Object(E.e)("userId",Vc),window.pbjs.installedModules.push("unifiedIdSystem");var Wc=Object(r.a)();function Kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yc(){return(Yc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Hc={env:"vp",gdfp_req:1,output:"vast",unviewed_position_start:1},Jc={};function Xc(e,t,n){if(!p.b.getConfig("cache.url"))if(Object(a.a)(t,"".concat(n,".description_url")))Object(i.nb)("input cannnot contain description_url");else{var r=e&&e.vastUrl;if(r)return encodeURIComponent(r)}}function $c(e,t,n){var r=e&&e.adserverTargeting||{},c={},d=t&&t.adUnit;if(d){var u=F.getAllTargeting(d.code);c=u?u[d.code]:{}}var l=Yc({},{hb_uuid:e&&e.videoCacheKey},{hb_cache_id:e&&e.videoCacheKey},c,r);o.a(s.EVENTS.SET_TARGETING,Kc({},d.code,l));var p=Yc({},l,Object(a.a)(t,"params.cust_params")),f=encodeURIComponent(Object(i.v)(p));return n&&(f=n+"%26"+f),f}p.b.getConfig("brandCategoryTranslation.translationFile")&&Object(E.a)("registerAdserver").before((function(e){e.call(this,"dfp")})),function(e,t){Wc.adServers=Wc.adServers||{},Wc.adServers[e]=Wc.adServers[e]||{},Object.keys(t).forEach((function(n){Wc.adServers[e][n]?Object(i.qb)("Attempting to add an already registered function property ".concat(n," for AdServer ").concat(e,".")):Wc.adServers[e][n]=t[n]}))}("dfp",{buildVideoUrl:function(e){if(e.params||e.url){var t=e.adUnit,n=e.bid||F.getWinningBids(t.code)[0],r={};if(e.url&&(r=Object(i.vb)(e.url,{noDecodeWholeURL:!0}),Object(i.db)(e.params)))return function(e,t,n){var r=Xc(t,e,"search");r&&(e.search.description_url=r);return e.search.cust_params=$c(t,n,e.search.cust_params),Object(i.f)(e)}(r,n,e);var o={correlator:Date.now(),sz:Object(i.ub)(Object(a.a)(t,"mediaTypes.video.playerSize")).join("|"),url:encodeURIComponent(location.href)},c=r.search,s=c&&c.sz;s&&(o.sz=s+"|"+o.sz);var d=$c(n,e,c&&c.cust_params),u=Yc({},Hc,r.search,o,e.params,{cust_params:d}),l=Xc(n,e,"params");l&&(u.description_url=l);var p=oe.b.getConsentData();p&&("boolean"==typeof p.gdprApplies&&(u.gdpr=Number(p.gdprApplies)),p.consentString&&(u.gdpr_consent=p.consentString),p.addtlConsent&&(u.addtl_consent=p.addtlConsent));var f=oe.d.getConsentData();if(f&&(u.us_privacy=f),!u.ppid){var b=Po();null!=b&&(u.ppid=b)}return Object(i.f)(Yc({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads"},r,{search:u}))}Object(i.nb)("A params object or a url is required to use pbjs.adServers.dfp.buildVideoUrl")},buildAdpodVideoUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code,n=e.params,r=e.callback;if(n&&r){var o={correlator:Date.now(),sz:c(t),url:encodeURIComponent(location.href)};Jc.getTargeting({codes:[t],callback:s})}else Object(i.nb)("A params object and a callback is required to use pbjs.adServers.dfp.buildAdpodVideoUrl");function c(e){var t=d.a.getAdUnits().filter((function(t){return t.code===e})),n=Object(a.a)(t[0],"mediaTypes.video.playerSize");return Object(i.ub)(n).join("|")}function s(e,a){var c;if(e)r(e,null);else{var s=(Kc(c={},Jc.TARGETING_KEY_PB_CAT_DUR,void 0),Kc(c,Jc.TARGETING_KEY_CACHE_ID,void 0),c),d={};a[t]&&(d=a[t].reduce((function(e,t){return Object.keys(t)[0]===Jc.TARGETING_KEY_PB_CAT_DUR?e[Jc.TARGETING_KEY_PB_CAT_DUR]=void 0!==e[Jc.TARGETING_KEY_PB_CAT_DUR]?e[Jc.TARGETING_KEY_PB_CAT_DUR]+","+t[Jc.TARGETING_KEY_PB_CAT_DUR]:t[Jc.TARGETING_KEY_PB_CAT_DUR]:Object.keys(t)[0]===Jc.TARGETING_KEY_CACHE_ID&&(e[Jc.TARGETING_KEY_CACHE_ID]=t[Jc.TARGETING_KEY_CACHE_ID]),e}),s));var u=encodeURIComponent(Object(i.v)(d)),l=Yc({},Hc,o,n,{cust_params:u}),p=oe.b.getConsentData();p&&("boolean"==typeof p.gdprApplies&&(l.gdpr=Number(p.gdprApplies)),p.consentString&&(l.gdpr_consent=p.consentString),p.addtlConsent&&(l.addtl_consent=p.addtlConsent));var f=oe.d.getConsentData();f&&(l.us_privacy=f);var b=Object(i.f)({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads",search:l});r(null,b)}}},getAdpodTargeting:function(e){return Jc.getTargeting(e)}}),Object(E.e)("adpod",Jc),window.pbjs.installedModules.push("dfpAdServerVideo");var Qc=["modelGroups"];function Zc(e){return(Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function es(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ts(){return(ts=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(n),!0).forEach((function(t){is(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function is(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var as,os=Object(Gi.b)(1e4),cs=["gptSlot","adUnitCode","size","domain","mediaType"],ss=!1,ds=!1,us={},ls=[],ps={};function fs(e,t){return Math.ceil((parseFloat(e)*Math.pow(10,t)).toFixed(1))/Math.pow(10,t)}function bs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,i=void 0===r?d.a.index:r;return(null==e?void 0:e.adUnitCode)||i.getAdUnit(t).code}var ms={size:function(e,t){return Object(i.sb)(t.size)||"*"},mediaType:function(e,t){return t.mediaType||"banner"},gptSlot:function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?d.a.index:n,i=r.getAdUnit({transactionId:e}),o="gam"===Object(a.a)(i,"ortb2Imp.ext.data.adserver.name");return o&&i.ortb2Imp.ext.data.adserver.adslot}((e||t).transactionId)||Object(i.D)(bs(e,t)).gptSlot},domain:function(e,t){return as||(n=Object(Tt.a)().referer,as=Object(i.vb)(n,{noDecodeWholeURL:!0}).hostname);var n},adUnitCode:function(e,t){return bs(e,t)}};function gs(e,t,n){return e.reduce((function(e,r){var i=ms[r](t,n)||"*";return e.push("*"===i?["*"]:[i.toLowerCase(),"*"]),e}),[])}function vs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=gs(Object(a.a)(e,"schema.fields")||[],t,n);if(!r.length)return{matchingFloor:e.default};var i=r.map((function(e){return e[0]})).join("-"),o=Object(a.a)(e,"matchingInputs.".concat(i));if(o)return rs({},o);var c=ys(r,Object(a.a)(e,"schema.delimiter")||"|"),s=Object(u.b)(c,(function(t){return e.values.hasOwnProperty(t)})),d={floorMin:e.floorMin||0,floorRuleValue:isNaN(e.values[s])?e.default:e.values[s],matchingData:c[0],matchingRule:s};return"number"==typeof Object(a.a)(t,"ortb2Imp.ext.prebid.floorMin")&&(d.floorMin=t.ortb2Imp.ext.prebid.floorMin),d.matchingFloor=Math.max(d.floorMin,d.floorRuleValue),Object(qe.a)(e,"matchingInputs.".concat(i),rs({},d)),d}function ys(e,t){return e.reduce((function(e,n){var r=[];return e.map((function(e){n.map((function(n){r.push(e+t+n)}))})),r})).sort((function(e,t){return e.split("*").length-t.split("*").length}))}function hs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=S.a.get(e,"bidCpmAdjustment");return r?parseFloat(r(t,rs(rs({},n),{},{cpm:t}))):parseFloat(t)}function Os(e,t){var n=Math.pow(10,10);return e*n/(t*n)*(e*n)/n}var js={banner:function(e){return Object(a.a)(e,"mediaTypes.banner.sizes")||[]},video:function(e){return Object(a.a)(e,"mediaTypes.video.playerSize")||[]},native:function(e){return Object(a.a)(e,"mediaTypes.native.image.sizes")?[Object(a.a)(e,"mediaTypes.native.image.sizes")]:[]}};function Is(e,t){var n=Object.keys(e.mediaTypes||{});return"*"===t.mediaType&&1===n.length&&(t.mediaType=n[0]),"*"===t.size&&-1!==n.indexOf(t.mediaType)&&js[t.mediaType]&&1===js[t.mediaType](e).length&&(t.size=js[t.mediaType](e)[0]),t}function _s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currency:"USD",mediaType:"*",size:"*"},t=this,n=ps[t.auctionId];if(!n||n.skipped)return{};e=Is(t,e);var a=vs(n.data,rs({},t),{mediaType:e.mediaType,size:e.size}),o=e.currency||n.data.currency;if(a.matchingFloor&&o!==n.data.currency)try{a.matchingFloor=Object(r.a)().convertCurrency(a.matchingFloor,n.data.currency,o)}catch(e){Object(i.qb)("".concat("Price Floors",": Unable to get currency conversion for getFloor for bidder ").concat(t.bidder,". You must have currency module enabled with defaultRates in your currency config")),o=n.data.currency}if(n.enforcement.bidAdjustment&&a.matchingFloor){var c=hs(t.bidder,a.matchingFloor);a.matchingFloor=c?Os(a.matchingFloor,c):a.matchingFloor}return a.matchingFloor?{floor:fs(a.matchingFloor,4),currency:o}:{}}function ws(e,t){var n=Object(i.r)(e);return n.schema.delimiter=e.schema.delimiter||"|",n.values=function(e,t){var n=e.schema.fields,r=e.schema.delimiter,i=t&&-1===n.indexOf("adUnitCode")&&n.unshift("adUnitCode");return Object.keys(e.values).reduce((function(n,a){return n[(i?"".concat(t).concat(r).concat(a):a).toLowerCase()]=e.values[a],n}),{})}(n,t),n.currency=n.currency||"USD",n}function Ts(e,t){var n=Object(i.r)(us);if(2===Object(a.a)(n,"data.floorsSchemaVersion")){var r=n.data,o=r.modelGroups,c=es(r,Qc);n.data=ts(c,function(e,t){for(var n=Math.floor(Math.random()*t+1),r=0;r<e.length;r++)if((n-=e[r].modelWeight)<=0)return e[r]}(o,c.modelWeightSum))}var s=0===Object.keys(Object(a.a)(n,"data.values")||{}).length;if(n.data=s?function(e){return e.reduce((function(e,t){if(Cs(t.floors))if(e.values){var n=ws(t.floors,t.code).values;ts(e.values,n)}else(e=ws(t.floors,t.code)).location="adUnit";return e}),{})}(e):ws(n.data),0===Object.keys(Object(a.a)(n,"data.values")||{}).length)n.skipped=!0;else{var d=Object(i.J)("pbjs_skipRate")||n.skipRate,u=100*Math.random()<parseFloat(d);n.skipped=u}return n.hasOwnProperty("floorMin")&&(n.data.floorMin=n.floorMin),function(e,t,n){e.forEach((function(e){e.bids.forEach((function(e){t.skipped?delete e.getFloor:e.getFloor=_s,e.auctionId=n,e.floorData={skipped:t.skipped,skipRate:t.skipRate,floorMin:t.floorMin,modelVersion:Object(a.a)(t,"data.modelVersion"),modelWeight:Object(a.a)(t,"data.modelWeight"),modelTimestamp:Object(a.a)(t,"data.modelTimestamp"),location:Object(a.a)(t,"data.location","noData"),floorProvider:t.floorProvider,fetchStatus:us.fetchStatus}}))}))}(e,n,t),n}function Es(e){e.hasExited||(ls=ls.filter((function(t){return t.timer!==e.timer})),e.reqBidsConfigObj.auctionId=e.reqBidsConfigObj.auctionId||Object(i.w)(),ps[e.reqBidsConfigObj.auctionId]=Ts(e.reqBidsConfigObj.adUnits||Object(r.a)().adUnits,e.reqBidsConfigObj.auctionId),e.nextFn.apply(e.context,[e.reqBidsConfigObj]),e.hasExited=!0)}function Ss(e){return t=Object(a.a)(e,"schema.fields"),!!(Array.isArray(t)&&t.length>0&&t.every((function(e){return-1!==cs.indexOf(e)}))||(Object(i.nb)("".concat("Price Floors",": Fields recieved do not match allowed fields")),0))&&(n=e,r=e.schema.fields.length,o=e.schema.delimiter||"|","object"===Zc(n.values)&&(n.values=Object.keys(n.values).reduce((function(e,t){return function(e,t,n,r){return"string"==typeof e&&e.split(r).length===n&&"number"==typeof t}(t,n.values[t],r,o)&&(e[t]=n.values[t]),e}),{}),Object.keys(n.values).length>0));var t,n,r,o}var As={1:function(e){return Ss(e)},2:function(e){return!(!Array.isArray(e.modelGroups)||0===e.modelGroups.length)&&(e.modelWeightSum=0,e.modelGroups.every((function(t){return!("number"!=typeof t.modelWeight||!Ss(t))&&(e.modelWeightSum+=t.modelWeight,!0)})))}};function Cs(e){return"object"===Zc(e)&&(e.floorsSchemaVersion=e.floorsSchemaVersion||1,"function"!=typeof As[e.floorsSchemaVersion]?(Object(i.nb)("".concat("Price Floors",": Unknown floorsSchemaVersion: "),e.floorsSchemaVersion),!1):As[e.floorsSchemaVersion](e))}function xs(e,t){if(e&&"object"===Zc(e)&&Cs(e))return Object(i.ob)("".concat("Price Floors",": A ").concat(t," set the auction floor data set to "),e),rs(rs({},e),{},{location:t});Object(i.nb)("".concat("Price Floors",": The floors data did not contain correct values"),e)}function Ds(e,t){var n={reqBidsConfigObj:t,context:this,nextFn:e,haveExited:!1,timer:null};us.auctionDelay>0&&ss?(n.timer=setTimeout((function(){Object(i.qb)("".concat("Price Floors",": Fetch attempt did not return in time for auction")),us.fetchStatus="timeout",Es(n)}),us.auctionDelay),ls.push(n)):Es(n)}function ks(){ls.forEach((function(e){clearTimeout(e.timer),Es(e)})),ls=[]}function Ps(e){var t;ss=!1,us.fetchStatus="success";try{t=JSON.parse(e)}catch(n){t=e}var n=xs(t,"fetch");n&&(us.data=n,us.skipRate=Object(i.ib)(n.skipRate)?n.skipRate:us.skipRate,us.floorProvider=n.floorProvider||us.floorProvider),ks()}function Rs(e){ss=!1,us.fetchStatus="error",Object(i.nb)("".concat("Price Floors",": Fetch errored with: "),e),ks()}function Us(e){var t;(us=Object(i.wb)(e,["floorMin","enabled",function(e){return!1!==e},"auctionDelay",function(e){return e||0},"floorProvider",function(t){return Object(a.a)(e,"data.floorProvider",t)},"endpoint",function(e){return e||{}},"skipRate",function(){return isNaN(Object(a.a)(e,"data.skipRate"))?e.skipRate||0:e.data.skipRate},"enforcement",function(e){return Object(i.wb)(e||{},["enforceJS",function(e){return!1!==e},"enforcePBS",function(e){return!0===e},"floorDeals",function(e){return!0===e},"bidAdjustment",function(e){return!1!==e}])},"additionalSchemaFields",function(e){return"object"===Zc(e)&&Object.keys(e).length>0?(t=e,void Object.keys(t).forEach((function(e){-1===cs.indexOf(e)&&"function"==typeof t[e]&&(cs.push(e),ms[e]=t[e])}))):void 0;var t},"data",function(e){return e&&xs(e,"setConfig")||us.data}])).enabled?((t=us.endpoint).url&&!ss?"GET"!==(t.method||"GET")?Object(i.nb)("".concat("Price Floors",": 'GET' is the only request method supported at this time!")):(os(t.url,{success:Ps,error:Rs},null,{method:"GET"}),ss=!0):ss&&Object(i.qb)("".concat("Price Floors",": A fetch is already occuring. Skipping.")),ds||(o.d(s.EVENTS.AUCTION_END,(function(e){setTimeout((function(){return delete ps[e.auctionId]}),3e3)})),Object(r.a)().requestBids.before(Ds,50),Object(E.a)("addBidResponse").before(Bs,Object(i.q)()?4:50),ds=!0)):(Object(i.ob)("".concat("Price Floors",": Turning off module")),us={},ps={},Object(E.a)("addBidResponse").getHooks({hook:Bs}).remove(),Object(r.a)().requestBids.getHooks({hook:Ds}).remove(),ds=!1)}function Bs(e,t,n){var o=ps[n.auctionId];if(!o||!n||o.skipped)return e.call(this,t,n);var c,u=d.a.index.getBidRequest(n),l=vs(o.data,u,rs(rs({},n),{},{size:[n.width,n.height]}));if(!l.matchingFloor)return Object(i.qb)("".concat("Price Floors",": unable to determine a matching price floor for bidResponse"),n),e.call(this,t,n);var p=o.data.currency.toUpperCase(),f=n.currency||"USD";if(p===f.toUpperCase())c=n.cpm;else if(n.originalCurrency&&p===n.originalCurrency.toUpperCase())c=n.originalCpm;else try{c=Object(r.a)().convertCurrency(n.cpm,f.toUpperCase(),p)}catch(r){return Object(i.nb)("".concat("Price Floors",": Unable do get currency conversion for bidResponse to Floor Currency. Do you have Currency module enabled? ").concat(n)),e.call(this,t,n)}if(function(e,t,n,r){n.floorData={floorValue:t.matchingFloor,floorRule:t.matchingRule,floorRuleValue:t.floorRuleValue,floorCurrency:e.data.currency,cpmAfterAdjustments:r,enforcements:rs({},e.enforcement),matchedFields:{}},e.data.schema.fields.forEach((function(r,i){var a=t.matchingData.split(e.data.schema.delimiter)[i];n.floorData.matchedFields[r]=a}))}(o,l,n,c=hs(n.bidderCode,c,n)),function(e,t,n){var r=!1!==Object(a.a)(e,"enforcement.enforceJS"),i=!0===Object(a.a)(e,"enforcement.floorDeals")||!n.dealId,o=n.floorData.cpmAfterAdjustments<t.matchingFloor;return r&&o&&i}(o,l,n)){var b=Object(ie.a)(s.STATUS.NO_BID,n.getIdentifiers());return ts(b,Object(i.wb)(n,["floorData","width","height","mediaType","currency","originalCpm","originalCurrency","getCpmInNewCurrency"])),b.status=s.BID_STATUS.BID_REJECTED,b.cpm=0,Object(i.qb)("".concat("Price Floors",": ").concat(b.bidderCode,"'s Bid Response for ").concat(t," was rejected due to floor not met"),n),e.call(this,t,b)}return e.call(this,t,n)}function qs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}p.b.getConfig("floors",(function(e){return Us(e.floors)})),window.pbjs.installedModules.push("priceFloors");var Ns=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),window.document.addEventListener("ads",(function(){console.debug("ACTU : ads Event"),t.onAdsEvent()}))}var t,n,r;return t=e,(n=[{key:"onAdsEvent",value:function(){var e=this;console.debug("ACTU : onAdsEvent running"),this.PREBID_TIMEOUT=2e3,this.GOOGLE_TIMEOUT=2500,this.pbjsDebug=new URLSearchParams(window.location.search).has("pbjs_debug"),window.googletag=window.googletag||{cmd:[]},this.googletag=window.googletag||{cmd:[]},this.pbjs=Be,this.pbjs.processQueue(),this.pbjs.renderAdSkin=this.renderAdSkinPbjsGam,this.pbjs.skinsResponse={},this.apstagSlots=[],this.requestManager={adserverRequestSent:!1,prebidjs:!1,amazon:!1,prebidjsVast:"",amazonVast:""},this.deviceType=window.deviceType,this.oActuPub=window.actu.pub,this.adUnits=this.oActuPub.adUnits[this.deviceType],this.adUnitsOnPage=window.actu.pub.adUnitsOnPage||[],this.instreamAdunits=window.actu.pub.instreamAdunits[this.deviceType][0]||null,this.vastRequestUrl="https://pubads.g.doubleclick.net/gampad/ads?iu=/258492779/Actu.fr/atf_video_desktop&output=vast&cust_params=",this.loadScripts(),this.setDynamicBidderParams(),this.setupPbjs(),this.setupApstag(),this.setupGpt(),this.requestBids(),window.setTimeout((function(){e.sendAdserverRequest()}),this.GOOGLE_TIMEOUT)}},{key:"loadScripts",value:function(){switch(console.debug("ACTU : loadAdsScripts running..."),function(e,t,n,r,i,a,o){function c(n,r){t[e]._Q.push([n,r])}t[e]||(t[e]={init:function(){c("i",arguments)},fetchBids:function(){c("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(a=n.createElement(r)).async=!0,a.src="//c.amazon-adsystem.com/aax2/apstag.js",(o=n.getElementsByTagName(r)[0]).parentNode.insertBefore(a,o))}("apstag",window,document,"script"),apstag.init({pubID:"3786",adServer:"googletag",videoAdServer:"DFP",deals:!0,gdpr:{cmpTimeout:3e3}},(function(){console.debug("ACTU : APSTAG Loaded")})),loadAsync("https://securepubads.g.doubleclick.net/tag/js/gpt.js",(function(){console.debug("ACTU : GPT Loaded")}),"google-gpt"),loadAsync("https://sac.ayads.co/sublime/34697/prebid",(function(){console.debug("Prebid : script sublime avant wrapper")}),"script-sublime"),this.oActuPub.dfpTargeting.marque||""){case"metropolitain":loadDefer("https://boot.pbstck.com/v1/tag/04a93fb0-dfd5-4779-bb27-a0015af38561");break;case"le-courrier-de-la-mayenne":loadDefer("https://boot.pbstck.com/v1/tag/df8290dd-2671-4e30-ab96-87822e33bfea");break;case"reussir-le-perigord":loadDefer("https://boot.pbstck.com/v1/tag/8df7a9f8-1309-4d53-b74c-81b39ca85577");break;case"la-depeche-de-tahiti":loadDefer("https://boot.pbstck.com/v1/tag/663f6db6-6a8e-421e-8c9d-d19557b8fe52");break;case"rugby":loadDefer("https://boot.pbstck.com/v1/tag/074dd810-ebb9-4d4a-85f5-3549b3596ebd");break;case"infosploermel":case"infosredon":loadDefer("https://boot.pbstck.com/v1/tag/06302a50-8866-4691-b605-07a07db7062a");break;default:window.isAppMobile?loadDefer("https://boot.pbstck.com/v1/tag/8d69f788-a89f-4803-af88-6c5dcfc21b85"):loadDefer("https://boot.pbstck.com/v1/tag/87f52028-f48b-46fe-bd71-a465c0eb979e")}}},{key:"setupPbjs",value:function(){var e=this;this.pbjs.que.push((function(){e.pbjs.setConfig({bidderTimeout:e.PREBID_TIMEOUT,enableSendAllBids:!1,bidderSequence:"fixed",useBidCache:!0,debug:e.pbjsDebug,auctionOptions:{secondaryBidders:["smartadserver","onemobile","gravity","mediasquare","index"]},cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},targetingControls:{allowTargetingKeys:["BIDDER","AD_ID","PRICE_BUCKET","SIZE","DEAL","SOURCE","FORMAT","UUID","CACHE_ID","CACHE_HOST","ADOMAIN"]},priceGranularity:{buckets:[{precision:2,min:0,max:4,increment:.01},{precision:2,min:4,max:8,increment:.1},{precision:2,min:8,max:40,increment:.5}]},currency:{adServerCurrency:"EUR",granularityMultiplier:1},consentManagement:{cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!1,gdpr:{cmpApi:"iab",defaultGdprScope:!0,rules:[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:["appnexus","appnexusAst","appnexusNew","appnexusAst_na","gravity","gravity_na","asqmax","asqmax_na","asqclassic","asqclassic_na","asqbrand","asqbrand_na","proxistore","adyoulike","appnexus366","appnexus366_na","quantum_na","quantum","improvedigital_na","smartadserver","teads","smart-prc","improvedigital","criteo","ix","triplelift","rubicon","rubicon-prc","sublime","openx","adyoulike_na","richaudience","onemobile","mediasquare","mediasquare_na","pubmatic","onemobile"]},{purpose:"basicAds",enforcePurpose:!1,enforceVendor:!1}]}},userSync:{userIds:[{name:"criteo"},{name:"unifiedId",params:{partner:"betkcbh"},storage:{name:"pbjs-unifiedid",type:"html5",expires:60}},{name:"id5Id",params:{partner:686},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}],syncDelay:3e3,auctionDelay:50,aliasSyncEnabled:!0,syncEnabled:!0,filterSettings:{all:{bidders:"*",filter:"include"}}},floors:{endpoint:{url:"https://actu.fr/static/themes/actu_v2/dist/pricefloors.json"},additionalSchemaFields:{deviceType:function(){var e="mobile";return window.innerWidth>=770?e="desktop":window.innerWidth>=640&&(e="tablet"),e}}},yahoossp:{mode:"all"}}),e.pbjs.bidderSettings={standard:{adserverTargeting:[{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(e){return e.pbCg}},{key:"hb_format",val:function(e){return e.mediaType}},{key:"hb_size",val:function(e){return e.size}}]},regie366:{bidCpmAdjustment:function(e,t){return.6*e}},gravity:{bidCpmAdjustment:function(e,t){return.9*e}},regie366Appnexus:{bidCpmAdjustment:function(e,t){return.75*e}},appnexusNewInread:{bidCpmAdjustment:function(e,t){return"video"===t.mediaType||"native"===t.mediaType?.4*e:e}}},e.pbjs.aliasBidder("appnexusAst","mediasquareAppnexus"),e.pbjs.aliasBidder("smartadserver","regie366"),e.pbjs.aliasBidder("appnexusAst","gravity"),e.pbjs.aliasBidder("yahoossp","onemobile"),e.pbjs.aliasBidder("appnexusAst","regie366Appnexus"),e.pbjs.aliasBidder("appnexusAst","appnexusNew"),e.pbjs.aliasBidder("rubicon","regie366Rubicon"),e.pbjs.aliasBidder("appnexusAst","appnexusNewInread"),e.pbjs.onEvent("bidWon",(function(e){"atf_megaban"===e.adUnitCode&&(console.debug("ACTU Bidwon :"+e.adUnitCode+" "+e.width+"x"+e.height),console.debug("ACTU On ne remplace pas le render pour le moment, comme a on voit mieux les cra qui passent par ici (elles sont coinces dans la megaban)"))}))}))}},{key:"setupApstag",value:function(){for(var e in console.debug("ACTU : setupApstag"),this.oActuPub.gptUnits){var t=this.oActuPub.gptUnits[e];if(this.adUnitsOnPage.includes(t.code)){var n=this.oActuPub.adsSizes[t.format][this.deviceType+"-tam"]||this.oActuPub.adsSizes[t.format][this.deviceType]||this.oActuPub.adsSizes[t.format];"fluid"===n[0]&&n.shift();var r={slotID:t.code,slotName:t.gptSlot,sizes:n};this.apstagSlots.push(r)}else this.oActuPub.gptUnits.splice(e,1)}null!==this.instreamAdunits&&this.apstagSlots.push({slotID:this.instreamAdunits.code,mediaType:"video",sizes:[[640,390]]})}},{key:"setupGpt",value:function(){var e=this;this.googletag.cmd.push((function(){for(var t in e.googletag.pubads().disableInitialLoad(),e.googletag.pubads().enableSingleRequest(),e.googletag.pubads().setRequestNonPersonalizedAds(window.consent.personalizedAds?0:1),e.googletag.pubads().setTargeting("consent","true"),e.oActuPub.gptUnits){var n=e.oActuPub.gptUnits[t],r=e.googletag.defineSlot(n.gptSlot,e.oActuPub.adsSizes[n.format][e.deviceType]||e.oActuPub.adsSizes[n.format],n.code).addService(e.googletag.pubads());for(var i in e.oActuPub.dfpTargeting)r.setTargeting(i,e.oActuPub.dfpTargeting[i]);e.googletag.display(n.code)}e.googletag.enableServices()}))}},{key:"setDynamicBidderParams",value:function(){for(var e in console.debug("ACTU : keyValueInBidder running"),this.adUnits){var t=this.adUnits[e].bids;for(var n in this.adUnits[e].pubstack.adUnitPath+="?consent=true",t)"appnexusNew"===t[n].bidder&&(t[n].params.keywords.semantique=window.actu.pub.dfpTargeting.semantique||""),"sublime"===t[n].bidder&&(t[n].params.notifyId=(window.sublime=window.sublime||{},window.sublime.notifyId=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}(),window.sublime.notifyId))}}},{key:"allBiddersBack",value:function(){return this.requestManager.prebidjs&&this.requestManager.amazon}},{key:"headerBidderBack",value:function(e){console.debug("ACTU : headerBidderBack : "+e),!0!==this.requestManager.adserverRequestSent&&(this.requestManager[e]=!0,console.debug("ACTU : this.allBiddersBack() : "+this.allBiddersBack()),console.debug("ACTU headerBidderBack this.pbjs.getBidResponses()",this.pbjs.getBidResponses()),this.allBiddersBack()&&(this.sendAdserverRequest(),this.instreamEvent()))}},{key:"sendAdserverRequest",value:function(){var e=this;!0!==this.requestManager.adserverRequestSent&&(this.requestManager.adserverRequestSent=!0,this.googletag.cmd.push((function(){console.debug("ACTU : this.googletag.pubads().refresh()"),e.googletag.pubads().refresh()})))}},{key:"requestBids",value:function(){var e=this;console.debug("ACTU : requestBids running"),this.pbjs.que.push((function(){e.pbjs.addAdUnits(e.adUnits),console.log("ACTU this.instreamAdunits : ",e.instreamAdunits),null!==e.instreamAdunits&&e.pbjs.addAdUnits(e.instreamAdunits),e.pbjs.requestBids({bidsBackHandler:function(){e.googletag.cmd.push((function(){if(e.pbjs.setTargetingForGPTAsync(),null!==e.instreamAdunits){var t=e.pbjs.adServers.dfp.buildVideoUrl({adUnit:e.instreamAdunits,params:{iu:"/258492779/Actu.fr/atf_video_desktop",cust_params:e.oActuPub.dfpTargeting,output:"vast"}});console.log("ACTU : videoUrl  : ",t),e.requestManager.prebidjsVast=t.split("&")[8].split("=")[1],console.log("ACTU : prebidjsVast  : ",e.requestManager.prebidjsVast)}e.headerBidderBack("prebidjs")}))}})})),console.log("ACTU : requestBids this.pbjs : ",this.pbjs),console.log("ACTU : fetchBids apstagSlots ",this.apstagSlots),window.apstag.fetchBids({slots:this.apstagSlots,timeout:5e3},(function(t){console.log("ACTU apstag fetch return bids",t),e.googletag.cmd.push((function(){window.apstag.setDisplayBids()})),e.requestManager.amazonVast=t.filter((function(e){return"video"===e.mediaType})).map((function(e){return e.helpers.encodedQsParams()})).join(""),console.log("ACTU apstag amazonVast",e.requestManager.amazonVast),e.headerBidderBack("amazon")}))}},{key:"instreamEvent",value:function(){var e=this.requestManager.prebidjsVast+"%26"+this.requestManager.amazonVast,t=new CustomEvent("hb-videoadunit",{detail:{customParams:e}});document.dispatchEvent(t)}},{key:"renderAdSkin",value:function(){var e=document.getElementById("main"),t=document.querySelector(".ac-banner-ad-top"),n=document.querySelector("#ifrm_adskin");if(e.classList.add("has-bkg-ads"),!n){(n=document.createElement("iframe")).scrolling="no",n.style.position="absolute",n.style.top=0,n.style.width="1800px",n.style.height="1000px",n.style.border="none",n.zIndex=0,n.id="ifrm_adskin";var r=document.createElement("div");r.style.width="100%",r.style.position="absolute",r.style.zIndex=0,r.style.overflow="hidden",r.style.top=0;var i=document.createElement("div");i.style.width="1px",i.style.position="relative",i.style.zIndex=0,i.style.top="144px",i.style.left="50%";var a=document.createElement("div");a.style.position="relative",a.style.width="1800px",a.style.height="1000px",a.style.left="-904px",a.appendChild(n),console.debug(a),i.appendChild(a),r.appendChild(i),document.body.appendChild(r),t.style.display="none"}n.contentWindow.document.open(),n.contentWindow.document.write(bid.ad),n.contentWindow.document.close()}},{key:"cleanAdSkin",value:function(){var e=document.getElementById("main");document.querySelector(".ac-banner-ad.ac-banner-ad-top"),e.style.backgroundImage="",e.classList.remove("has-bkg-ads");var t=e.querySelector(".has-bkg-ads__link");t&&t.remove(),document.querySelector(".ac-banner-ad-top .wrap").style.display="block";var n=e.querySelector("#ifrm_adskin");n&&n.remove()}},{key:"renderAdSkinPbjsGam",value:function(e,t){console.debug("ACTU : renderAdSkinPbjsGam document",e),console.debug("ACTU : renderAdSkinPbjsGam adId",t);var n=window.pbjs.getBidResponsesForAdUnitCode("atf_megaban").bids||[],r="";for(var i in console.debug('ACTU : window.pbjs.getBidResponsesForAdUnitCode("atf_megaban").bids',n),n)if(t===n[i].adId){r=n[i].ad;break}if(""!==r){console.debug("ACTU : going to render ad creative",r);var a=window.document.getElementById("main"),o=window.document.querySelector(".ac-banner-ad-top"),c=window.document.querySelector("#ifrm_adskin");if(a.classList.add("has-bkg-ads"),!c){(c=e.createElement("iframe")).scrolling="no",c.style.position="absolute",c.style.top=0,c.style.width="1800px",c.style.height="1000px",c.style.border="none",c.zIndex=0,c.id="ifrm_adskin";var s=e.createElement("div");s.style.width="100%",s.style.position="absolute",s.style.zIndex=0,s.style.overflow="hidden",s.style.top=0;var d=e.createElement("div");d.style.width="1px",d.style.position="relative",d.style.zIndex=0,d.style.top="144px",d.style.left="50%";var u=e.createElement("div");u.style.position="relative",u.style.width="1800px",u.style.height="1000px",u.style.left="-904px",u.appendChild(c),d.appendChild(u),s.appendChild(d),window.document.body.appendChild(s),o.style.display="none"}c.contentWindow.document.open(),c.contentWindow.document.write(r),c.contentWindow.document.close()}else console.debug("ACTU : can't find adId",t)}}])&&qs(t.prototype,n),r&&qs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();new Ns}]);