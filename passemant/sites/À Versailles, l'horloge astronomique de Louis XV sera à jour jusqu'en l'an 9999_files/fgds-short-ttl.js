(()=>{"use strict";var e,t,n={601:(e,t,n)=>{n.d(t,{TD:()=>i,N5:()=>o,HO:()=>r,Vf:()=>a,ZS:()=>s});const i=31695825,o=!0,r="figadsp",a={F1_LEFIGARO:"lefigaro",F1_BOURSE:"bourse",F1_GUIDEACHAT:"guide-achat",F1_LEPARTICULIER:"leparticulier",F1_MADAME:"madame",F1_TVMAG:"tvmag",F1_GOLF:"golf"},s=Object.assign(Object.assign({},a),{DATABOURSE:"data-bourse",GOLF_LEADERBOARD:"golf-leaderboard",COMPARATEUR_PROGRAMMES:"comparateur-programmes",VIN:"vin",DEFAULT:"default"})},620:(e,t,n)=>{n.d(t,{Gp:()=>i,Mu:()=>o,vB:()=>r,Ol:()=>a});function i(e){window.performance.mark(`fa-${e}`)}function o(e){window.performance.measure(`fa-${e}`,`fa-${e}`)}function r(e){window.performance.measure(`fa-${e}`)}function a(e,t){return n=this,r=void 0,s=function*(){i(e);const n=yield t();return o(e),n},new((a=void 0)||(a=Promise))((function(e,t){function i(e){try{c(s.next(e))}catch(e){t(e)}}function o(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,o)}c((s=s.apply(n,r||[])).next())}));var n,r,a,s}},207:(e,t,n)=>{n.d(t,{Z:()=>r});const i=window.location.href,o={};if(i.indexOf("?")>0&&i.length>i.indexOf("?")+1){const e=i.split("?")[1].split("&");for(let t=0;t<e.length;t++){const n=e[t].split("=");"string"==typeof n[1]&&(n[1]=n[1].split("#")[0]),o[n[0]]=n[1]}}const r=o},789:(e,t,n)=>{n.d(t,{pW:()=>o,Fb:()=>a,Nf:()=>s,n$:()=>c,A_:()=>l,Mf:()=>d,k7:()=>u,pn:()=>f,xH:()=>g,BH:()=>p});var i=n(601);function o(e){if(!document.querySelector(`script[src="${e}"`)){const t=document.createElement("script");t.type="text/javascript",t.src=e,document.getElementsByTagName("head")[0].appendChild(t)}}function r(e){return new Promise((t=>window.setTimeout(t,e)))}function a(e,t){return Promise.race([t(),r(e).then((()=>{throw new Error(`Failed to complete under ${e}ms`)}))])}function s(e){return null!==e}function c(e,t){return e.map(t).filter(s)}function l(e,t={}){Object.assign(e.style,t)}function d(e){return Object.values(i.Vf).includes(e)}function u(e){return e.replace(/\/*$/,"")}function f(e){const{display:t,visibility:n}=getComputedStyle(e);if("none"===t||"hidden"===n)return!1;const i=e.parentElement;return!i||"BODY"===i.tagName||f(i)}function g(e){return e.reduce(((e,t)=>e.concat(t)),[])}class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.reject=t,this.resolve=e}))}}},473:(e,t,n)=>{n.d(t,{o:()=>o,Q:()=>r});var i=n(620);const o={purposesForGamAccepted:!1,allPurposesAccepted:!1,gdprApplies:!0,tcString:""};function r(){return e=this,t=void 0,o=function*(){(0,i.Gp)("consent-wait");const e=yield new Promise(((e,t)=>{if("function"==typeof window.__tcfapi)window.__tcfapi("addEventListener",2,((t,n)=>{if(n&&("useractioncomplete"===t.eventStatus||"tcloaded"===t.eventStatus)){const{tcString:n}=t,i="boolean"!=typeof t.gdprApplies||t.gdprApplies,o={gdprApplies:i,tcString:n};if(i){if(t.purpose&&t.purpose.consents){const n=t.purpose.consents,i=Object.values(n);e(Object.assign({purposesForGamAccepted:[1,2,7,9,10].every((e=>n[e])),allPurposesAccepted:i.length>=10&&i.every(Boolean)},o))}}else e(Object.assign({purposesForGamAccepted:!0,allPurposesAccepted:!0},o))}}));else{const e="Stub CMP is missing";console.warn(`[Figads] ${e}`),t(new Error(e))}}));return(0,i.Mu)("consent-wait"),e},new((n=void 0)||(n=Promise))((function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}));var e,t,n,o}},777:(e,t,n)=>{n.d(t,{IP:()=>S,IK:()=>b,n0:()=>O,yl:()=>E,S1:()=>I,$Y:()=>j,Ew:()=>F,Ov:()=>x,kI:()=>A,tM:()=>P,kj:()=>C,KK:()=>R,X9:()=>v,qh:()=>k,XI:()=>y,UR:()=>_});var i=n(601);function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidCharacterError";var r="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new o("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,r=0,a=0,s="";i=t.charAt(a++);~i&&(n=r%4?64*n+i:i,r++%4)?s+=String.fromCharCode(255&n>>(-2*r&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return s};function a(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return r(t)}}function s(e){this.message=e}s.prototype=new Error,s.prototype.name="InvalidTokenError";function c(){const e=(e=>{let t,n,i;const o=document.cookie.split(";");let r=null;for(t=0;t<o.length;t+=1)n=o[t].substr(0,o[t].indexOf("=")),i=o[t].substr(o[t].indexOf("=")+1),n=n.replace(/^\s+|\s+$/g,""),"fig_user_info"===n&&(r=decodeURIComponent(i));return r})();if(e)try{return"1"===function(e,t){if("string"!=typeof e)throw new s("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(a(e.split(".")[n]))}catch(e){throw new s("Invalid token specified: "+e.message)}}(e).is_premium}catch(e){console.error("[Figads] unreadable agora cookie")}return!1}var l=n(207),d=n(789),u=n(473),f=n(463),g=n(250),p=n(514),h=n(345),m=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};function v(e){if(function(e){function t(e){return["string","number"].includes(typeof e)}return Object.entries(e).every((([e,n])=>"string"==typeof e&&(null===n||t(n)||Array.isArray(n)&&n.every(t))))}(e)){const t={};return Object.entries(e).forEach((([e,n])=>{t[e]="string"==typeof n?n.replace(/['"]/gi,"-"):n})),t}return console.error("[Figads] invalid keywords structure, ignoring them"),{}}function b({consentData:e,figads:t,layer:n}){const i=["figaro-video","video-js[data-video-id]","video[data-video-id]"].map((e=>document.querySelectorAll(e).length)).find((e=>e>0))||0,{baseUrl:o}=t,r="main"===n?"figadsmode":"figadsmodediapo",a=l.Z[r],s=(0,d.xH)(Object.values(t.tagsMap[n]));return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a?{mode:a}:null),i?{players:i}:null),{pt5:e.allPurposesAccepted?0:1,pt6:e.allPurposesAccepted?1:0}),"main"===n?{inarticle_ok:(0,p.C)(s)?1:0}:null),{url:w({baseUrl:o}),viewport_ga:window.innerHeight>1160?1:0,diapo:"diapo"===n?1:0})}function w({baseUrl:e}){const{protocol:t,host:n,pathname:i}=window.location;return`${e||`${t}//${n}`}${(0,d.k7)(i)}`}function y(e){return e&&/^(\w|\d|_|-)+$/gi.test(e)?e:"lefigaro_actualite-divers"}function _({site:e}){const t="madamef1"===e?"madame":e;return Object.values(i.ZS).includes(t)?t:i.ZS.DEFAULT}function O({baseUrl:e}){return e?(0,d.k7)(e):null}function A(){return m(this,void 0,void 0,(function*(){(0,g.fq)();const[e,t]=yield Promise.all([(0,u.Q)(),(0,g.VC)(7e3)]),n=t?"criteo":e.purposesForGamAccepted?"standard":"hubvisor_consentless";return(0,h.$)(t),{flow:n,consentData:e}}))}function j(e){return!(!(0,d.Mf)(e)&&e!==i.ZS.DATABOURSE&&c())}function k(e){if(e===i.ZS.F1_MADAME){const e=window.dataLayer&&window.dataLayer[0]&&window.dataLayer[0].BU_pageCategory;if(["article","fiche"].includes(e)){const e=901;console.log(`[Figads] page will refresh in ${e}s`),window.setTimeout((()=>{window.location.reload()}),1e3*e)}}}function x({tagInfos:e,device:t,emptyCallback:i}){return m(this,void 0,void 0,(function*(){const{launchCriteo:o}=yield n.e(53).then(n.bind(n,438));o({tagInfos:e,device:t,emptyCallback:i})}))}function E(e,t){return m(this,void 0,void 0,(function*(){yield Promise.all(f.mN.map((n=>m(this,void 0,void 0,(function*(){yield(0,g.I9)(e.tagsMap[t][n]),e.tagsMap[t][n]=[]}))))),e.campaignRulesMap[t]=null,e.targetingsMap.byLayer[t]={misc:{},hubvisor:{},rule:{}}}))}function I(e){e.forEach((e=>{(0,d.pn)(e.node)||(console.log(`[Figads] disabling ${e.tagId} because it's hidden`),e.disable())}))}function S(e,t){const n="main"===e?"pave_atf":"pave-diapo_atf",i=t.find((e=>e.tagId===n)),o=t.find((e=>e.conf.canSwitchToGrouped)),r=!i||i&&i.disabled;o&&r&&(o.requestStrategy="grouped")}function P(e,t){const n=t.conf.layer,{byLayer:i}=e.targetingsMap,{hubvisor:o}=i[n];return Object.assign(Object.assign({},C(e,n)),o[t.tagId])}function C(e,t){const{siteKeywords:n,ias:i,onePlusX:o,byLayer:r}=e.targetingsMap,{misc:a,rule:s}=r[t];return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),i),o),a),s)}function R(e,t){return t.map((t=>({tag:t,targetings:P(e,t)})))}function F(e){return m(this,void 0,void 0,(function*(){if(l.Z[i.HO]){const{adjustNumberOfParagraphs:t}=yield n.e(340).then(n.bind(n,22));t(e)}}))}},192:(e,t,n)=>{n.d(t,{I7:()=>o,QV:()=>r,sb:()=>a,zk:()=>s,FJ:()=>c});var i=n(601);function o(e){const{tagId:t,device:n,pageId:i,markedForAutoRefresh:o}=e;return[n,i,e.conf.tagIdForInvcode,...o?["r"]:[]].join("_")}function r({site:e,modifier:t}){const n="article_ferme"===t?"premium":"article_abonne"===t?"abonne":"";switch(e){case i.ZS.F1_MADAME:return`madame${n}`;case i.ZS.F1_LEPARTICULIER:return`leparticulier${n}`;default:return`lefigaro${n}`}}function a(e){return"desktop"===e?"web":"webmobile"}function s(e){const t=e.device,n=e.site,s=a(t),c=o(e),l=e.conf.modifier;return`/${i.TD}/${r({site:n,modifier:l})}/${s}_${t}_nos/${c}`}function c(e){return e.conf.sizes}},463:(e,t,n)=>{n.d(t,{mN:()=>r,dV:()=>u,Ez:()=>f,dg:()=>g,il:()=>p,tp:()=>E});var i=n(789);const o=["main","diapo"],r=["grouped","lazyload"];function a(e){return{desktop:e,tablette:e,smartphone:e}}function s(e){return{desktop:e,tablette:e}}function c(e){return Object.assign(Object.assign({},a(!1)),{[e]:!0})}function l(e,t){function n(n){return Array.from(new Set([...e[n]||[],...t[n]||[]]))}return{desktop:n("desktop"),tablette:n("tablette"),smartphone:n("smartphone")}}function d(e,t){return Object.assign(Object.assign({},e),{sizes:l(e.sizes,t)})}const u=[640,360],f=[1800,1e3],g=[300,550],p={desktop:[[2,1],[2,2]],smartphone:[[2,1],[2,3]],tablette:[[2,1],[2,4]]},h={parallax:c("smartphone"),sizes:Object.assign(Object.assign({},s(["fluid",[1,1],[3,3],u])),{smartphone:["fluid",[1,1],[3,3],[300,100],[300,250],g,[300,600],[320,120],[320,480],u]})};function m(e){return Object.assign(Object.assign({},h),{inarticlePosition:e,canSwitchToGrouped:"first"===e})}const v=d({sizes:Object.assign(Object.assign({},s([[1,1],[728,90],[970,250],[1e3,90],[1e3,200],[1e3,300]])),{smartphone:[[1,1],[300,50],[320,50],[320,100]]})},s([[1e3,260]])),b=d(v,{desktop:[...v.sizes.desktop,[5,5],[1e3,400]]}),w=v,y={parallax:c("smartphone"),autoRefresh:c("desktop"),sizes:Object.assign(Object.assign({},s([[300,250],[300,600]])),{smartphone:[[300,50],[300,250],[300,600],[320,50],[320,100],[320,480]]})},_=Object.assign(Object.assign({},y),{sizes:Object.assign(Object.assign({},y.sizes),{smartphone:[...y.sizes.smartphone,g]})}),O=d(y,a([[1,1]])),A={sizes:p,canContainCover:!0},j={sizes:a(["fluid",[1,1]])},k=Object.assign(Object.assign({},s(["fluid",[1,1],[3,3],[728,90]])),{smartphone:["fluid",[1,1],[3,3],[300,50],[300,100],[300,250],[300,600],[320,50],[320,100]]}),x={main:{grouped:{special:d(A,{desktop:[f]}),special_abo:Object.assign(Object.assign({},A),{modifier:"article_abonne"}),special_artferme:Object.assign(Object.assign({},A),{modifier:"article_ferme"}),mban_atf:b,mban_atf_artferme:Object.assign(Object.assign({},b),{modifier:"article_ferme"}),pave_atf:_},lazyload:{mban_mtf:w,mban_mtf2:{sizes:Object.assign(Object.assign({},s([[1e3,199]])),{smartphone:[[300,249]]})},mban_btf:w,pave_mtf:O,pave_mtf2:{sizes:Object.assign(Object.assign({},s([[191,144]])),{smartphone:[[300,249]]})},pave_btf:O,"pave_infinite_[n]":Object.assign({},O),inarticle:m("first"),inarticle_abo:Object.assign(Object.assign({},m("first")),{modifier:"article_abonne"}),inarticle_mtf:m("second"),inarticle_btf:m("third"),inarticle_pagemag:m("first"),inarticle_mtf_pagemag:m("second"),inarticle_btf_pagemag:m("third"),native:j,native_atf:j,"inarticle_infinite_[n]":Object.assign(Object.assign({},h),{infiniteConf:{overrideForFirst:{canSwitchToGrouped:!0,sizes:Object.assign(Object.assign({},h.sizes),{smartphone:h.sizes.smartphone})}}})}},diapo:{grouped:{"special-diapo":A,"mban-diapo_atf":v,"pave-diapo_atf":y,"pave-diapo":y},lazyload:{"mban-diapo_infinite_[n]":{sizes:k,parallax:c("smartphone"),infiniteConf:{overrideForFirst:{canSwitchToGrouped:!0,sizes:Object.assign(Object.assign(Object.assign({},k),a([u])),{smartphone:_.sizes.smartphone})}}},"pave-diapo_infinite_[n]":Object.assign({},O)}}};function E({tagId:e,device:t}){const n=e.replace(/_(\d+)$/,"_[n]"),i=n!==e,a=function(e){for(const t of o)for(const n of r){const i=x[t][n][e];if(i)return{conf:i,layer:t,requestStrategy:n}}return null}(n);if(a){const{conf:n,layer:o,requestStrategy:r}=a,{infiniteConf:s}=n,c=i?parseInt(e.replace(/.+_(\d+)$/,"$1"),10):null,l=s&&1===c&&s.overrideForFirst;return{requestStrategy:r,layer:o,modifier:n.modifier||null,sizes:(l?l.sizes:n.sizes)[t],autoRefresh:n.autoRefresh&&n.autoRefresh[t]||!1,parallax:n.parallax&&n.parallax[t]||!1,tagIdForInvcode:i?e.replace(/_(\d+)$/,""):e,canContainCover:n.canContainCover||!1,inArticlePosition:n.inarticlePosition||null,canSwitchToGrouped:(l?l.canSwitchToGrouped:n.canSwitchToGrouped)||!1,infinitePosition:c}}return null}(0,i.xH)(o.map((e=>(0,i.xH)(r.map((t=>Object.keys(x[e][t])))))))},250:(e,t,n)=>{n.d(t,{fq:()=>c,VC:()=>l,SX:()=>d,l9:()=>u,wg:()=>g,I9:()=>p,CL:()=>h,_x:()=>m});var i=n(620),o=n(789),r=n(192),a=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};function s(e){return new Promise((t=>{window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((()=>{e(),t()}))}))}function c(){window.performance.mark("FA-inject-gam-script"),(0,o.pW)("https://pagead2.googlesyndication.com/tag/js/gpt.js")}function l(e){return(0,i.Gp)("detect-gam-available"),new Promise((t=>{let n,o;function r(){return Object.keys(window.googletag||{}).length>1&&(window.clearInterval(n),window.clearTimeout(o),(0,i.Mu)("detect-gam-available"),t(!1),!0)}r()||(n=window.setInterval(r,50),o=window.setTimeout((()=>{(0,i.Mu)("detect-gam-available"),window.clearInterval(n),t(!0)}),e))}))}function d(){return s((()=>{window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().collapseEmptyDivs(),window.googletag.pubads().setCentering(!0),window.googletag.enableServices()}))}function u(e){return a(this,void 0,void 0,(function*(){const t=e.map((e=>e.tag)),n=Promise.all(t.map((e=>new Promise((t=>e.onRenderOnce(t)))))).then((()=>{}));return yield s((()=>{e.forEach((({tag:e,targetings:t})=>{e.setIdAttribute();const n=window.googletag.defineSlot((0,r.zk)(e),(0,r.FJ)(e),e.tagId);n.addService(window.googletag.pubads()),Object.entries(t).forEach((([e,t])=>{n.setTargeting(e,t)})),null!=e.conf.infinitePosition&&n.setTargeting("position",e.conf.infinitePosition)})),t.length&&window.googletag.display(t[0].tagId)})),n}))}function f(e){return window.googletag.pubads().getSlots().filter((t=>e.includes(t.getSlotElementId())))}function g(e){return a(this,void 0,void 0,(function*(){const t=e.map((e=>e.tag)),n=Promise.all(t.map((e=>new Promise((t=>e.onRenderOnce(t))))));return yield s((()=>{const n=f(t.map((e=>e.tagId)));window.googletag.destroySlots(n),u(e)})),n}))}function p(e){return s((()=>{const t=f(e.map((e=>e.tagId)));window.googletag.destroySlots(t)}))}function h(e,t,n){return s((()=>{window.googletag.pubads().addEventListener(t,(t=>{e===t.slot.getSlotId().getDomId()&&n(t)}))}))}function m(){return s((()=>window.googletag.openConsole()))}},514:(e,t,n)=>{n.d(t,{H:()=>o,C:()=>r});var i=n(321);function o({tags:e,device:t}){const n=function(e,t){if("smartphone"===t&&e.some((e=>"first"===e.conf.inArticlePosition))){const e=(0,i.MR)();if(e)return(0,i.p$)(e).length<=2}return!1}(e,t);e.forEach((e=>{null!==e.conf.inArticlePosition&&function({tag:e,isShortArticle:t}){if(e)try{const{container:n,paragraphAfter:o}=(0,i.dF)(e,t);n.insertBefore(e.node,o)}catch(t){t instanceof Error&&t.isAcceptableError?console.log(`[Figads] ${t.message}`):console.error(`[Figads] insert of ${e.tagId} failed`,t),e.disable()}}({tag:e,isShortArticle:n}),n&&"native_atf"===e.tagId&&(console.log("[Figads] Disabling native_atf to leave room for the inarticle"),e.disable())}))}function r(e){return e.some((e=>"first"===e.conf.inArticlePosition&&!e.disabled))}},321:(e,t,n)=>{function i(){return document.querySelector('[data-component="fig-content-body"]')}function o(e){return Array.from(e.querySelectorAll("p")).filter((t=>t.parentElement===e)).filter((e=>!!e.innerHTML&&e.innerHTML.replace(/\s|&nbsp;/gi,"").length>0))}function r(e,t){const n=e.tagId,r=function(e,t){switch(e.conf.inArticlePosition){case"first":return t?0:2;case"second":return 7;case"third":return 12;default:throw new Error(`[Figads] Not an inarticle : ${e.tagId}`)}}(e,t),a=i();if(!a)throw new Error("Cannot find inarticles container");const s=o(a);if(s.length<=r){const e=new Error(`Can't insert ${n} at index ${r}, found ${s.length} paragraphs`);throw e.isAcceptableError=!0,e}return{container:a,paragraphAfter:s[r]}}n.d(t,{MR:()=>i,p$:()=>o,dF:()=>r})},316:(e,t,n)=>{function i(){return!1}function o(e,t){let n=0;return function i(){const o=function(e){const t=e.conf.layer,n=e.figads.campaignRulesMap[t];if(n){const[t]=n;switch(t){case"exclu":case"inread":case"instream":case"excluluxe":return!0;case"couplagesimple":return"grouped"===e.requestStrategy}}return!1}(e);o||(function(e){const{top:t,bottom:n}=e.getBoundingClientRect(),i=n-t;return 1-(Math.min(Math.max(0,n-window.innerHeight),i)+Math.min(Math.max(0,-t),i))/i}(e.node)>.5&&"visible"===document.visibilityState&&n++,n>=15?t():setTimeout((()=>{i()}),1e3))}(),{reset:()=>{n=0},read:()=>n}}n.d(t,{M:()=>i,j:()=>o})},345:(e,t,n)=>{function i(){const e=document.createElement("style");e.className="figads_cln",document.head.appendChild(e),e.appendChild(document.createTextNode("body>img,body>span>img,._zbo_tag{clip-path:inset(0px);overflow: hidden;position: absolute;height: 1px;width: 1px;margin: -1px;}"))}function o(e){if(window.dataLayer)try{window.dataLayer.push({customCategorie:"autre",customAction:"adblock",customLabel:e,event:"customEventBU"})}catch(e){console.warn("[Figads] Failed to track",e)}}n.d(t,{W:()=>i,$:()=>o})}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={id:e,loaded:!1,exports:{}};return n[e].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=n,o.amdD=function(){throw new Error("define cannot be used indirect")},o.amdO={},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>"fgds-"+({53:"criteoService",268:"infinite",307:"mountDebugPanel",340:"hiddenFeatures"}[e]||e)+"-"+{53:"4dbedb49",236:"65fc86b6",268:"b9ec025e",307:"5cd6ddc4",340:"74f7d1cc"}[e]+".js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="figads:",o.l=(n,i,r,a)=>{if(e[n])e[n].push(i);else{var s,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+r){s=u;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+r),s.src=n),e[n]=[i];var f=(t,i)=>{s.onerror=s.onload=null,clearTimeout(g);var o=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(i))),t)return t(i)},g=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.p="https://static.lefigaro.fr/figads/",(()=>{var e={179:0};o.f.j=(t,n)=>{var i=o.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise(((n,o)=>i=e[t]=[n,o]));n.push(i[2]=r);var a=o.p+o.u(t),s=new Error;o.l(a,(n=>{if(o.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,r,[a,s,c]=n,l=0;if(a.some((t=>0!==e[t]))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);c&&c(o)}for(t&&t(n);l<a.length;l++)r=a[l],o.o(e,r)&&e[r]&&e[r][0](),e[a[l]]=0},n=self.webpackChunkfigads=self.webpackChunkfigads||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{var e=o(601),t=o(207);let n=!1;function i(){return"#figadsdebug"===window.location.hash}function r(e){return t=this,i=void 0,a=function*(){if(!n){n=!0;const{default:t}=yield Promise.all([o.e(236),o.e(307)]).then(o.bind(o,793));t(e)}},new((r=void 0)||(r=Promise))((function(e,n){function o(e){try{c(a.next(e))}catch(e){n(e)}}function s(e){try{c(a.throw(e))}catch(e){n(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}c((a=a.apply(t,i||[])).next())}));var t,i,r,a}var a=/iPhone/i,s=/iPod/i,c=/iPad/i,l=/\biOS-universal(?:.+)Mac\b/i,d=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,f=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,g=/Silk/i,p=/Windows Phone/i,h=/\bWindows(?:.+)ARM\b/i,m=/BlackBerry/i,v=/BB10/i,b=/Opera Mini/i,w=/\b(CriOS|Chrome)(?:.+)Mobile/i,y=/Mobile(?:.+)Firefox\b/i,_=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};var O=o(620);const A=new class{constructor(){this.isTaskRunning=!1,this.resolvesQueue=[]}waitForPermissionToRunTask(){return new Promise((e=>{this.isTaskRunning?this.resolvesQueue.push(e):(this.isTaskRunning=!0,e())}))}signalEndOfTask(){const e=this.resolvesQueue.shift();e?e():this.isTaskRunning=!1}};function j(e){return t=this,n=void 0,o=function*(){yield A.waitForPermissionToRunTask();const t=yield e();return A.signalEndOfTask(),t},new((i=void 0)||(i=Promise))((function(e,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}c((o=o.apply(t,n||[])).next())}));var t,n,i,o}var k=o(789),x=o(473),E=o(777),I=o(192),S=o(250);let P=!1,C=0,R=null;function F({tag:t}){C=window.scrollY,P||(requestAnimationFrame((()=>{const n=C>function(t){let n=173;if(t===e.ZS.F1_BOURSE||t===e.ZS.DATABOURSE){const e=document.querySelector(".fig-header-widget");e&&(n+=e.offsetHeight)}return n}(t.site)?"fixed":"relative",i=document.getElementById("fig-page");R!==n&&(i&&("fixed"===n?(0,k.A_)(i,{marginTop:"220px"}):(0,k.A_)(i,{marginTop:"0"})),(0,k.A_)(t.node,{position:n,top:"0"}),R=n),P=!1})),P=!0)}function T({tag:e}){(function({tag:e}){return(0,k.Mf)(e.site)})({tag:e})&&(F({tag:e}),document.addEventListener("scroll",(()=>{F({tag:e})}),{passive:!0}))}function M(e){window.Hubvisor=window.Hubvisor||{},window.Hubvisor.cmd=window.Hubvisor.cmd||[],window.Hubvisor.cmd.push(e)}function $(e){return console.error("[Figads] Something went wrong with Hubvisor",e),{}}function D(e){const t=e.map((({tag:e,targetings:t})=>({invcode:(0,I.I7)(e),targeting:t,id:e.tagId,allowedSizes:(0,I.FJ)(e)})));window.Hubvisor("extra:set-invcodes",t)}function H({tags:e,resolve:t,reject:n}){window.Hubvisor("register-bids-handler",(i=>{try{const n={};i.forEach((({placementId:t,targetings:i})=>{e.some((e=>e.tagId===t))&&(n[t]=i)})),t(n)}catch(e){n(e)}}),(e=>{e&&n(e)}))}function z(t){const n=t.map((e=>e.tag));return new Promise(((i,o)=>{e.N5?M((()=>{D(t),H({tags:n,resolve:i,reject:o}),window.Hubvisor("refresh",n.map((e=>e.tagId)))})):i({})})).catch($)}function U({tags:e,figads:t,isAutoRefresh:n}){return i=this,o=void 0,a=function*(){e.forEach((e=>{e.markedForAutoRefresh=n,n||e.resetAutoRefreshCounter(),t.targetingsMap.byLayer[e.conf.layer].hubvisor[e.tagId]={}}));const i=yield z((0,E.KK)(t,e));return e.forEach((e=>{const n=e.conf.layer;t.targetingsMap.byLayer[n].hubvisor=Object.assign(Object.assign({},t.targetingsMap.byLayer[n].hubvisor),i)})),(0,S.wg)((0,E.KK)(t,e))},new((r=void 0)||(r=Promise))((function(e,t){function n(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof r?i:new r((function(e){e(i)}))).then(n,s)}c((a=a.apply(i,o||[])).next())}));var i,o,r,a}var L=o(463);function q(e){const t=[...document.querySelectorAll(e)];t.length&&console.log(`[Figads] Deleting ${t.length} div(s): ${e}`),t.forEach((e=>e.remove()))}var N=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};function B(e,t){return n=this,i=void 0,a=function*(){!function(e,t){if("main"===e)switch(q(".fig-ad-content--pave_infinite_1"),t.pageType){case"grid":case"channel_grid":case"tonight_grid":case"now_grid":case"program_news":case"series_news":case"tv_season":q(".fig-ad-content--inarticle"),q(".fig-ad-content--inarticle_mtf"),q(".fig-ad-content--inarticle_btf")}else"diapo"===e&&(q(".fig-ad-content--pave-diapo_infinite_1"),q(".fig-slideshow-modal .fig-slideshow-modal__item--mban"))}(t,e),yield function(e,t){return N(this,void 0,void 0,(function*(){function n(){return N(this,void 0,void 0,(function*(){return yield o.e(268).then(o.bind(o,714))}))}if((0,k.Mf)(t.site))if("main"===e){const{pageType:e}=t,i=["article","news_flash","recipe","grid","channel_grid","tonight_grid","now_grid","program_news","series_news"],o=["grid","channel_grid","tonight_grid","now_grid","program_news","series_news","tv_season"];function r(e){return o.includes(e)}e&&i.includes(e)&&(yield n()).createInfiniteDivsForType("rightColumn"),e&&r(e)&&(yield n()).createInfiniteDivsForType(e)}else{const e=yield n();e.createInfiniteDivsForType("diapoRight"),e.createInfiniteDivsForType("diapoInter")}}))}(t,e);const n=e.device,i=Array.from(document.querySelectorAll("[data-figtag]"));return function(e){const t=[];return e.forEach((e=>{t.some((({id:t})=>t===e.id))||t.push(e)})),t}((0,k.n$)(i,(e=>{if(!(e instanceof HTMLElement))return null;const t=function(e){const t=e.getAttribute("data-figtag");if("habillage"===t)return"special";if("intrusif-diapo"===t)return"special-diapo";if("intrusif_artferme"===t)return"special_artferme";if(!t)throw new Error("[Figads] attribute data-figtag not found");return t}(e),i=(0,L.tp)({tagId:t,device:n});return i?{node:e,id:t,conf:i}:(console.warn(`[Figads] Unknown tag id : ${t}, we will ignore it`),null)}))).filter((({conf:e})=>e.layer===t||!t)).filter((({node:e})=>{const t=e.getAttribute("data-figdevice");return!t||t===n})).filter((({id:t})=>!e.tag(t))).map((({id:e,node:t,conf:n})=>({tagId:e,node:t,conf:n})))},new((r=void 0)||(r=Promise))((function(e,t){function o(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}c((a=a.apply(n,i||[])).next())}));var n,i,r,a}var G=o(345);function V(e,t){return!!e&&2===e.length&&2===t.length&&e[0]===t[0]&&e[1]===t[1]}function X(e,t){return t.some((t=>V(e,t)))}function K(e){return e.conf.parallax}var Z=o(316);const W=["exclu","inread","instream","couplagesimple","habillageseul","excluluxe"];function Q(e){const t=/regieApi\.triggerRule\("(.*)", "(.*)"\)/g.exec(e);if(t&&t.length>=3){const e=t[1],n=t[2];if(W.includes(e))return[e,n]}return null}var J=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};function Y(e){return J(this,void 0,void 0,(function*(){try{(0,O.Gp)("1plusX-V1");const{gdprApplies:t,tcString:n}=e,i=`https://profiles.tagger.opecloud.com/api/v1/lefigaro/profile?url=${encodeURIComponent(window.location.href)}&gdpr_applies=${t?"1":"0"}${n?`&consent_string=${encodeURIComponent(n)}`:""}`,o=yield fetch(i,{credentials:"include",headers:{referrerPolicy:"no-referrer-when-downgrade"}});if(!o.ok)throw new Error(`1plusx V1 returned ${o.status}`);if(204===o.status)return console.warn("[Figads] 1plusX V1 gave no result"),{};const{s:r,t:a}=yield o.json();return{"1plusX":r,ctx1plusx:a}}catch(e){return console.error("[Figads] 1plusX V1 failed",e),{}}finally{(0,O.Mu)("1plusX-V1")}}))}function ee(e){return J(this,void 0,void 0,(function*(){if(!e.allPurposesAccepted)return{};try{(0,O.Gp)("1plusX-V2");const e="https://tagger.opecloud.com/lefigaro/v2/uid",t=yield fetch(e,{credentials:"include"});if(!t.ok)throw new Error(`1plusx V2 returned ${t.status}`);if(204===t.status)return console.warn("[Figads] 1plusX V2 gave no result"),{};const n=yield t.json();return{"1plusx_uid0":n["part-0"],"1plusx_uid1":n["part-1"]}}catch(e){return console.error("[Figads] 1plusX V2 failed",e),{}}finally{(0,O.Mu)("1plusX-V2")}}))}var te=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};function ne(){return te(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{window.__iasPET=window.__iasPET||{},window.__iasPET.queue=window.__iasPET.queue||[],window.__iasPET.pubId=925755,window.__iasPET.start||(0,k.pW)("https://cdn.adsafeprotected.com/iasPET.1.js"),window.__iasPET.queue.push({adSlots:[{adSlotId:"-",size:[1,1],adUnitPath:"-"}],dataHandler:n=>{try{const{brandSafety:t,custom:i,fr:o}=JSON.parse(n),r=Object.assign(Object.assign(Object.assign({},t),i),{fr:o});e(r)}catch(e){t(e)}}})}))}))}var ie=o(514),oe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};function re(t,n,i,{consentless:o}={consentless:!1}){return oe(this,void 0,void 0,(function*(){const r="main"===n,a=i.map((e=>new class{constructor({figads:e,tagInfo:t}){this.eventSystem=function(){const e={};function t(t){e[t]||(e[t]=[])}return{emit(n){t(n),e[n].forEach((e=>{e()}))},onEvent(n,i,{once:o=!1}={}){t(n);let r=!1;e[n].push((()=>{r&&o||(r=!0,i())}))}}}(),this.format=null,this.figaroAdUnit=null,this.figaroResponse=null,this.gamResponse=null,this.hubvisorResponse=null,this.markedForAutoRefresh=!1,this.resetAutoRefreshCounter=()=>{},this.readAutoRefreshCounter=()=>null,this.disabled=!1,this.habillageCallback=()=>{},this.emptyCallback=()=>{},this.onRenderOnce=e=>this.eventSystem.onEvent("render",e,{once:!0});const{pageId:n,device:i,site:o,habillageCallback:r,emptyCallback:a}=e,{node:s,tagId:c,conf:l,disabled:d}=t;this.figads=e,this.node=s,this.device=i,this.pageId=n,this.site=o,this.habillageCallback=r,this.emptyCallback=a,this.tagId=c,this.conf=l,this.requestStrategy=this.conf.requestStrategy,this.creativeNode=K(this)?function(e){const t=document.createElement("div");return e.appendChild(t),t}(s):s,(0,S.CL)(c,"slotRenderEnded",(e=>{this.gamResponse=e,this.eventSystem.emit(this.gamResponse.isEmpty?"empty_render":"filled_render"),this.eventSystem.emit("render")})),this.eventSystem.onEvent("filled_render",(()=>{if(this.format=function(e){if(e.hubvisorResponse)return"special"===e.tagId?"habillage_hubvisor":"hubvisor";const t=e.gamResponse?e.gamResponse.size:null,n=e.gamResponse&&e.gamResponse.slot&&e.gamResponse.slot.getHtml();return n&&n.includes("Hubvisor")?"special"===e.tagId?"habillage_hubvisor":"hubvisor":V(t,L.dg)?"adyoulike":V(t,L.dV)?"inread":V(t,L.Ez)?"habillage_gag":X(t,(0,k.xH)(Object.values(L.il)))&&e.conf.canContainCover?"cover":X(t,[[1,1],[5,5]])?"pixel_vide":n&&n.includes('<div class="attribution">Ad</div>')?"native":"basic"}(this),"habillage_gag"!==this.format&&"habillage_hubvisor"!==this.format||!this.habillageCallback||this.habillageCallback(),"habillage_hubvisor"===this.format&&(Object.assign(this.node.style,{width:"1800px",marginLeft:"50%",transform:"translateX(-50%)",height:"220px",position:"relative"}),T({tag:this})),K(t=this)&&t.gamResponse&&t.gamResponse.size[1]>300&&"basic"===t.format&&function(e){(0,k.A_)(e.node,{height:"320px",position:"relative"}),(0,k.A_)(e.creativeNode,{height:"320px",position:"absolute",width:"100%",clip:"rect(0, auto, auto, 0)",marginLeft:"0"});const t=e.creativeNode.firstElementChild;t&&t instanceof HTMLElement&&(0,k.A_)(t,{top:"9vh",position:"fixed",left:"50%",width:"100%",transform:"translateX(-50%)"})}(this),"pixel_vide"===this.format&&this.onVisuallyEmpty(),"cover"===this.format&&this.hideSpecialForCover(),this.conf.autoRefresh){const{reset:t,read:n}=(0,Z.j)(this,(()=>{U({tags:[this],figads:e,isAutoRefresh:!0})}));this.resetAutoRefreshCounter=t,this.readAutoRefreshCounter=n}var t})),this.eventSystem.onEvent("empty_render",(()=>{this.onVisuallyEmpty()})),d&&this.disable()}onHubvisorConsentlessRender({filled:e,size:t}){if(e){if(!t)throw new Error("Size missing from hubvisor");this.hubvisorResponse={size:t},this.eventSystem.emit("filled_render")}else this.hubvisorResponse="empty",this.eventSystem.emit("empty_render")}setIdAttribute(){this.creativeNode.id=this.tagId}disable(){this.disabled=!0,this.onVisuallyEmpty()}onVisuallyEmpty(){(0,k.A_)(this.node,{display:"none"}),this.emptyCallback({id:this.tagId,node:this.node})}hideSpecialForCover(){(0,k.A_)(this.node,{maxHeight:"0"})}status(){return this.disabled?"disabled":this.gamResponse||this.hubvisorResponse?this.gamResponse&&this.gamResponse.isEmpty||"empty"===this.hubvisorResponse?"empty":"filled":"pending"}}({figads:t,tagInfo:e})));function s(e,t){return oe(this,void 0,void 0,(function*(){return r?(0,O.Ol)(e,t):t()}))}function c(){return oe(this,void 0,void 0,(function*(){t.targetingsMap.onePlusX=yield function(e){return J(this,void 0,void 0,(function*(){const[t,n]=yield Promise.all([Y(e),ee(e)]);return Object.assign(Object.assign({},t),n)}))}(t.consentData)}))}function l(){return oe(this,void 0,void 0,(function*(){t.targetingsMap.ias=yield function(){return te(this,void 0,void 0,(function*(){return(0,O.Gp)("ias"),(0,k.Fb)(3e3,ne).catch((e=>(console.error("[Figads] Something went wrong with IAS",e),{}))).then((e=>((0,O.Mu)("ias"),e)))}))}()}))}function d(){return oe(this,void 0,void 0,(function*(){if(r)return Promise.all([c(),l()])}))}function u(){return oe(this,void 0,void 0,(function*(){const i=(0,E.KK)(t,a);return s("hubvisor",(()=>oe(this,void 0,void 0,(function*(){t.targetingsMap.byLayer[n].hubvisor=yield"diapo"===n?z(i):function(t){const n=t.map((e=>e.tag));return new Promise(((i,o)=>{e.N5?(n.forEach((e=>e.setIdAttribute())),M((()=>{D(t),H({tags:n,resolve:i,reject:o})})),(0,k.pW)("https://cdn.hubvisor.io/wrapper/01BYK28ENND8X5G8K0AJ2DPK9E/hubvisor.js")):i({})})).catch($)}(i)}))))}))}if((0,E.S1)(a),(0,E.IP)(n,a),r&&t.moveInarticles&&(0,ie.H)({tags:a,device:t.device}),L.mN.forEach((e=>{t.tagsMap[n][e].push(...a.filter((t=>t.requestStrategy===e)))})),t.targetingsMap.byLayer[n].misc=(0,E.IK)({consentData:t.consentData,figads:t,layer:n}),o)yield d(),yield u();else{yield Promise.all([d(),u()]);const e=(0,E.KK)(t,t.tagsMap[n].grouped.filter((e=>!e.disabled)));yield s("gam",(()=>oe(this,void 0,void 0,(function*(){yield(0,S.l9)(e)})))),function(e,t){const n=function(e){for(const t of e){const e=t.gamResponse&&t.gamResponse.slot&&t.gamResponse.slot.getHtml();if(e){const t=Q(e);if(t)return t}}return null}(e.tagsMap[t].grouped);e.campaignRulesMap[t]=n,e.targetingsMap.byLayer[t].rule=function(e){if(e){const[t,n]=e;switch(t){case"exclu":return{exclu:"yes"};case"inread":return{exclu:"inread",inread:n};case"instream":return{exclu:"instream",instream:n};case"excluluxe":return{exclu:"excluluxe"}}}return{}}(n)}(t,n),t.tagsMap[n].lazyload.filter((e=>!e.disabled)).forEach((e=>{!function({node:e,margin:t="100px",once:n=!0},i){const o=new IntersectionObserver((([{isIntersecting:t}])=>{t&&(i(),n&&o.unobserve(e))}),{root:null,rootMargin:t,threshold:0});o.observe(e)}({node:e.node},(()=>{j((()=>oe(this,void 0,void 0,(function*(){const n={tag:e,targetings:(0,E.tM)(t,e)};yield(0,S.l9)([n])}))))}))}))}}))}var ae=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};class se{constructor(){this.site=e.ZS.DEFAULT,this.pageType=null,this.device="desktop",this.pageId="",this.mode=null,this.emptyCallback=()=>{},this.habillageCallback=()=>{},this.onEventCallback=null,this.stickyConfCallback=()=>{},this.moveInarticles=!0,this.flow="standard",this.baseUrl=null,this.tagsMap={main:{grouped:[],lazyload:[]},diapo:{grouped:[],lazyload:[]}},this.targetingsMap={siteKeywords:{},onePlusX:{},ias:{},byLayer:{main:{misc:{},hubvisor:{},rule:{}},diapo:{misc:{},hubvisor:{},rule:{}}}},this.campaignRulesMap={main:null,diapo:null},this.consentData=x.o,this._infoForPlayerIsReady=new k.BH,this.reload=this.loadDiapo,this.clean=this.unloadDiapo}init({keywords:e={},pageId:n,site:o,baseUrl:A=null,pageType:j=null,habillageCallback:k=(()=>{}),emptyCallback:x=(()=>{}),stickyConfCallback:I=(()=>{}),moveInarticles:S=!0}){(0,O.Ol)("init()",(()=>ae(this,void 0,void 0,(function*(){var O;this.targetingsMap.siteKeywords=(0,E.X9)(e),this.pageId=(0,E.XI)(n),this.habillageCallback=k,this.emptyCallback=x,this.stickyConfCallback=I,this.moveInarticles=S,this.site=(0,E.UR)({site:o}),this.pageType=j,this.baseUrl=(0,E.n0)({baseUrl:A}),this.device=function(){const{phone:e,tablet:t}=function(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=t.userAgent,i=n.split("[FBAN");void 0!==i[1]&&(n=i[0]),void 0!==(i=n.split("Twitter"))[1]&&(n=i[0]);var o=function(e){return function(t){return t.test(e)}}(n),r={apple:{phone:o(a)&&!o(p),ipod:o(s),tablet:!o(a)&&(o(c)||_(t))&&!o(p),universal:o(l),device:(o(a)||o(s)||o(c)||o(l)||_(t))&&!o(p)},amazon:{phone:o(f),tablet:!o(f)&&o(g),device:o(f)||o(g)},android:{phone:!o(p)&&o(f)||!o(p)&&o(d),tablet:!o(p)&&!o(f)&&!o(d)&&(o(g)||o(u)),device:!o(p)&&(o(f)||o(g)||o(d)||o(u))||o(/\bokhttp\b/i)},windows:{phone:o(p),tablet:o(h),device:o(p)||o(h)},other:{blackberry:o(m),blackberry10:o(v),opera:o(b),firefox:o(y),chrome:o(w),device:o(m)||o(v)||o(b)||o(y)||o(w)},any:!1,phone:!1,tablet:!1};return r.any=r.apple.device||r.android.device||r.windows.device||r.other.device,r.phone=r.apple.phone||r.android.phone||r.windows.phone,r.tablet=r.apple.tablet||r.android.tablet||r.windows.tablet,r}(navigator.userAgent);return e?"smartphone":t?"tablette":"desktop"}(),O=this,i()||"1"===t.Z.figadsdebug?r(O):window.addEventListener("hashchange",(()=>{i()&&r(O)}),!1)}))))}load(){return ae(this,void 0,void 0,(function*(){yield j((()=>ae(this,void 0,void 0,(function*(){return(0,O.Ol)("load()",(()=>ae(this,void 0,void 0,(function*(){const{device:e,site:t}=this;if((0,E.$Y)(t)){(0,G.W)(),(0,O.Gp)("setup");const{flow:t,consentData:n}=yield(0,E.kI)();this.consentData=n,(0,O.Mu)("setup");const i="main";yield(0,E.Ew)(i);const o=yield B(this,i);switch(this.flow=o.filter((e=>!e.disabled)).length?t:"nothing",t){case"standard":yield(0,S.SX)(),yield re(this,i,o);break;case"hubvisor_consentless":yield re(this,i,o,{consentless:!0});break;case"criteo":yield(0,E.Ov)({tagInfos:o,device:e,emptyCallback:this.emptyCallback})}"nothing"!==t&&(0,E.qh)(this.site)}this._infoForPlayerIsReady.resolve()}))))})))),(0,O.vB)("everything")}))}displayHabillage({clickUrl:e,mediaUrl:t,mediaHeight:n,mediaWidth:i,vOffset:o}){const r=this.tag("special");r&&(({tag:e,clickUrl:t,mediaUrl:n,mediaHeight:i,mediaWidth:o,vOffset:r})=>{(0,k.A_)(e.node,{width:`${o}px`,marginLeft:"50%",transform:"translateX(-50%)",height:`${r}px`,position:"relative"}),(({tag:e,clickUrl:t,mediaUrl:n,mediaHeight:i})=>{const o=document.createElement("div");Object.assign(o.style,{backgroundImage:`url("${n}")`,backgroundRepeat:"no-repeat",backgroundPosition:"50% 0",position:"absolute",top:0,left:0,width:"100%",height:`${i}px`,pointerEvents:"all",cursor:"pointer"}),o.onclick=()=>window.open(t),e.node.appendChild(o)})({tag:e,clickUrl:t,mediaUrl:n,mediaHeight:i}),T({tag:e})})({tag:r,clickUrl:e,mediaUrl:t,mediaHeight:n,mediaWidth:i,vOffset:o})}onHubvisorDisplay({id:e,size:t,event:n}){const i=this.tag(e);if(i){const e=!(n&&"noAd"===n);i.onHubvisorConsentlessRender(Object.assign({filled:e},e?{size:t}:null))}else console.error("[Figads] Did not recognize tag id from Hubvisor",e)}loadDiapo(){return ae(this,void 0,void 0,(function*(){return j((()=>ae(this,void 0,void 0,(function*(){const e="diapo";if(yield(0,E.Ew)(e),yield(0,E.yl)(this,e),"standard"===this.flow){const t=yield B(this,e);t.filter((e=>!e.disabled)).length&&(yield re(this,e,t))}}))))}))}unloadDiapo(){return ae(this,void 0,void 0,(function*(){return j((()=>ae(this,void 0,void 0,(function*(){yield(0,E.yl)(this,"diapo")}))))}))}refresh(e=[]){return ae(this,void 0,void 0,(function*(){return j((()=>ae(this,void 0,void 0,(function*(){const t=this.tags(e).filter((e=>!e.disabled&&"pending"!==e.status()));"standard"===this.flow&&t.length&&(yield U({tags:t,figads:this,isAutoRefresh:!1}))}))))}))}getInfoForPlayer(){return ae(this,void 0,void 0,(function*(){return yield this._infoForPlayerIsReady.promise,{pageId:this.pageId,siteForAdUnit:(0,I.QV)({site:this.site,modifier:null}),device:this.device,support:(0,I.sb)(this.device),gamNetworkCode:e.TD,"1plusXdata":{},globalTargetings:(0,E.kj)(this,"main")}}))}tag(e){const t=this.tags([e]);return t.length?t[0]:null}tags(e){return this.allTags().filter((t=>e.includes(t.tagId)))}allTags(){return(0,k.xH)(Object.values(this.tagsMap).map((e=>(0,k.xH)(Object.values(e)))))}}(0,O.vB)("figads-js-load"),function(){const e=window.figads&&Array.isArray(window.figads.queue)?window.figads.queue:[],t=new se;window.figads={init:t.init.bind(t),load:t.load.bind(t),loadDiapo:t.loadDiapo.bind(t),unloadDiapo:t.unloadDiapo.bind(t),reload:t.reload.bind(t),clean:t.clean.bind(t),refresh:t.refresh.bind(t),getInfoForPlayer:t.getInfoForPlayer.bind(t),queue:{push:e=>{e()}},_F:t},window.regieApi={setupHabillage:t.displayHabillage.bind(t),triggerRule:()=>{},onHubvisorDisplay:t.onHubvisorDisplay.bind(t)},e.forEach((e=>e()))}()})()})();